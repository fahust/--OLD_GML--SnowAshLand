<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_npc3</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-99</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_speed = 0.5+random(0.3)
dialon = 0
prisonier = 0
blablaphrases = ""
alphadecalstext = 0
name = ""

headskin = choose(1,2,3,4,5,6,7)

mode2 = 5

str = ""
i = 0
global.question = 0
global.choice = 0
global.reponse = 0
global.nodoublebox = 0
imagebase = image_angle
piecedarme1 = 0
debutconvers = 0
finconvers = 0

alarm[0] = 20

alarm[0] = 50




blablaphrases = ""
blablaquestnow = 0
timequest = 0
blablasplit[0] = ""
blablasplit[1] = ""
blablasplit[2] = ""
blablasplit[3] = ""
blablasplit[4] = ""
blablasplit[5] = ""
blablasplit[6] = ""
blablasplit[7] = ""
blablasplit[8] = ""
blablasplit[9] = ""
blablasplit[10] = ""
splitquest = 0





</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string></string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
//instance_create(-10000,-10000,obj_reparateurdarme)
//instance_create(-10000,-10000,obj_armurier)

if prisonier = 1 {if obj_controllerstalker.idlibere1 = 1 {instance_destroy();}  }
if prisonier = 2 {if obj_controllerstalker.idlibere2 = 1 {instance_destroy();}  }
if prisonier = 3 {if obj_controllerstalker.idlibere3 = 1 {instance_destroy();}  }
if prisonier = 4 {if obj_controllerstalker.idlibere4 = 1 {instance_destroy();}  }
if prisonier = 5 {if obj_controllerstalker.idlibere5 = 1 {instance_destroy();}  }
if prisonier = 6 {if obj_controllerstalker.idlibere6 = 1 {instance_destroy();}  }
if prisonier = 7 {if obj_controllerstalker.idlibere7 = 1 {instance_destroy();}  }
if prisonier = 8 {if obj_controllerstalker.idlibere8 = 1 {instance_destroy();}  }
if prisonier = 9 {if obj_controllerstalker.idlibere9 = 1 {instance_destroy();}  }
if prisonier = 10 {if obj_controllerstalker.idlibere10 = 1 {instance_destroy();}  }
if prisonier = 11 {if obj_controllerstalker.idlibere11 = 1 {instance_destroy();}  }
if prisonier = 12 {if obj_controllerstalker.idlibere12 = 1 {instance_destroy();}  }
if prisonier = 13 {if obj_controllerstalker.idlibere13 = 1 {instance_destroy();}  }
if prisonier = 14 {if obj_controllerstalker.idlibere14 = 1 {instance_destroy();}  }
if prisonier = 15 {if obj_controllerstalker.idlibere15 = 1 {instance_destroy();}  }
if prisonier = 16 {if obj_controllerstalker.idlibere16 = 1 {instance_destroy();}  }
if prisonier = 17 {if obj_controllerstalker.idlibere17 = 1 {instance_destroy();}  }
if prisonier = 18 {if obj_controllerstalker.idlibere18 = 1 {instance_destroy();}  }
if prisonier = 19 {if obj_controllerstalker.idlibere19 = 1 {instance_destroy();}  }
if prisonier = 20 {if obj_controllerstalker.idlibere20 = 1 {instance_destroy();}  }
if prisonier = 21 {if obj_controllerstalker.idlibere21 = 1 {instance_destroy();}  }
if prisonier = 22 {if obj_controllerstalker.idlibere22 = 1 {instance_destroy();}  }
if prisonier = 23 {if obj_controllerstalker.idlibere23 = 1 {instance_destroy();}  }
if prisonier = 24 {if obj_controllerstalker.idlibere24 = 1 {instance_destroy();}  }
if prisonier = 25 {if obj_controllerstalker.idlibere25 = 1 {instance_destroy();}  }
if prisonier = 26 {if obj_controllerstalker.idlibere26 = 1 {instance_destroy();}  }
if prisonier = 27 {if obj_controllerstalker.idlibere27 = 1 {instance_destroy();}  }
if prisonier = 28 {if obj_controllerstalker.idlibere28 = 1 {instance_destroy();}  }
if prisonier = 29 {if obj_controllerstalker.idlibere29 = 1 {instance_destroy();}  }
if prisonier = 30 {if obj_controllerstalker.idlibere30 = 1 {instance_destroy();}  }
if prisonier = 31 {if obj_controllerstalker.idlibere31 = 1 {instance_destroy();}  }
if prisonier = 32 {if obj_controllerstalker.idlibere32 = 1 {instance_destroy();}  }
if prisonier = 33 {if obj_controllerstalker.idlibere33 = 1 {instance_destroy();}  }
if prisonier = 34 {if obj_controllerstalker.idlibere34 = 1 {instance_destroy();}  }
if prisonier = 35 {if obj_controllerstalker.idlibere35 = 1 {instance_destroy();}  }
if prisonier = 36 {if obj_controllerstalker.idlibere36 = 1 {instance_destroy();}  }
if prisonier = 37 {if obj_controllerstalker.idlibere37 = 1 {instance_destroy();}  }
if prisonier = 38 {if obj_controllerstalker.idlibere38 = 1 {instance_destroy();}  }
if prisonier = 39 {if obj_controllerstalker.idlibere39 = 1 {instance_destroy();}  }
if prisonier = 40 {if obj_controllerstalker.idlibere40 = 1 {instance_destroy();}  }
if prisonier = 41 {if obj_controllerstalker.idlibere41 = 1 {instance_destroy();}  }
if prisonier = 42 {if obj_controllerstalker.idlibere42 = 1 {instance_destroy();}  }
if prisonier = 43 {if obj_controllerstalker.idlibere43 = 1 {instance_destroy();}  }
if prisonier = 44 {if obj_controllerstalker.idlibere44 = 1 {instance_destroy();}  }
if prisonier = 45 {if obj_controllerstalker.idlibere45 = 1 {instance_destroy();}  }
if prisonier = 46 {if obj_controllerstalker.idlibere46 = 1 {instance_destroy();}  }
if prisonier = 47 {if obj_controllerstalker.idlibere47 = 1 {instance_destroy();}  }
if prisonier = 48 {if obj_controllerstalker.idlibere48 = 1 {instance_destroy();}  }
if prisonier = 49 {if obj_controllerstalker.idlibere49 = 1 {instance_destroy();}  }
if prisonier = 50 {if obj_controllerstalker.idlibere50 = 1 {instance_destroy();} }




</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//if point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; 150 {

if prisonier &gt;= 250 { 
quest = prisonier
}else{
quest = prisonier+149
}


blablaquestnow = 0
if is_undefined(ds_grid_get(obj_quest.questgrid,20, quest)) {}else{
if ds_grid_get(obj_quest.questgrid,7, quest) &lt;= obj_zombie.level 
{//
if ds_grid_get(obj_quest.questgrid,10, quest) = 1 {
if point_distance(x,y,mouse_x,mouse_y) &lt; 70 {
blablaquestnow = 1
image_angle = point_direction(x,y,obj_zombie.x,obj_zombie.y)
//first = string_split2("/",ds_grid_get(obj_quest.questgrid,9, false)
varstr = ds_grid_get(obj_quest.questgrid,20, quest)
//show_message(varstr)
string_split2(varstr)
strlgt = string_length(blablasplit[splitquest])
//blablanow = ds_grid_get(obj_quest.questgrid,9, idpoto)
//blablanow = splits[0]
if blablasplit[splitquest] = "" {}else{
if keyboard_check_pressed(ord("E")) {splitquest += 1;timequest = 0;}
if timequest &lt; strlgt*4 {timequest += 1}else{timequest = 0;splitquest += 1 }}
blablaphrases = blablasplit[splitquest]
//show_message(timequest)
//show_message(splitquest)
//show_message(blablasplit[splitquest])
if blablaphrases = "" {
}
}

}}}

if dialon = 1 {distdial = 100}else{distdial = 80}

if point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; distdial {
dialon = 1
image_angle=point_direction(x,y,obj_zombie.x,obj_zombie.y)
if global.language = 1 {obj_cursor.infoall = "Appuie sur 'E' pour liberer"}else
if global.language = 2 {obj_cursor.infoall = "Push 'E' to freed"}
 }else{
 dialon = 0
 }

//echap
if dialon = 1 {
//if instance_exists(obj_armurier){obj_armurier.prisonier = other.prisonier}

if point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; 130 &amp;&amp; keyboard_check_pressed(ord("E"))
&amp;&amp; ds_grid_get(obj_quest.questgrid, 10, quest) = 1 
 &amp;&amp; blablaphrases = "" &amp;&amp;  point_distance(x,y,mouse_x,mouse_y) &lt; 70 {

//if instance_exists(obj_questinfo){}else{
splitquest = 0
questinfovar = ds_grid_get(obj_quest.questgrid,3,quest)
with(instance_create(x,y,obj_questinfo)){
nbrquestinfo = instance_number(obj_questinfo) 
alarm[1] = 1+(200*nbrquestinfo)
questinfovar = other.questinfovar
finished = 1
quest = other.quest
}

obj_zombie.karma += ds_grid_get(obj_quest.questgrid,5, quest)
ds_grid_set(obj_quest.questgrid, 10, quest,2)//VALIDER LA QUETE
ds_grid_set(obj_quest.questgrid, 19, quest,4)//la mÃªttre dans les quetes fini
with(instance_create(obj_zombie.x,obj_zombie.y,obj_lootobj)){itemloot = ds_grid_get(obj_quest.questgrid,6, other.quest)}
with(obj_infoloot){//ET EN DONNER L INFO
ds_map_add(lootinfods,string(0),"Quest finished : "
+string(ds_grid_get(obj_quest.questgrid,3, other.quest)))
alarmloot[0] = 800
ds_map_add(lootinfods,string(1),"Reward K : "
+string(ds_grid_get(obj_quest.questgrid,5, other.quest)))
alarmloot[1] = 800
    }


if prisonier = 1 {obj_controllerstalker.idlibere1 = 1 }
if prisonier = 2 {obj_controllerstalker.idlibere2 = 1 }
if prisonier = 3 {obj_controllerstalker.idlibere3 = 1 }
if prisonier = 4 {obj_controllerstalker.idlibere4 = 1 }
if prisonier = 5 {obj_controllerstalker.idlibere5 = 1 }
if prisonier = 6 {obj_controllerstalker.idlibere6 = 1 }
if prisonier = 7 {obj_controllerstalker.idlibere7 = 1 }
if prisonier = 8 {obj_controllerstalker.idlibere8 = 1 }
if prisonier = 9 {obj_controllerstalker.idlibere9 = 1 }
if prisonier = 10 {obj_controllerstalker.idlibere10 = 1 }
if prisonier = 11 {obj_controllerstalker.idlibere11 = 1 }
if prisonier = 12 {obj_controllerstalker.idlibere12 = 1 }
if prisonier = 13 {obj_controllerstalker.idlibere13 = 1 }
if prisonier = 14 {obj_controllerstalker.idlibere14 = 1 }
if prisonier = 15 {obj_controllerstalker.idlibere15 = 1 }
if prisonier = 16 {obj_controllerstalker.idlibere16 = 1 }
if prisonier = 17 {obj_controllerstalker.idlibere17 = 1 }
if prisonier = 18 {obj_controllerstalker.idlibere18 = 1 }
if prisonier = 19 {obj_controllerstalker.idlibere19 = 1 }
if prisonier = 20 {obj_controllerstalker.idlibere20 = 1 }
if prisonier = 21 {obj_controllerstalker.idlibere21 = 1 }
if prisonier = 22 {obj_controllerstalker.idlibere22 = 1 }
if prisonier = 23 {obj_controllerstalker.idlibere23 = 1 }
if prisonier = 24 {obj_controllerstalker.idlibere24 = 1 }
if prisonier = 25 {obj_controllerstalker.idlibere25 = 1 }
if prisonier = 26 {obj_controllerstalker.idlibere26 = 1 }
if prisonier = 27 {obj_controllerstalker.idlibere27 = 1 }
if prisonier = 28 {obj_controllerstalker.idlibere28 = 1 }
if prisonier = 29 {obj_controllerstalker.idlibere29 = 1 }
if prisonier = 30 {obj_controllerstalker.idlibere30 = 1 }
if prisonier = 31 {obj_controllerstalker.idlibere31 = 1 }
if prisonier = 32 {obj_controllerstalker.idlibere32 = 1 }
if prisonier = 33 {obj_controllerstalker.idlibere33 = 1 }
if prisonier = 34 {obj_controllerstalker.idlibere34 = 1 }
if prisonier = 35 {obj_controllerstalker.idlibere35 = 1 }
if prisonier = 36 {obj_controllerstalker.idlibere36 = 1 }
if prisonier = 37 {obj_controllerstalker.idlibere37 = 1 }
if prisonier = 38 {obj_controllerstalker.idlibere38 = 1 }
if prisonier = 39 {obj_controllerstalker.idlibere39 = 1 }
if prisonier = 40 {obj_controllerstalker.idlibere40 = 1 }
if prisonier = 41 {obj_controllerstalker.idlibere41 = 1 }
if prisonier = 42 {obj_controllerstalker.idlibere42 = 1 }
if prisonier = 43 {obj_controllerstalker.idlibere43 = 1 }
if prisonier = 44 {obj_controllerstalker.idlibere44 = 1 }
if prisonier = 45 {obj_controllerstalker.idlibere45 = 1 }
if prisonier = 46 {obj_controllerstalker.idlibere46 = 1 }
if prisonier = 47 {obj_controllerstalker.idlibere47 = 1 }
if prisonier = 48 {obj_controllerstalker.idlibere48 = 1 }
if prisonier = 49 {obj_controllerstalker.idlibere49 = 1 }
if prisonier = 50 {obj_controllerstalker.idlibere50 = 1 }

with(instance_create(x,y,obj_stalker)){
idpoto = other.prisonier
}
instance_destroy();
//}
}      

        
        }else{}
        
        
        //lancement de la deuxieme boite (pour choix)
        
        /*if not instance_exists(obj_text){ image_angle = imagebase}else{
        image_angle=point_direction(x,y,obj_zombie.x,obj_zombie.y)
        }*/
        //}
        //}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if mode2 = 1 {sprite_index = spr_mineur}
if mode2 = 2 {sprite_index = spr_mineur2}
if mode2 = 3 {sprite_index = spr_mineur3}
if mode2 = 4 {sprite_index = spr_bigprawler}
if mode2 = 5 {sprite_index = spr_prawler}
if mode2 = 6 {sprite_index = spr_npc2}
if mode2 = 7 {sprite_index = spr_npc3}
if mode2 = 8 {sprite_index = spr_npc4}
if mode2 = 9 {sprite_index = spr_npc5}
if mode2 = 10 {sprite_index = spr_npc6}
if mode2 = 11 {sprite_index = spr_npc7}
if mode2 = 12 {sprite_index = spr_npc9}
if mode2 = 13 {sprite_index = spr_npc10}

draw_sprite_ext(sprite_index,0,x,y,1,1,image_angle,c_white,1)

if mode2 &lt; 6 {
if headskin = 1 {
draw_sprite_ext(spr_head1,animwalk,x,y,0.75,0.75,image_angle,c_white,image_alpha)}
if headskin = 2 {
draw_sprite_ext(spr_head2,animwalk,x,y,0.8,0.8,image_angle,c_white,image_alpha)}
if headskin = 3 {
draw_sprite_ext(spr_head3,animwalk,x,y,0.7,0.7,image_angle,c_white,image_alpha)}
if headskin = 4 {
draw_sprite_ext(spr_head4,animwalk,x,y,0.75,0.75,image_angle,c_white,image_alpha)}
if headskin = 5 {
draw_sprite_ext(spr_head5,animwalk,x,y,0.65,0.65,image_angle,c_white,image_alpha)}
if headskin = 6 {
draw_sprite_ext(spr_head6,animwalk,x,y,0.7,0.7,image_angle,c_white,image_alpha)}
if headskin = 7 {
draw_sprite_ext(spr_head7,animwalk,x,y,0.6,0.6,image_angle,c_white,image_alpha)}
if headskin = 8 {
draw_sprite_ext(spr_head8,animwalk,x,y,0.7,0.7,image_angle,c_white,image_alpha)}
if headskin = 9 {
draw_sprite_ext(spr_head9,animwalk,x,y,0.65,0.65,image_angle,c_white,image_alpha)}
if headskin = 10 {
draw_sprite_ext(spr_head10,animwalk,x,y,0.75,0.75,image_angle,c_white,image_alpha)}
if headskin = 11 {
draw_sprite_ext(spr_head11,animwalk,x,y,0.70,0.70,image_angle,c_white,image_alpha)}
if headskin = 12 {
draw_sprite_ext(spr_head12,animwalk,x,y,0.70,0.70,image_angle,c_white,image_alpha)}
if headskin = 13 {
draw_sprite_ext(spr_head13,animwalk,x,y,0.70,0.70,image_angle,c_white,image_alpha)}
if headskin = 14 {
draw_sprite_ext(spr_head14,animwalk,x,y,0.65,0.65,image_angle,c_white,image_alpha)}
if headskin = 15 {
draw_sprite_ext(spr_head15,animwalk,x,y,0.65,0.65,image_angle,c_white,image_alpha)}
if headskin = 16 {
draw_sprite_ext(spr_head16,animwalk,x,y,0.65,0.65,image_angle,c_white,image_alpha)}
if headskin = 17 {
draw_sprite_ext(spr_head17,animwalk,x,y,0.65,0.65,image_angle,c_white,image_alpha)}
if headskin = 18 {
draw_sprite_ext(spr_head18,animwalk,x,y,0.70,0.70,image_angle,c_white,image_alpha)}
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
