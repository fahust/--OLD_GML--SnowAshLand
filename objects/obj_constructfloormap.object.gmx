<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_woodfloor</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>130</depth>
  <persistent>0</persistent>
  <parentName>obj_environment</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>checkdestroygreen = 0
hp = 10000
reactualiz = 0
alarm[0] = 20
celling = 0
ui = 0

path = path_add();

superalpha = 1

destroymouse = 0

guildeid = 0

craftnowobject = 0
nocreate = 0
checkok = 1
checkpasok = 0

var xxmouse = mouse_x
var yymouse = mouse_y

var xx = x
var yy = y

var xx1 = xx + lengthdir_x(50,image_angle)
var yy1 = yy + lengthdir_y(50,image_angle)
var xx2 = xx + lengthdir_x(50,image_angle+90)
var yy2 = yy + lengthdir_y(50,image_angle+90)
var xx3 = xx + lengthdir_x(50,image_angle+180)
var yy3 = yy + lengthdir_y(50,image_angle+180)
var xx4 = xx + lengthdir_x(50,image_angle+270)
var yy4 = yy + lengthdir_y(50,image_angle+270)



</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if reactualiz = 0 {
instance_create(x,y,obj_fumeecaisse2)
obj_constructreception.guildnetbeta = 666666
obj_constructreception.xnetbeta = x
obj_constructreception.ynetbeta = y
obj_constructreception.objnetbeta = craftnowobject
obj_constructreception.anglenetbeta = image_angle
if room = room119 {varroom = 1}
if room = room115 {varroom = 2}
if room = room116 {varroom = 3}
if room = room117 {varroom = 4}
if room = room118 {varroom = 5}
obj_constructreception.roomnetbeta = room// varroom



if craftnowobject = 1 or craftnowobject = 5 or craftnowobject = 9 {


if instance_exists(obj_constructfloormap){
with(obj_constructfloormap){if position_meeting(x,y,other.id){
if craftnowobject = 4 or craftnowobject = 8 or craftnowobject = 12 {
alarm[2] = 11//instance_destroy();
}}}}

if instance_exists(obj_constructobjintrmap){
with(obj_constructobjintrmap){if position_meeting(x,y,other.id){

alarm[2] = 15//instance_destroy();
}}}

if instance_exists(obj_constructwallmap){
with(obj_constructwallmap){if position_meeting(x,y,other.id){

alarm[2] = 20//instance_destroy();
}}}

}
if instance_exists(obj_network){
 for (i = 0; i &lt; 5000; i += 1)
    {
    if obj_constructreception.mygrid[# i, 6] = real(room) &amp;&amp; 
    obj_constructreception.mygrid[# i, 2] = x &amp;&amp;
    obj_constructreception.mygrid[# i, 3] = y {
    ds_grid_set(obj_constructreception.mygrid, i, 1, -1);
    ds_grid_set(obj_constructreception.mygrid, i, 2, -1);
    ds_grid_set(obj_constructreception.mygrid, i, 3, -1);
    ds_grid_set(obj_constructreception.mygrid, i, 4, -1);
    ds_grid_set(obj_constructreception.mygrid, i, 5, -1);
    ds_grid_set(obj_constructreception.mygrid, i, 6, -1); 
    i = 5000 
    }
    }
    
     for (i = 0; i &lt; 500; i += 1)
    {
    if obj_constructreception.mygridprops[# i, 6] = real(room) &amp;&amp; 
    obj_constructreception.mygridprops[# i, 2] = x &amp;&amp;
    obj_constructreception.mygridprops[# i, 3] = y {
    ds_grid_set(obj_constructreception.mygridprops, i, 2, -3);
    ds_grid_set(obj_constructreception.mygridprops, i, 3, -3);
    ds_grid_set(obj_constructreception.mygridprops, i, 6, -3); 
    i = 500 
    }
    }
}else{
for (i = 0; i &lt; 5000; i += 1)
    {
    if obj_constructreception.mygridsolo[# i, 6] = real(room) &amp;&amp; 
    obj_constructreception.mygridsolo[# i, 2] = x &amp;&amp;
    obj_constructreception.mygridsolo[# i, 3] = y {
    ds_grid_set(obj_constructreception.mygridsolo, i, 1, -1);
    ds_grid_set(obj_constructreception.mygridsolo, i, 2, -1);
    ds_grid_set(obj_constructreception.mygridsolo, i, 3, -1);
    ds_grid_set(obj_constructreception.mygridsolo, i, 4, -1);
    ds_grid_set(obj_constructreception.mygridsolo, i, 5, -1);
    ds_grid_set(obj_constructreception.mygridsolo, i, 6, -1); 
    i = 5000 
    }
    }
}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string></string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///FAIRE APPARAITRE LES HP SELON ITEM et depth
if craftnowobject &gt; 0 &amp;&amp; craftnowobject &lt; 5 {
hp = 1000}
if craftnowobject &gt; 4 &amp;&amp; craftnowobject &lt; 9 {
hp = 5000}
if craftnowobject &gt; 8 &amp;&amp; craftnowobject &lt; 13 {
hp = 10000}

if craftnowobject &gt; 12 &amp;&amp; craftnowobject &lt; 30 {
hp = 3000}




if craftnowobject = 1 or craftnowobject = 5 or craftnowobject = 9 {}else{
depth -= 20
}



</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>checkdestroygreen = 0
if hp &lt; 0 {instance_destroy();}

if alarm[1] &gt; 1000 {alarm[1] = 10000}

var xxmouse = mouse_x
var yymouse = mouse_y

var xx = mouse_x
var yy = mouse_y

var xx1 = xx + lengthdir_x(50,image_angle)
var yy1 = yy + lengthdir_y(50,image_angle)
var xx2 = xx + lengthdir_x(50,image_angle+90)
var yy2 = yy + lengthdir_y(50,image_angle+90)
var xx3 = xx + lengthdir_x(50,image_angle+180)
var yy3 = yy + lengthdir_y(50,image_angle+180)
var xx4 = xx + lengthdir_x(50,image_angle+270)
var yy4 = yy + lengthdir_y(50,image_angle+270)

nocreate = 0

checkpasok = 0
checkok = 0

if craftnowobject = 1 {sprite_index = spr_woodfloor}
if craftnowobject = 4 {sprite_index = spr_woodcelling}
if craftnowobject = 5 {sprite_index = spr_stonefloor}
if craftnowobject = 8 {sprite_index = spr_stonecelling}
if craftnowobject = 9 {sprite_index = spr_metalfloor}
if craftnowobject = 12 {sprite_index = spr_metalcelling}
if poseobjet = 0 {
if (abs(mouse_x - x) &lt; 80) &amp;&amp; (abs(mouse_y - y) &lt; 80)
{
if keyboard_check(ord("E")) &amp;&amp; guildeid = obj_guilde.guildesend {
checkdestroygreen = 1
destroymouse += 1
if destroymouse &gt; 30 {
//if instance_exists(obj_atelier) or showinv = true {
if not instance_exists(obj_constructdestroy){
with(instance_create(x,y,obj_constructdestroy)){
craftnowobject = other.craftnowobject
hp = other.hp
iddestroy = other.id 
}//}
}}}else{destroymouse = 0}
}else{destroymouse = 0}
}

/*if room = room119 or room = room115 or room = room116 or room = room117 or room = room118 {
}else{instance_destroy();}*/
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="o_explosion_piece">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
//if other.explostopdgt = 0 {other.explostopdgt = 1
if guildeid = obj_guilde.guildesend {}else{hp -= 10;other.explostopdgt = 1}
//}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_bigexplo">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//if other.explostopdgt = 0 {other.explostopdgt = 1
if guildeid = obj_guilde.guildesend {}else{hp -= 100;other.explostopdgt = 1}
//}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_bullet">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if guildeid = obj_guilde.guildesend {}else{hp -= 1}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_shoot">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if guildeid = obj_guilde.guildesend {}else{hp -= 1}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_bulletassaut">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if guildeid = obj_guilde.guildesend {}else{hp -= 1}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_bulletassautnet">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if guildeid = obj_guilde.guildesend {}else{hp -= 1}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_bulletnet">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if guildeid = obj_guilde.guildesend {}else{hp -= 1}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_shootnet">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if guildeid = obj_guilde.guildesend {}else{hp -= 1}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="54">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if poseobjet = 1 {
global.constructnowaction = 0;

//if instance_exists(obj_invbutton){obj_invbutton.craftnowobject = 0;}
instance_destroy();
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="53">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///ENVOI DES DONNE NET ET POSE D OBJET
//if global.pasdeconstruct = 0 {
if alarm[0] &lt; 0 &amp;&amp; alarm[1] &lt; 0{
if nocreate = 0 {
if poseobjet = 1 {
if dejaposer = 0 {
instance_create(x,y,obj_fumeecaisse2)
audio_play_sound_at(snd_construct, mouse_x, mouse_y,0,global.falloff_ref2, global.falloff_max2, 1, false, 1);

var var123 = craftnowobject +273
scr_itemdrop(var123)

if instance_exists(obj_network){

//ajout props
for (i = 0; i &lt; 500; i += 1)
    {
    if obj_constructreception.mygridprops[# i, 2] &lt;= 0 {
    
//repeat2 = ds_grid_height(obj_constructreception.mygridsolo);
ds_grid_set(obj_constructreception.mygridprops, i, 2, floor(x));
ds_grid_set(obj_constructreception.mygridprops, i, 3, floor(y));
ds_grid_set(obj_constructreception.mygridprops, i, 6, real(room)); 
i = 500;
     }
}

//ajout dans la grid de base network ,sera corriger place au prochain balayage
 for (i = 0; i &lt; 5000; i += 1)
    {
    if obj_constructreception.mygrid[# i, 5] &lt;= 0 {
    
//repeat2 = ds_grid_height(obj_constructreception.mygridsolo);
ds_grid_set(obj_constructreception.mygrid, i, 1, obj_guilde.guildesend);
ds_grid_set(obj_constructreception.mygrid, i, 2, x);
ds_grid_set(obj_constructreception.mygrid, i, 3, y);
ds_grid_set(obj_constructreception.mygrid, i, 4, image_angle);
ds_grid_set(obj_constructreception.mygrid, i, 5, craftnowobject);
ds_grid_set(obj_constructreception.mygrid, i, 6, real(room)); 
i = 5000;
     }
}

}else{
 for (i = 0; i &lt; 5000; i += 1)
    {
    if obj_constructreception.mygridsolo[# i, 5] &lt;= 0 {
    
//repeat2 = ds_grid_height(obj_constructreception.mygridsolo);
ds_grid_set(obj_constructreception.mygridsolo, i, 1, obj_guilde.guildesend);
ds_grid_set(obj_constructreception.mygridsolo, i, 2, x);
ds_grid_set(obj_constructreception.mygridsolo, i, 3, y);
ds_grid_set(obj_constructreception.mygridsolo, i, 4, image_angle);
ds_grid_set(obj_constructreception.mygridsolo, i, 5, craftnowobject);
ds_grid_set(obj_constructreception.mygridsolo, i, 6, real(room)); 
i = 5000;
     }
}}


//A ENVOYER DANS LE NET CODE UNE FOIS
obj_constructreception.guildnetbeta = obj_guilde.guildesend
obj_constructreception.xnetbeta = x
obj_constructreception.ynetbeta = y
obj_constructreception.anglenetbeta = image_angle
obj_constructreception.objnetbeta = craftnowobject

//obj_constructreception.roomnetbeta = 1//a enlever

obj_constructreception.roomnetbeta = room
/*if room = room119 {obj_constructreception.roomnetbeta = 1}
if room = room115 {obj_constructreception.roomnetbeta = 2}
if room = room116 {obj_constructreception.roomnetbeta = 3}
if room = room117 {obj_constructreception.roomnetbeta = 4}
if room = room118 {obj_constructreception.roomnetbeta = 5}*/
dejaposer = 1
global.constructnowaction = 0;
}poseobjet = 0}







}
}
//}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//if craftnowobject = 1 {



if alarm[0] &lt; 0 {

//checkok = 1


if poseobjet = 1 {
image_angle = obj_zombie.image_angle

var xxmouse = mouse_x
var yymouse = mouse_y

//nocreate = 0
//checkpasok = 0
//checkok = 1

xxpre = 0
yypre = 0

var xx = mouse_x
var yy = mouse_y

var xx1 = xx + lengthdir_x(80,image_angle)
var yy1 = yy + lengthdir_y(80,image_angle)
var xx2 = xx + lengthdir_x(80,image_angle+90)
var yy2 = yy + lengthdir_y(80,image_angle+90)
var xx3 = xx + lengthdir_x(80,image_angle+180)
var yy3 = yy + lengthdir_y(80,image_angle+180)
var xx4 = xx + lengthdir_x(80,image_angle+270)
var yy4 = yy + lengthdir_y(80,image_angle+270)

//empecher de poser celling et floor proche d un obj ext
if instance_exists(obj_constructobjintrmap){
with(obj_constructobjintrmap){
if craftnowobject &gt; 56 { 
var xxmouse = mouse_x
var yymouse = mouse_y
nearfloor = id
if point_distance(x,y,other.x,other.y) &lt; 100 {//150
other.checkpasok = 1
}}
}}

if instance_exists(obj_constructfloormap){
if craftnowobject = 1 or craftnowobject = 5 or craftnowobject = 9 {
with(obj_constructfloormap){
if guildeid = obj_guilde.guildesend {
var xxmouse = mouse_x
var yymouse = mouse_y
nearfloor = id
if id = other.id {}else{



var xx1 = x + lengthdir_x(80,image_angle)
var yy1 = y + lengthdir_y(80,image_angle)
var xx2 = x + lengthdir_x(80,image_angle+90)
var yy2 = y + lengthdir_y(80,image_angle+90)
var xx3 = x + lengthdir_x(80,image_angle+180)
var yy3 = y + lengthdir_y(80,image_angle+180)
var xx4 = x + lengthdir_x(80,image_angle+270)
var yy4 = y + lengthdir_y(80,image_angle+270)

checkok = 0

if other.checkok = 0 {
if point_distance(xx1,yy1,xxmouse,yymouse) &lt; 100 {//150
 other.xxpre = xx1 +lengthdir_x(79,image_angle);
 other.yypre = yy1 +lengthdir_y(79,image_angle);
 other.image_angle = image_angle
 //other.nocreate = 0
 other.checkok = 1
checkok = 1
}

if point_distance(xx2,yy2,xxmouse,yymouse) &lt; 100 {//150
 other.xxpre = xx2 +lengthdir_x(79,image_angle+90);
 other.yypre = yy2 +lengthdir_y(79,image_angle+90);
 other.image_angle = image_angle
 //other.nocreate = 0
 other.checkok = 1
checkok = 1
}

if point_distance(xx3,yy3,xxmouse,yymouse) &lt; 100 {//150
 other.xxpre = xx3 +lengthdir_x(79,image_angle+180);
 other.yypre = yy3 +lengthdir_y(79,image_angle+180);
 other.image_angle = image_angle
 //other.nocreate = 0
 other.checkok = 1
checkok = 1
}

if point_distance(xx4,yy4,xxmouse,yymouse) &lt; 100 {//150
 other.xxpre = xx4 +lengthdir_x(79,image_angle+270);
 other.yypre = yy4 +lengthdir_y(79,image_angle+270);
 other.image_angle = image_angle
 //other.nocreate = 0
 other.checkok = 1
checkok = 1
}}

//empecher de ce poser sur une structure existante qui n'est pas caller
if checkok = 0 {
 if place_meeting(x,y,other.id){
  other.checkpasok = 1
 }}

}
}else{//guildeid
if point_distance(x,y,other.x,other.y) &lt; 1500 {
other.checkpasok = 1
}
}
}//with

}else{//craftnowobject //POUR CELLING !!!!!
with(obj_constructfloormap){
if guildeid = obj_guilde.guildesend {
var xxmouse = mouse_x
var yymouse = mouse_y
nearfloor = id
if id = other.id {}else{

//CHECKER SI IL TOUCHE PAS UN CELLING
 if place_meeting(x,y,other.id){
 if craftnowobject = 4 or craftnowobject = 8 or craftnowobject = 12 {
 other.checkpasok = 1
 }
 }

var xx1 = x 
var yy1 = y 


checkok = 0

if other.checkok = 0 {
if point_distance(xx1,yy1,xxmouse,yymouse) &lt; 120 {
 other.xxpre = xx1 
 other.yypre = yy1 
 other.image_angle = image_angle
 //other.nocreate = 0
 other.checkok = 1
checkok = 1
}else{
//pr empecher de ce mettre sur un mur

}
//pr empecher de ce mettre sur un mur


}

//empecher de ce poser sur une structure existante qui n'est pas caller
/*if checkok = 0 {
 if place_meeting(x,y,other){
  other.checkpasok = 1
 }}*/

}
}else{//guildeid
if point_distance(x,y,other.x,other.y) &lt; 200 {
other.checkpasok = 1
}
}
}//with


if checkok = 0 {nocreate = 1}

}






}

if xxpre = 0 {}else{
var xx = xxpre
var yy = yypre
}

x = xx
y = yy 

if checkok = 1 {nocreate = 0}
if checkpasok = 1 {nocreate = 1}

if (mp_grid_path(global.grid, path, x, y, x, y ,2)) {}else{nocreate = 1}

//if place_empty(x, y) {}else{nocreate = 1}
/*
if place_meeting(x,y,obj_arbreneige){nocreate = 1}else{}
if place_meeting(x,y,obj_montagne1){nocreate = 1}else{}
if place_meeting(x,y,obj_montagne2){nocreate = 1}else{}
if place_meeting(x,y,obj_montagne3){nocreate = 1}else{}*/
//if place_meeting(x,y,obj_montagne2){nocreate = 1}else{}
//if place_meeting(x,y,obj_montagne2){nocreate = 1}else{}

if instance_exists(obj_teleport1){teleproche = instance_nearest(x,y,obj_teleport1)
if point_distance(x,y,teleproche.x,teleproche.y) &lt; 400 {nocreate = 1}
}

if nocreate = 0 {colorvar = c_green}else{colorvar = c_red}
image_angle = round(image_angle)
draw_sprite_ext(sprite_index,0,xx,yy,1,1,image_angle,colorvar,0.5)



}else{//POSE OBJET

//FAIRE TRANSPARENCE POUR LES TOITS !
if superalpha &lt; 1 {superalpha += 0.005}
if image_alpha &lt; 1 {image_alpha += 0.005}

if craftnowobject = 4 or craftnowobject = 8 or craftnowobject = 12 {
if guildeid = obj_guilde.guildesend {

if point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; 1300 {
if image_alpha &gt;= 0.2 {image_alpha -= 0.01}
if superalpha &gt;= 0.2 {superalpha -= 0.01}
}
}}

image_angle = round(image_angle)
if checkdestroygreen = 1 {colornow = c_green}else{colornow = c_white}
draw_sprite_ext(sprite_index,0,x,y,1,1,image_angle,colornow,superalpha)

}

//draw_text(obj_zombie.x,obj_zombie.y,"exist put1")
//}


}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="27">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if poseobjet = 1 {
instance_destroy();
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
