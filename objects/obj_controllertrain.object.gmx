<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-99999999</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>colortext2 = make_color_rgb(148,132,128)
imagespeed2 = 0
traingrid = ds_grid_create(30, 2);
ds_grid_resize(traingrid, 30, 2);
ds_grid_clear(traingrid, "");

alarmalpha = 0

down = 0

dirloin = 1


proposevoyage = 0
garechoose = 0

existdroite = 0
existgauche = 0

voyage = 0

raildroitegauche = 0

global.dansletrain = 0

    ini_open("traingrid.ini");
ds_grid_read(traingrid, ini_read_string("traingrid", "grid", ""));
ini_close();
totaltimedest = 0
alarm[1] = 5

fuel = 0

if ds_grid_get(traingrid,1,1) = "" {
ds_grid_set(traingrid,1,1,1)
ds_grid_set(traingrid,2,1,1.1)
ds_grid_set(traingrid,3,1,2.2)
ds_grid_set(traingrid,4,1,3.4)
ds_grid_set(traingrid,5,1,1.5)
ds_grid_set(traingrid,6,1,1)
ds_grid_set(traingrid,7,1,1)
ds_grid_set(traingrid,8,1,1)
ds_grid_set(traingrid,9,1,1)
ds_grid_set(traingrid,10,1,10)
ds_grid_set(traingrid,11,1,1)
ds_grid_set(traingrid,12,1,1)
ds_grid_set(traingrid,13,1,0)
ds_grid_set(traingrid,14,1,1)
ds_grid_set(traingrid,15,1,150)
ds_grid_set(traingrid,16,1,150)
ds_grid_set(traingrid,17,1,150)
ds_grid_set(traingrid,18,1,150)
ds_grid_set(traingrid,19,1,150)
ds_grid_set(traingrid,20,1,0)
ds_grid_set(traingrid,21,1,0)
ds_grid_set(traingrid,22,1,0)
ds_grid_set(traingrid,23,1,0)
ds_grid_set(traingrid,24,1,0)
ds_grid_set(traingrid,25,1,0)
ds_grid_set(traingrid,26,1,0)
ds_grid_set(traingrid,27,1,0)
ds_grid_set(traingrid,28,1,0)
ds_grid_set(traingrid,29,1,0)
ds_grid_set(traingrid,30,1,0)
}


leaderdutrain = 0
joueur1 = 0
joueur2 = 0
joueur3 = 0
joueur4 = 0
destinationfin = 0

x1 = 0
x2 = 0
x3 = 0
x4 = 0
x5 = 0
x6 = 0
x7 = 0
x8 = 0
x9 = 0
x10 = 0
x11 = 0
x12 = 0
x13 = 0
x14 = 0
x15 = 0
x16 = 0
x17 = 0
x18 = 0
x19 = 0
x20 = 0
x21 = 0
x22 = 0
x23 = 0
x24 = 0
x25 = 0
x26 = 0
x27 = 0
x28 = 0
x29 = 0
x30 = 0


//demarage tout le monde ce teleporte sur la map des train qui defile ,voir les joueurs que si dans team
//if trainnow = 0 { afficher le train du joueur trainnow = 1 ,c'est lui qui gere la vie du train ,lui qui gere les dégats des train allié énemi

//si un wagon pete ,tout ceux derriere pete avec ,si un jour pete avec un wagon mort immediate collision

//recompenses a la fin logique

//remplir la machinerie avec du bois pour combustible

//x1 = engineslot //type de machinerie vitesse s'améliore durabilité
//x2 = wagonslot1 //type de wagon
//x3 = wagonslot2 //1.(level123456789) =  transport de marchandises plus solide et plus de contenu
//x4 = wagonslot3 //2. .. = transport d'homme ,plus confortable ,plus luxueux
//x5 = wagonslot4 //3. .. = tourelle auto
//x6 = wagonslot5 //4. .. 
//x7 = destination // doivent être debloquer avant
//x8 = poids max (wagon 1+2+3+4+5)
//x9 = transportmarchandises (s'ajouter au poids actuel)
//x10 = transportdhommes (s'ajouter au poids actuel)
//x11 = position actuel %
//x12 = 
//x13 = activité du train //0 en gare //1 en courses // 2 combat
//x14 = positionengare //room138 //room //1 2 3 4 5 6 7
//x15 = vie actuel 1 %
//x16 = vie actuel 2 %
//x17 = vie actuel 3 %
//x18 = vie actuel 4 %
//x19 = vie actuel 5 %
//x20 = vitesse actuel
//x21 = boisdanschemine
//x22 = raildroiteia
//x23 = railgaucheia
//x24 = viedroiteia
//x25 = viegaucheia
//x26 = vitessedroiteia
//x27 = vitessegaucheia
//x28 = positiondroiteia
//x29 = positiongaucheia
//x30 = 


//instance_create(




</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="9">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///APPEL TRAIN PAR RAPPORT HORLOGE obj_control
alarm[5] = -1
alarm[6] = -1
alarm[7] = -1

if obj_controllertrain.voyage = 0 {
if room = room133 {
audio_play_sound(snd_trainshufle,1,false);
with(instance_create(10976,15200+540,obj_trainengine)){mode = 0;decor = 0;}
with(instance_create(10976,15200+500+1103,obj_wagon1)){mode = 2;decor = 0;}
with(instance_create(10976,15200+500+2206,obj_wagon2)){mode = 2;decor = 0;}
with(instance_create(10976,15200+500+3309,obj_wagon3)){mode = 1;decor = 0;}
with(instance_create(10976,15200+500+4412,obj_wagon4)){mode = 2;decor = 0;}
alarm[5] = 2000
}
if room = room139 {
audio_play_sound(snd_trainshufle,1,false);
with(instance_create(4640,5336+540,obj_trainengine)){mode = 0;decor = 0;}
with(instance_create(4640,5336+500+1103,obj_wagon1)){mode = 2;decor = 0;}
with(instance_create(4640,5336+500+2206,obj_wagon2)){mode = 2;decor = 0;}
with(instance_create(4640,5336+500+3309,obj_wagon3)){mode = 1;decor = 0;}
with(instance_create(4640,5336+500+4412,obj_wagon4)){mode = 2;decor = 0;}
alarm[5] = 700
}
if room = room144 {
audio_play_sound(snd_trainshufle,1,false);
with(instance_create(7648,-4000+500+3309,obj_trainengine)){mode = 0;decor = 0;down = 1}
with(instance_create(7648,-4000+540+2206,obj_wagon1)){mode = 2;decor = 0;down = 1}
with(instance_create(7648,-4000+500+1103,obj_wagon2)){mode = 2;decor = 0;down = 1}
with(instance_create(7648,-4000+500+0,obj_wagon3)){mode = 2;decor = 0;down = 1}
/*with(instance_create(7648,0+540,obj_trainengine)){mode = 0;decor = 0;down = 1}
with(instance_create(7648,0+500+1103,obj_wagon1)){mode = 2;decor = 0;down = 1}
with(instance_create(7648,0+500+2206,obj_wagon2)){mode = 2;decor = 0;down = 1}
with(instance_create(7648,0+500+3309,obj_wagon3)){mode = 1;decor = 0;down = 1}
with(instance_create(7648,0+500+4412,obj_wagon4)){mode = 2;decor = 0;down = 1}*/
alarm[5] = 1100
}
if room = room134 {
audio_play_sound(snd_trainshufle,1,false);
with(instance_create(1184,1952+540,obj_trainengine)){mode = 0;decor = 0;}
with(instance_create(1184,1952+500+1103,obj_wagon1)){mode = 2;decor = 0;}
with(instance_create(1184,1952+500+2206,obj_wagon2)){mode = 2;decor = 0;}
with(instance_create(1184,1952+500+3309,obj_wagon3)){mode = 1;decor = 0;}
with(instance_create(1184,1952+500+4412,obj_wagon4)){mode = 2;decor = 0;}
alarm[5] = 1100
}
if room = room138 {
audio_play_sound(snd_trainshufle,1,false);
with(instance_create(2816,7968+540,obj_trainengine)){mode = 0;decor = 0;}
with(instance_create(2816,7968+500+1103,obj_wagon1)){mode = 2;decor = 0;}
with(instance_create(2816,7968+500+2206,obj_wagon2)){mode = 2;decor = 0;}
with(instance_create(2816,7968+500+3309,obj_wagon3)){mode = 1;decor = 0;}
with(instance_create(2816,7968+500+4412,obj_wagon4)){mode = 2;decor = 0;}
alarm[5] = 900
}
if room = room40 {
audio_play_sound(snd_trainshufle,1,false);
with(instance_create(3840,7968+540,obj_trainengine)){mode = 0;decor = 0;}
with(instance_create(3840,7968+500+1103,obj_wagon1)){mode = 2;decor = 0;}
with(instance_create(3840,7968+500+2206,obj_wagon2)){mode = 2;decor = 0;}
with(instance_create(3840,7968+500+3309,obj_wagon3)){mode = 1;decor = 0;}
with(instance_create(3840,7968+500+4412,obj_wagon4)){mode = 2;decor = 0;}
alarm[5] = 900
}
if room = room131 {
audio_play_sound(snd_trainshufle,1,false);
with(instance_create(10752,11968+540,obj_trainengine)){mode = 0;decor = 0;}
with(instance_create(10752,11968+500+1103,obj_wagon1)){mode = 2;decor = 0;}
with(instance_create(10752,11968+500+2206,obj_wagon2)){mode = 2;decor = 0;}
with(instance_create(10752,11968+500+3309,obj_wagon3)){mode = 1;decor = 0;}
with(instance_create(10752,11968+500+4412,obj_wagon4)){mode = 2;decor = 0;}
alarm[5] = 1300
}
}else{/*
if room = room133 {
audio_play_sound(snd_trainshufle,1,false);
with(instance_create(10976,0+540,obj_trainengine)){mode = 0;decor = 0;down = 1}
with(instance_create(10976,0+500-1103,obj_wagon1)){mode = 2;decor = 0;down = 1}
with(instance_create(10976,0+500-2206,obj_wagon2)){mode = 2;decor = 0;down = 1}
with(instance_create(10976,0+500-3309,obj_wagon3)){mode = 1;decor = 0;down = 1}
with(instance_create(10976,0+500-4412,obj_wagon4)){mode = 2;decor = 0;down = 1}
alarm[5] = 2000
}
if room = room139 {
audio_play_sound(snd_trainshufle,1,false);
with(instance_create(4640,5336+540,obj_trainengine)){mode = 0;decor = 0;}
with(instance_create(4640,5336+500+1103,obj_wagon1)){mode = 2;decor = 0;}
with(instance_create(4640,5336+500+2206,obj_wagon2)){mode = 2;decor = 0;}
with(instance_create(4640,5336+500+3309,obj_wagon3)){mode = 1;decor = 0;}
with(instance_create(4640,5336+500+4412,obj_wagon4)){mode = 2;decor = 0;}
alarm[5] = 700
}*/
}



</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="8">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///DEMARAGE QUAND DEJA DANS TRAIN 
//alarm[5] = -1
alarm[6] = -1
alarm[7] = -1

//obj_control

if obj_controllertrain.voyage = 0 {
/*if room = room133 {
audio_play_sound(snd_trainshufle,1,false);
with(instance_create(10976,15200+540,obj_trainengine)){mode = 0;decor = 0;}
with(instance_create(10976,15200+500+1103,obj_wagon1)){mode = 2;decor = 0;}
with(instance_create(10976,15200+500+2206,obj_wagon2)){mode = 2;decor = 0;}
with(instance_create(10976,15200+500+3309,obj_wagon3)){mode = 1;decor = 0;}
with(instance_create(10976,15200+500+4412,obj_wagon4)){mode = 2;decor = 0;}
alarm[5] = 2000
}*/
}else{
if room = room133 {
if down = 0 {
audio_play_sound(snd_trainshufle,1,false);
with(instance_create(10976,15200+540,obj_trainengine)){mode = 0;decor = 0;down = 0}
with(instance_create(10976,15200+500-1103,obj_wagon1)){mode = 2;decor = 0;down = 0}
with(instance_create(10976,15200+500-2206,obj_wagon2)){mode = 2;decor = 0;down = 0}
with(instance_create(10976,15200+500-3309,obj_wagon3)){mode = 1;decor = 0;down = 0}
with(instance_create(10976,15200+500-4412,obj_wagon4)){mode = 2;decor = 0;down = 0}
}else{
audio_play_sound(snd_trainshufle,1,false);
with(instance_create(10976,0+540,obj_trainengine)){mode = 0;decor = 0;down = 1}
with(instance_create(10976,0+500-1103,obj_wagon1)){mode = 2;decor = 0;down = 1}
with(instance_create(10976,0+500-2206,obj_wagon2)){mode = 2;decor = 0;down = 1}
with(instance_create(10976,0+500-3309,obj_wagon3)){mode = 1;decor = 0;down = 1}
with(instance_create(10976,0+500-4412,obj_wagon4)){mode = 2;decor = 0;down = 1}
}
alarm[5] = 1600
}
if room = room139 {
audio_play_sound(snd_trainshufle,1,false);
with(instance_create(4640,5336+540,obj_trainengine)){mode = 0;decor = 0;}
with(instance_create(4640,5336+500+1103,obj_wagon1)){mode = 2;decor = 0;}
with(instance_create(4640,5336+500+2206,obj_wagon2)){mode = 2;decor = 0;}
with(instance_create(4640,5336+500+3309,obj_wagon3)){mode = 1;decor = 0;}
with(instance_create(4640,5336+500+4412,obj_wagon4)){mode = 2;decor = 0;}
alarm[5] = 700
}
if room = room144 {
audio_play_sound(snd_trainshufle,1,false);
with(instance_create(7648,-4000+500+3309,obj_trainengine)){mode = 0;decor = 0;down = 1}
with(instance_create(7648,-4000+540+2206,obj_wagon1)){mode = 2;decor = 0;down = 1}
with(instance_create(7648,-4000+500+1103,obj_wagon2)){mode = 2;decor = 0;down = 1}
with(instance_create(7648,-4000+500+0,obj_wagon3)){mode = 2;decor = 0;down = 1}
//with(instance_create(7648,0+500+3309,obj_wagon3)){mode = 1;decor = 0;down = 1}
//with(instance_create(7648,0+500+4412,obj_wagon4)){mode = 2;decor = 0;down = 1}
alarm[5] = 1100
}
if room = room134 {
audio_play_sound(snd_trainshufle,1,false);
with(instance_create(1184,-4000+500+3309,obj_trainengine)){mode = 0;decor = 0;down = 1}
with(instance_create(1184,-4000+540+2206,obj_wagon1)){mode = 2;decor = 0;down = 1}
with(instance_create(1184,-4000+500+1103,obj_wagon2)){mode = 2;decor = 0;down = 1}
with(instance_create(1184,-4000+500+0,obj_wagon3)){mode = 2;decor = 0;down = 1}
/*
with(instance_create(1120,1952+540,obj_trainengine)){mode = 0;decor = 0;}
with(instance_create(1120,1952+500+1103,obj_wagon1)){mode = 2;decor = 0;}
with(instance_create(1120,1952+500+2206,obj_wagon2)){mode = 2;decor = 0;}
with(instance_create(1120,1952+500+3309,obj_wagon3)){mode = 1;decor = 0;}
with(instance_create(1120,1952+500+4412,obj_wagon4)){mode = 2;decor = 0;}*/
alarm[5] = 1100
}
if room = room138 {
audio_play_sound(snd_trainshufle,1,false);
with(instance_create(2816,7968+540,obj_trainengine)){mode = 0;decor = 0;}
with(instance_create(2816,7968+500+1103,obj_wagon1)){mode = 2;decor = 0;}
with(instance_create(2816,7968+500+2206,obj_wagon2)){mode = 2;decor = 0;}
with(instance_create(2816,7968+500+3309,obj_wagon3)){mode = 1;decor = 0;}
with(instance_create(2816,7968+500+4412,obj_wagon4)){mode = 2;decor = 0;}
alarm[5] = 900
}
if room = room40 {
audio_play_sound(snd_trainshufle,1,false);
with(instance_create(3840,7968+540,obj_trainengine)){mode = 0;decor = 0;}
with(instance_create(3840,7968+500+1103,obj_wagon1)){mode = 2;decor = 0;}
with(instance_create(3840,7968+500+2206,obj_wagon2)){mode = 2;decor = 0;}
with(instance_create(3840,7968+500+3309,obj_wagon3)){mode = 1;decor = 0;}
with(instance_create(3840,7968+500+4412,obj_wagon4)){mode = 2;decor = 0;}
alarm[5] = 900
}
if room = room131 {
audio_play_sound(snd_trainshufle,1,false);
with(instance_create(10752,11968+540,obj_trainengine)){mode = 0;decor = 0;}
with(instance_create(10752,11968+500+1103,obj_wagon1)){mode = 2;decor = 0;}
with(instance_create(10752,11968+500+2206,obj_wagon2)){mode = 2;decor = 0;}
with(instance_create(10752,11968+500+3309,obj_wagon3)){mode = 1;decor = 0;}
with(instance_create(10752,11968+500+4412,obj_wagon4)){mode = 2;decor = 0;}
alarm[5] = 1300
}
}



</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///redemarage




</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="6">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>alarm[7] = 2000
obj_zombie.visible = true
//obj_zombie.solid = true
audio_play_sound(snd_trainshufle,1,false);
with(obj_tolepont){instance_destroy();
}

if global.dansletrain = 1 {
voyage = 1}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//create metro
obj_zombie.visible = true
//obj_zombie.solid = true
global.dansletrain = 0
voyage = 0 
if instance_exists(obj_soltrain1){
alarm[6] = 800
with(obj_soltrain1){
with(instance_create(x,y,obj_tolepont)){alarm[0] = 300;image_angle = 90;droite = 1}
with(instance_create(x,y,obj_tolepont)){alarm[1] = 300;image_angle = -90;droite = 0}
}}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///REPOP DU JOUEUR SUR CHEMINOT QUAND FIN DE TRAJET
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///pop d un enemi sur la ligne

dg = choose(1,2)

if dg = 2 {
nepascreate = 0
with(obj_trainengine){if other.existgauche = 1 {other.nepascreate = 1}}
if nepascreate = 0 {existgauche = 1
ds_grid_set(traingrid,22,1,1)
//ds_grid_set(traingrid,23,1,0)
ds_grid_set(traingrid,24,1,random_range(100,150))
//ds_grid_set(traingrid,25,1,1)
ds_grid_set(traingrid,26,1,random_range(30,39))
//ds_grid_set(traingrid,27,1,1)
ds_grid_set(traingrid,28,1,totaltimedest)
}
}else{
nepascreate = 0
with(obj_trainengine){if other.existdroite = 1 {other.nepascreate = 1}}
if nepascreate = 0 {existdroite = 1
//ds_grid_set(traingrid,22,1,1)
ds_grid_set(traingrid,23,1,1)
//ds_grid_set(traingrid,24,1,1)
ds_grid_set(traingrid,25,1,random_range(100,150))
//ds_grid_set(traingrid,26,1,1)
ds_grid_set(traingrid,27,1,random_range(25,39))
ds_grid_set(traingrid,29,1,totaltimedest)
}
}


alarm[3] = random_range(1000,6000)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///fin du trajet
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if room = room145 {
droiteougauche = choose(0,50,100)
//if droiteougauche = 1 {
//instance_create((-droiteougauche)+random_range(0,300),random_range(-200,-150),obj_arbreneige)//}
//instance_create((-droiteougauche)+random_range(400,700),random_range(-200,-150),obj_arbreneige)//}
instance_create((-droiteougauche)+random_range(800,1100),random_range(-200,-150),obj_arbreneige)//}
instance_create((-droiteougauche)+random_range(1200,1500),random_range(-200,-150),obj_arbreneige)//}
instance_create((-droiteougauche)+random_range(1550,1850),random_range(-200,-150),obj_arbreneige)//}
//instance_create((-droiteougauche)+random_range(2000,2300),random_range(-200,-150),obj_arbreneige)//}

//instance_create(droiteougauche+2700+random_range(0,300),random_range(-200,-150),obj_arbreneige)//}
instance_create(droiteougauche+2700+random_range(450,750),random_range(-200,-150),obj_arbreneige)//}
instance_create(droiteougauche+2700+random_range(800,1100),random_range(-200,-150),obj_arbreneige)//}
instance_create(droiteougauche+2700+random_range(1200,1500),random_range(-200,-150),obj_arbreneige)//}
//instance_create(droiteougauche+2700+random_range(1600,1900),random_range(-200,-150),obj_arbreneige)//}
//instance_create(droiteougauche+2700+random_range(2000,2300),random_range(-200,-150),obj_arbreneige)//}


instance_create(random_range(2200,2300),random_range(-200,-150),obj_arbreneige)//}
instance_create(2700+random_range(0,100),random_range(-200,-150),obj_arbreneige)//}




//instance_create(random_range(0,room_width/2-250),random_range(-700,-100),obj_arbreneige)//}
/*instance_create(random_range(0,room_width/2-250),random_range(-700,-100),obj_arbreneige)//}
instance_create(random_range(0,room_width/2-250),random_range(-700,-100),obj_arbreneige)//}*/
//if droiteougauche = 2 {
//instance_create(random_range(room_width/2+250,room_width),random_range(-700,-100),obj_arbreneige)//}
if background_vspeed[0] &gt; 0 {
alarm[1] = (40/background_vspeed[0])*5}
}
if alarm[1] &lt;= 0 {alarm[1] = 12}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///ce mette sur le XY arrive et sortis de gare

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>x1 = ds_grid_get(traingrid,1,1)
x2 = 1.1//ds_grid_get(traingrid,2,1)
x3 = 1.2//ds_grid_get(traingrid,3,1)
x4 = 1.3//ds_grid_get(traingrid,4,1)
x5 = ds_grid_get(traingrid,5,1)
x6 = ds_grid_get(traingrid,6,1)
x7 = ds_grid_get(traingrid,7,1)
x8 = ds_grid_get(traingrid,8,1)
x9 = ds_grid_get(traingrid,9,1)
x10 = ds_grid_get(traingrid,10,1)
x11 = ds_grid_get(traingrid,11,1)//ordre decroissant 100 a 0
x12 = ds_grid_get(traingrid,12,1)
x13 = ds_grid_get(traingrid,13,1)
x14 = ds_grid_get(traingrid,14,1)
x15 = ds_grid_get(traingrid,15,1)
x16 = ds_grid_get(traingrid,16,1)
x17 = ds_grid_get(traingrid,17,1)
x18 = ds_grid_get(traingrid,18,1)
x19 = ds_grid_get(traingrid,19,1)
x20 = ds_grid_get(traingrid,20,1)
x21 = ds_grid_get(traingrid,21,1)
x22 = ds_grid_get(traingrid,22,1)
x23 = ds_grid_get(traingrid,23,1)
x24 = ds_grid_get(traingrid,24,1)
x25 = ds_grid_get(traingrid,25,1)
x26 = ds_grid_get(traingrid,26,1)
x27 = ds_grid_get(traingrid,27,1)
x28 = ds_grid_get(traingrid,28,1)
x29 = ds_grid_get(traingrid,29,1)
x30 = ds_grid_get(traingrid,30,1)

//HORLOGE TRAIN //DANS obj_control DRAW
/*if instance_exists(obj_trainengine){}else{
if room = room133 {if global.sl_time&gt;=10 &amp;&amp; global.sl_time&lt;=10.01 {
obj_control
}}
}*/


angleminutetrain = frac(global.sl_time)*100

if instance_exists(obj_trainengine){}else{
if room = room133 {if floor(angleminutetrain) = 15 {
obj_controllertrain.alarm[9] = 1}}
if room = room139 {if floor(angleminutetrain) = 30 {
obj_controllertrain.alarm[9] = 1}}
if room = room144 {if floor(angleminutetrain) = 45 {
obj_controllertrain.alarm[9] = 1}}
/*if room = room144 {if floor(angleminutetrain) = 45 {
obj_controllertrain.alarm[9] = 1}}*/
//GARE 
if room = room134 {
if floor(angleminutetrain) = 10 {
with(instance_create(x,y,obj_questinfo)){finished = 5
nbrquestinfo = instance_number(obj_questinfo) 
alarm[1] = 1+(200*nbrquestinfo)
questinfovar = "";quest = 0}
dirloin = 1;obj_controllertrain.alarm[9] = 1}
if floor(angleminutetrain) = 30 {
with(instance_create(x,y,obj_questinfo)){finished = 6
nbrquestinfo = instance_number(obj_questinfo) 
alarm[1] = 1+(200*nbrquestinfo)
questinfovar = "";quest = 0}
dirloin = 2;obj_controllertrain.alarm[9] = 1}
if floor(angleminutetrain) = 50 {
with(instance_create(x,y,obj_questinfo)){finished = 7
nbrquestinfo = instance_number(obj_questinfo) 
alarm[1] = 1+(200*nbrquestinfo)
questinfovar = "";quest = 0}
dirloin = 3;obj_controllertrain.alarm[9] = 1}}


if room = room138 {if floor(angleminutetrain) = 35{
obj_controllertrain.alarm[9] = 1}}
if room = room40 {if floor(angleminutetrain) = 55{
obj_controllertrain.alarm[9] = 1}}
if room = room131 {if floor(angleminutetrain) = 25{
obj_controllertrain.alarm[9] = 1}}

}

if room = room133 {
if instance_exists(obj_trainengine){
if alarm[7] = 900 {
if obj_controllertrain.voyage = 1 {
if obj_trainengine.down = 0 {
room_goto(room139)
down = 0
obj_zombie.x = 4640
obj_zombie.y = 6080
obj_zombie.dernierx = 4640
obj_zombie.derniery = 6080
}else{
room_goto(room144)
down = 1
obj_zombie.x = 7648
obj_zombie.y = 448
obj_zombie.dernierx = 7648
obj_zombie.derniery = 448
}
}

if instance_exists(obj_trainengine){with(obj_trainengine){instance_destroy();}}
if instance_exists(obj_wagon1){with(obj_wagon1){instance_destroy();}}
if instance_exists(obj_wagon2){with(obj_wagon2){instance_destroy();}}
if instance_exists(obj_wagon3){with(obj_wagon3){instance_destroy();}}
if instance_exists(obj_wagon4){with(obj_wagon4){instance_destroy();}}
}
}}
if room = room139 {
if alarm[7] = 1300 {
if obj_controllertrain.voyage = 1 {
room_goto(room133)
down = 1
obj_zombie.x = 4640
obj_zombie.y = 6080
obj_zombie.dernierx = 4640
obj_zombie.derniery = 6080
}

if instance_exists(obj_trainengine){with(obj_trainengine){instance_destroy();}}
if instance_exists(obj_wagon1){with(obj_wagon1){instance_destroy();}}
if instance_exists(obj_wagon2){with(obj_wagon2){instance_destroy();}}
if instance_exists(obj_wagon3){with(obj_wagon3){instance_destroy();}}
if instance_exists(obj_wagon4){with(obj_wagon4){instance_destroy();}}
}
}
if room = room144 {
if alarm[7] = 1300 {
if obj_controllertrain.voyage = 1 {
room_goto(room133)
down = 0
obj_zombie.x = 10976
obj_zombie.y = 14880
obj_zombie.dernierx = 10976
obj_zombie.derniery = 14880
}

if instance_exists(obj_trainengine){with(obj_trainengine){instance_destroy();}}
if instance_exists(obj_wagon1){with(obj_wagon1){instance_destroy();}}
if instance_exists(obj_wagon2){with(obj_wagon2){instance_destroy();}}
if instance_exists(obj_wagon3){with(obj_wagon3){instance_destroy();}}
if instance_exists(obj_wagon4){with(obj_wagon4){instance_destroy();}}
}
}

//GARDE DES TAUDIS
if room = room134 {
if alarm[7] = 1300 {
if obj_controllertrain.voyage = 1 {
if dirloin = 1 {

room_goto(room138)
down = 0
obj_zombie.x = 2784
obj_zombie.y = 7968
obj_zombie.dernierx = 2784
obj_zombie.derniery = 7968
}else if dirloin = 2 {
room_goto(room40)
down = 0
obj_zombie.x = 3840
obj_zombie.y = 7968
obj_zombie.dernierx = 3840
obj_zombie.derniery = 7968
}else if dirloin = 3 {
room_goto(room131)
down = 0
obj_zombie.x = 10752
obj_zombie.y = 11968
obj_zombie.dernierx = 10752
obj_zombie.derniery = 11968
}
}

if instance_exists(obj_trainengine){with(obj_trainengine){instance_destroy();}}
if instance_exists(obj_wagon1){with(obj_wagon1){instance_destroy();}}
if instance_exists(obj_wagon2){with(obj_wagon2){instance_destroy();}}
if instance_exists(obj_wagon3){with(obj_wagon3){instance_destroy();}}
if instance_exists(obj_wagon4){with(obj_wagon4){instance_destroy();}}
}
}

//ZONE DES PATROUILLEURS
if room = room138 {
if alarm[7] = 1300 {
if obj_controllertrain.voyage = 1 {
room_goto(room134)
down = 1
obj_zombie.x = 1152
obj_zombie.y = 128
obj_zombie.dernierx = 1152
obj_zombie.derniery = 128
}

if instance_exists(obj_trainengine){with(obj_trainengine){instance_destroy();}}
if instance_exists(obj_wagon1){with(obj_wagon1){instance_destroy();}}
if instance_exists(obj_wagon2){with(obj_wagon2){instance_destroy();}}
if instance_exists(obj_wagon3){with(obj_wagon3){instance_destroy();}}
if instance_exists(obj_wagon4){with(obj_wagon4){instance_destroy();}}
}
}

//CITE D ASHVERFI
if room = room40 {
if alarm[7] = 1300 {
if obj_controllertrain.voyage = 1 {
room_goto(room134)
down = 1
obj_zombie.x = 1152
obj_zombie.y = 128
obj_zombie.dernierx = 1152
obj_zombie.derniery = 128
}

if instance_exists(obj_trainengine){with(obj_trainengine){instance_destroy();}}
if instance_exists(obj_wagon1){with(obj_wagon1){instance_destroy();}}
if instance_exists(obj_wagon2){with(obj_wagon2){instance_destroy();}}
if instance_exists(obj_wagon3){with(obj_wagon3){instance_destroy();}}
if instance_exists(obj_wagon4){with(obj_wagon4){instance_destroy();}}
}
}


//CITE SOUTERAINE VOLGAR
if room = room131 {
if alarm[7] = 1300 {
if obj_controllertrain.voyage = 1 {
room_goto(room134)
down = 1
obj_zombie.x = 1152
obj_zombie.y = 128
obj_zombie.dernierx = 1152
obj_zombie.derniery = 128
}

if instance_exists(obj_trainengine){with(obj_trainengine){instance_destroy();}}
if instance_exists(obj_wagon1){with(obj_wagon1){instance_destroy();}}
if instance_exists(obj_wagon2){with(obj_wagon2){instance_destroy();}}
if instance_exists(obj_wagon3){with(obj_wagon3){instance_destroy();}}
if instance_exists(obj_wagon4){with(obj_wagon4){instance_destroy();}}
}
}



if alarm[6] &gt; 100 {}
if alarm[6] &gt; 400 {global.dansletrain = 0;}

if alarm[6] = 400{
if instance_exists(obj_tolepont){
//alarm[6] = 2000

with(obj_tolepont){
if droite = 1 {alarm[1] = 301;}else{alarm[0] = 301;}
//with(instance_create(x,y,obj_tolepont)){alarm[0] = 300;image_angle = 90}
//with(instance_create(x,y,obj_tolepont)){alarm[1] = 300;image_angle = -90}
}}
/*if instance_exists(obj_trainengine){obj_trainengine.y -= 1*(alarm[5]/200)}
if instance_exists(obj_wagon1){obj_wagon1.y -= 1*(alarm[5]/200)}
if instance_exists(obj_wagon2){obj_wagon2.y -= 1*(alarm[5]/200)}
if instance_exists(obj_wagon3){obj_wagon3.y -= 1*(alarm[5]/200)}
if instance_exists(obj_wagon4){obj_wagon4.y -= 1*(alarm[5]/200)}
if instance_exists(obj_soltrain1){obj_soltrain1.y -= 1*(alarm[5]/200)}
if instance_exists(obj_soltrain2){obj_soltrain2.y -= 1*(alarm[5]/200)}
if instance_exists(obj_wallarriere){obj_wallarriere.y -= 1*(alarm[5]/200)}

if instance_exists(obj_light02){with(obj_light02){if mode = 15 or mode = 16 {
y -= 1*(other.alarm[5]/200)}}}

if instance_exists(obj_light01){with(obj_light01){if mode = 35.5 {
y -= 1*(other.alarm[5]/200)}}}


*/

}




//if instance_exists(obj_network){

if alarm[4] &gt; 0 {if instance_exists(obj_cheminot){
obj_zombie.x = obj_cheminot.x +lengthdir_x(90,obj_cheminot.image_angle)
obj_zombie.y = obj_cheminot.y +lengthdir_y(90,obj_cheminot.image_angle)
}}


///ce mette sur le XY arrive et sortis de gare
if alarm[0] &gt; 0 {
if room = room145 {//arrivé dans le train
if room = room138 { ds_grid_set(traingrid,14,1,1)}
if room = room40 { ds_grid_set(traingrid,14,1,1)}
if room = room131 { ds_grid_set(traingrid,14,1,1)}
//ds_grid_set(traingrid,7,1,garechoose)
between = point_distance(x14,0,garechoose,0)
totaltimedest = between*500//(x14 - garechoose)*10000
//if totaltimedest &lt; 0 {totaltimedest = -totaltimedest}
//totaltimedest//TIME DESTINATION
obj_zombie.x = room_width/2
obj_zombie.y = 1500
alarm[3] = random_range(1000,6000)
}else{//arrivé en gare
obj_zombie.x = room_width/2
obj_zombie.y = 1500
}}




//check quand activité 
/*if room = room145 {

//FIN DU TRAJET
if x11 &lt;= 0 {
alarm[4] = 100
room_goto(x7);
totaltimedest = 1
existdroite = 0
existgauche = 0
pos1t = 0
pos2t = 0
pos3t = 0
dg = 0
ds_grid_set(traingrid,14,1,x7)//garechoose
ds_grid_set(traingrid,7,1,0)
ds_grid_set(traingrid,11,1,1)
ds_grid_set(traingrid,12,1,0)
ds_grid_set(traingrid,13,1,0)
ds_grid_set(traingrid,21,1,0)
ds_grid_set(traingrid,22,1,0)
ds_grid_set(traingrid,23,1,0)
ds_grid_set(traingrid,24,1,0)
ds_grid_set(traingrid,25,1,0)
ds_grid_set(traingrid,26,1,0)
ds_grid_set(traingrid,27,1,0)
ds_grid_set(traingrid,28,1,0)
ds_grid_set(traingrid,29,1,0)
garechoose = 0

}

//vitesse au position des IA
if ds_grid_get(traingrid,22,1) = 1 {if x11 &lt; ds_grid_get(traingrid,28,1) {
ds_grid_set(traingrid,28,1,ds_grid_get(traingrid,28,1)-(0.1*ds_grid_get(traingrid,26,1)))
}else{
x1bot = choose(1)
x2bot = choose(1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2.1,2.2,2.3,2.4,2.5,2.6,2.7,2.8,2.9,3.1,3.2,3.3,3.4,3.5,3.6,3.7,3.8,3.9)
x3bot = choose(1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2.1,2.2,2.3,2.4,2.5,2.6,2.7,2.8,2.9,3.1,3.2,3.3,3.4,3.5,3.6,3.7,3.8,3.9)
x4bot = choose(1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2.1,2.2,2.3,2.4,2.5,2.6,2.7,2.8,2.9,3.1,3.2,3.3,3.4,3.5,3.6,3.7,3.8,3.9)
x5bot = choose(1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2.1,2.2,2.3,2.4,2.5,2.6,2.7,2.8,2.9,3.1,3.2,3.3,3.4,3.5,3.6,3.7,3.8,3.9)
nepascreate = 0
raildroitegauche = 2 
with(obj_trainengine){if raildroitegauche = other.raildroitegauche {other.nepascreate = 1}}
if nepascreate = 0 {

if x1bot &gt; 0 {with(instance_create(2000,y+6000+540,obj_trainengine)){mode = floor(other.x1bot);bot = 1;raildroitegauche = other.raildroitegauche}}
if x2bot &gt; 0 {with(instance_create(2000,y+6000+500+1103,obj_wagon1)){mode = floor(other.x2bot);bot = 1;raildroitegauche = other.raildroitegauche}}
if x3bot &gt; 0 {with(instance_create(2000,y+6000+500+2206,obj_wagon2)){mode = floor(other.x3bot);bot = 1;raildroitegauche = other.raildroitegauche}}
if x4bot &gt; 0 {with(instance_create(2000,y+6000+500+3309,obj_wagon3)){mode = floor(other.x4bot);bot = 1;raildroitegauche = other.raildroitegauche}}
if x5bot &gt; 0 {with(instance_create(2000,y+6000+500+4412,obj_wagon4)){mode = floor(other.x5bot);bot = 1;raildroitegauche = other.raildroitegauche}}
}
}}
if ds_grid_get(traingrid,23,1) = 1 {if x11 &lt; ds_grid_get(traingrid,29,1) {
ds_grid_set(traingrid,29,1,ds_grid_get(traingrid,29,1)-(0.1*ds_grid_get(traingrid,27,1)))
}else{
x1bot = choose(1)
x2bot = choose(1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2.1,2.2,2.3,2.4,2.5,2.6,2.7,2.8,2.9,3.1,3.2,3.3,3.4,3.5,3.6,3.7,3.8,3.9)
x3bot = choose(1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2.1,2.2,2.3,2.4,2.5,2.6,2.7,2.8,2.9,3.1,3.2,3.3,3.4,3.5,3.6,3.7,3.8,3.9)
x4bot = choose(1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2.1,2.2,2.3,2.4,2.5,2.6,2.7,2.8,2.9,3.1,3.2,3.3,3.4,3.5,3.6,3.7,3.8,3.9)
x5bot = choose(1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2.1,2.2,2.3,2.4,2.5,2.6,2.7,2.8,2.9,3.1,3.2,3.3,3.4,3.5,3.6,3.7,3.8,3.9)

nepascreate = 0
 raildroitegauche = 1 
with(obj_trainengine){if raildroitegauche = other.raildroitegauche {other.nepascreate = 1}}
if nepascreate = 0 {

if x1bot &gt; 0 {with(instance_create(3000,y+6000+540,obj_trainengine)){mode = floor(other.x1bot);bot = 1;raildroitegauche = other.raildroitegauche}}
if x2bot &gt; 0 {with(instance_create(3000,y+6000+500+1103,obj_wagon1)){mode = floor(other.x2bot);bot = 1;raildroitegauche = other.raildroitegauche}}
if x3bot &gt; 0 {with(instance_create(3000,y+6000+500+2206,obj_wagon2)){mode = floor(other.x3bot);bot = 1;raildroitegauche = other.raildroitegauche}}
if x4bot &gt; 0 {with(instance_create(3000,y+6000+500+3309,obj_wagon3)){mode = floor(other.x4bot);bot = 1;raildroitegauche = other.raildroitegauche}}
if x5bot &gt; 0 {with(instance_create(3000,y+6000+500+4412,obj_wagon4)){mode = floor(other.x5bot);bot = 1;raildroitegauche = other.raildroitegauche}}

}

}
}

//augmenter ou baisser la vitesse 
if background_vspeed[0] &lt; 40 {
if fuel &gt; 0 {background_vspeed[0] += 0.005;fuel -= 0.005}}
if background_vspeed[0] &gt; 10 {


background_vspeed[0] -= 0.001
background_vspeed[1] = background_vspeed[0]
background_vspeed[2] = background_vspeed[0]
background_vspeed[3] = background_vspeed[0]
background_vspeed[4] = background_vspeed[0]
}

//destination ,distance ,et vitesse par rapport a distance
if ds_grid_get(traingrid,11,1) = 1 {
ds_grid_set(traingrid,11,1,totaltimedest)}else{
ds_grid_set(traingrid,11,1,ds_grid_get(traingrid,11,1)-(0.1*background_vspeed[0]))}

if audio_is_playing(snd_train){}else{
audio_play_sound(snd_train,3,true)}

if x13 = 0 {//seulement si non actif donc non leader
if instance_exists(leaderdutrain){
destinationfin = leaderdutrain.x7
}
if instance_exists(obj_trainengine){with(obj_trainengine){if bot = 0 {hp = other.x15}}}
if instance_exists(obj_wagon1){with(obj_wagon1){if bot = 0 {hp = other.x16}}}
if instance_exists(obj_wagon2){with(obj_wagon2){if bot = 0 {hp = other.x17}}}
if instance_exists(obj_wagon3){with(obj_wagon3){if bot = 0 {hp = other.x18}}}
if instance_exists(obj_wagon4){with(obj_wagon4){if bot = 0 {hp = other.x19}}}


//team check si le leader exist tjr ou encore en actif
if leaderdutrain &gt; 0 &amp;&amp; instance_exists(leaderdutrain){
room_goto(destinationfin);
alarm[0] = 20
}}





}else{
if audio_is_playing(snd_train){
audio_stop_sound(snd_train)}}*/
//

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="61">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if proposevoyage = 1 {
if garechoose &gt; 1 {
garechoose -= 1
}else{garechoose = 3}

if garechoose = 3 &amp;&amp; room = room131 {garechoose = 2}
if garechoose = 2 &amp;&amp; room = room40 {garechoose = 1}
if garechoose = 1 &amp;&amp; room = room138 {garechoose = 3}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="60">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if proposevoyage = 1 {
if garechoose &lt; 3 {
garechoose += 1
}else{garechoose = 1}

if garechoose = 1 &amp;&amp; room = room138 {garechoose = 2}
if garechoose = 2 &amp;&amp; room = room40 {garechoose = 3}
if garechoose = 3 &amp;&amp; room = room131 {garechoose = 1}

}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>proposevoyage = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>alarm[8] = 5
alarm[5] = 700

obj_zombie.visible = true
//obj_zombie.solid = true

if room = room145 {
if x13 = 1 {

if x1 &gt; 0 {with(instance_create(room_width/2,y+540,obj_trainengine)){mode = other.x1;bot = 0;}}
if x2 &gt; 0 {with(instance_create(room_width/2,y+500+1103,obj_wagon1)){mode = other.x2;bot = 0;}}
if x3 &gt; 0 {with(instance_create(room_width/2,y+500+2206,obj_wagon2)){mode = other.x3;bot = 0;}}
if x4 &gt; 0 {with(instance_create(room_width/2,y+500+3309,obj_wagon3)){mode = other.x4;bot = 0;}}
if x5 &gt; 0 {with(instance_create(room_width/2,y+500+4412,obj_wagon4)){mode = other.x5;bot = 0;}}

}else {if instance_exists(leaderdutrain){
if leaderdutrain.x1 &gt; 0 {with(instance_create(room_width/2,y+540,obj_trainengine)){mode = other.leaderdutrain.x1;bot = 0;}}
if leaderdutrain.x2 &gt; 0 {with(instance_create(room_width/2,y+500+1103,obj_wagon1)){mode = other.leaderdutrain.x2;bot = 0;}}
if leaderdutrain.x3 &gt; 0 {with(instance_create(room_width/2,y+500+2206,obj_wagon2)){mode = other.leaderdutrain.x3;bot = 0;}}
if leaderdutrain.x4 &gt; 0 {with(instance_create(room_width/2,y+500+3309,obj_wagon3)){mode = other.leaderdutrain.x4;bot = 0;}}
if leaderdutrain.x5 &gt; 0 {with(instance_create(room_width/2,y+500+4412,obj_wagon4)){mode = other.leaderdutrain.x5;bot = 0;}}
}}}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>ds_grid_clear(traingrid, -1);
ds_grid_destroy(traingrid);

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//obj_nightcycle
//scr_trainhud

var x1,x2,y1,y2;


x1 = view_xview[0];
x2 = x1 + 1368;//view_wview[0];
y1 = view_yview[0];
y2 = y1 + 780;

if obj_controllertrain.voyage = 1 {
if room = room133 {if alarm[7] &gt; 1200 &amp;&amp; alarm[7] &lt; 1500 {if alarmalpha &lt; 1 {alarmalpha += 0.01 }}}
if room = room139 {if alarm[7] &gt; 1200 &amp;&amp; alarm[7] &lt; 1500 {if alarmalpha &lt; 1 { alarmalpha += 0.01 }}}
if room = room144 {if alarm[7] &gt; 1200 &amp;&amp; alarm[7] &lt; 1500 {if alarmalpha &lt; 1 { alarmalpha += 0.01 }}}
if room = room134 {if alarm[7] &gt; 1200 &amp;&amp; alarm[7] &lt; 1500 {if alarmalpha &lt; 1 { alarmalpha += 0.01 }}}
if room = room138 {if alarm[7] &gt; 1200 &amp;&amp; alarm[7] &lt; 1500 {if alarmalpha &lt; 1 { alarmalpha += 0.01 }}}
if room = room40 {if alarm[7] &gt; 1200 &amp;&amp; alarm[7] &lt; 1500 {if alarmalpha &lt; 1 { alarmalpha += 0.01 }}}
if room = room131 {if alarm[7] &gt; 1200 &amp;&amp; alarm[7] &lt; 1500 {if alarmalpha &lt; 1 { alarmalpha += 0.01 }}}


if room = room133 {if alarm[5] &gt; 0 {if alarmalpha &gt; 0 {alarmalpha -= 0.01 }}}
if room = room139 {if alarm[5] &gt; 0 {if alarmalpha &gt; 0 {alarmalpha -= 0.01 }}}
if room = room144 {if alarm[5] &gt; 0 {if alarmalpha &gt; 0 {alarmalpha -= 0.01 }}}
if room = room134 {if alarm[5] &gt; 0 {if alarmalpha &gt; 0 {alarmalpha -= 0.01 }}}
if room = room138 {if alarm[5] &gt; 0 {if alarmalpha &gt; 0 {alarmalpha -= 0.01 }}}
if room = room40 {if alarm[5] &gt; 0 {if alarmalpha &gt; 0 {alarmalpha -= 0.01 }}}
if room = room131 {if alarm[5] &gt; 0 {if alarmalpha &gt; 0 {alarmalpha -= 0.01 }}}

}else{
if alarmalpha &gt; 0 {alarmalpha -= 0.01 }
}

draw_set_color(c_black);
draw_set_alpha(alarmalpha);
draw_rectangle(x1,y1,x2,y2,0);
draw_set_alpha(1);


</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
