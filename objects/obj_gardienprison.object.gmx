<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_npc9</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if obj_intro.i &lt; 62 {if obj_intro.i = 0 {}else{instance_destroy();}}

image_speed = 0.5+random(0.3)/global.varfpsmax
roomnow = room

str = ""
i = 0
global.question = 0
global.choice = 0
global.reponse = 0
global.nodoublebox = 0

piecedarme1 = 0
debutconvers = 0
finconvers = 0

imagebase = image_angle

dialon = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///FOND NOIR apparition
alarm[6] = 100
///
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="6">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///



</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if obj_zombie.prisoner1 = 0 {}else{if instance_exists(obj_zombie.prisoner1){
ds_grid_add(obj_quest.questgrid, 10, 58,0.06)
with(obj_zombie.prisoner1){instance_destroy();}}obj_zombie.prisoner1 = 0;obj_zombie.karma += 100;}

if obj_zombie.prisoner2 = 0 {}else{if instance_exists(obj_zombie.prisoner2){
ds_grid_add(obj_quest.questgrid, 10, 58,0.06)
with(obj_zombie.prisoner2){instance_destroy();}}obj_zombie.prisoner2 = 0;obj_zombie.karma += 100;}

if obj_zombie.prisoner3 = 0 {}else{if instance_exists(obj_zombie.prisoner3){
ds_grid_add(obj_quest.questgrid, 10, 58,0.06)
with(obj_zombie.prisoner3){instance_destroy();}}obj_zombie.prisoner3 = 0;obj_zombie.karma += 100;}

if obj_zombie.prisoner4 = 0 {}else{if instance_exists(obj_zombie.prisoner4){
ds_grid_add(obj_quest.questgrid, 10, 58,0.06)
with(obj_zombie.prisoner4){instance_destroy();}}obj_zombie.prisoner4 = 0;obj_zombie.karma += 100;}


quest = 58
if ds_grid_get(obj_quest.questgrid, 10 , quest) &lt; 2 
&amp;&amp; ds_grid_get(obj_quest.questgrid, 10 , quest) &gt;= 1 
{


if ds_grid_get(obj_quest.questgrid, 10 , quest) &gt;= 2 {

splitquest = 0
questinfovar = ds_grid_get(obj_quest.questgrid,3,quest)
with(instance_create(x,y,obj_questinfo)){
questinfovar = other.questinfovar
finished = 1
}

 if obj_zombie.karma &gt; 0 &amp;&amp; ds_grid_get(obj_quest.questgrid, 18, quest) = 1 {
obj_zombie.karma += ds_grid_get(obj_quest.questgrid,5, quest)
ds_grid_set(obj_quest.questgrid, 10, quest,2)//VALIDER LA QUETE
ds_grid_set(obj_quest.questgrid, 19, quest,4)//la mÃªttre dans les quetes fini
if ds_grid_get(obj_quest.questgrid,32, quest) = "" {}else{
obj_nightcycle.walkienow = ds_grid_get(obj_quest.questgrid,32, quest)}
if ds_grid_get(obj_quest.questgrid, 30, quest) = "" or ds_grid_get(obj_quest.questgrid, 30, quest) &lt;= 0 {}else{ 
ds_grid_set(obj_quest.questgrid, 10, ds_grid_get(obj_quest.questgrid, 30, quest),1)}//ajouter la prochainequestprincipal
}   
    
    with(obj_infoloot){//ET EN DONNER L INFO
ds_map_add(lootinfods,string(0),"Quest finished : "
+string(ds_grid_get(obj_quest.questgrid,3, other.quest)))
alarmloot[0] = 800
ds_map_add(lootinfods,string(1),"Reward K : "
+string(ds_grid_get(obj_quest.questgrid,5, other.quest)))
alarmloot[1] = 800   
    }
    
    }


}

/*if roomnow = room134 {
with(instance_create(x,y,obj_teleport1)){
x = obj_zombie.x
y = obj_zombie.y
image_xscale = 10
image_yscale = 10
new_room = room138;
new_x = 2880;
new_y = 5696;}
}else if roomnow = room138{

with(instance_create(x,y,obj_teleport1)){
x = obj_zombie.x
y = obj_zombie.y
image_xscale = 10
image_yscale = 10
new_room = room134;
new_x = 896;
new_y = 800;}
}
alarm[0] = 3


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_speed = 0.5+random(0.3)/global.varfpsmax
/*global.interacthud = "Click for Talk"

//echap
if (mouse_check_button_released(mb_right))
{
i = 9
i2= 0
//with(obj_text) {instance_destroy ()}
//with(obj_text2) {instance_destroy ()}


global.choice = 0
global.question = 0



}

/*
if i = 3 {
if obj_zombie.bandagesave &gt; 9
{
i = 5
} else{
i = 4 }
}

if i = 6 {
global.doctorquest = 2

}
*/
if dialon = 1 {distdial = 100}else{distdial = 80}

if point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; distdial {
dialon = 1
if global.language = 1 {obj_cursor.infoall = "Appuie sur 'E' pour parler"}else
if global.language = 2 {obj_cursor.infoall = "Push 'E' to talk"}
 }else{
 dialon = 0
 }

//echap
if dialon = 1 {
//empecher de tirer en contact avec spawner
global.converstir = 1

//variable du choix juste en dessous 
//if global.reponse = 2 { i = 4 ; global.nodoublebox = 0}
//if global.reponse = 1 {i = 5 ; global.nodoublebox = 0}


if i &gt; 4 {i=0 }




      

//lancement du dialogue
//if (mouse_check_button_released(mb_left)) {
if keyboard_check_released(ord("E")){



global.finconvers = 0
    
    
    
    
    var str;
    var str2;
    switch ((i))
    {
    
         
 
        
        
        
        
        
        case 0: str = "I can receive your prisoner escorts in exchange for a reward. " i = 1 ; global.debutconvers = 1 ;global.debutconvers = 1 ;       ;break; 
        case 1: str = "See you later !"   ;  global.debutconvers = 0 ; global.finconvers = 1;i = 0;alarm[0] = 100;alarm[7] = 100 ;break;
        
        
         
         
          
           
        case 5: str = "The doctor have told me that you had pretty well help the community and the outside does not frighten you"   ; i = 6;
        ; break;
        case 6: str = "I must admit that we lost a lot of men these days, so I have to accept any help."    ; i = 7;break;
        case 7: str = "if you think you can survive against the prowlers I have several mission you entrust ."    ; i = 8;break;
        case 8: str = "To start , I sent men receive a Materium cargo , but I have no news for hours, I would like you to see what happened to them."    ; i = 9;break;
        case 9: str = "Try not to die, if it seems too dangerous I would give it another man as you."    ; i = 10;break;
          case 10: str = "See you later !" ;i = 5;global.debutconvers = 0 ; global.finconvers = 1;
         break;
        
        
        
        //default: str = "text5" i = 0;break;
        

        
        
        
        
        
        
        
        
        
        
        
        
        
        }
        
        //emplacement de la boite 1
        if global.question = 0
        {
        if global.nodoublebox = 0
        {
        
        scr_text(str,0.2,view_xview,view_yview+618);
        
        }
        }
        //deplacement de la boite quand question
        if global.question = 1
        {
        if global.nodoublebox = 0
        {
        
        scr_text(str,0.2,view_xview+200,view_yview+618);
        
        }
        }
        
        }else{}
        
        
        //lancement de la deuxieme boite (pour choix)
        
        if global.question = 1
        {
        
            var str;
             switch ((i2)) 
                 {
                 case 1: str = "no"  ;
                 }
        //emplacement de la boite 2
        if global.nodoublebox = 0
        {
        scr_question1(str,0.2,view_xview+1000,view_yview+618);
        }
        global.question = 0

        
        
        
        }
        
        if not instance_exists(obj_text){ image_angle = imagebase}else{
        image_angle=point_direction(x,y,obj_zombie.x,obj_zombie.y)
        }
        }
        /*
            var str;
    switch (irandom(4))
    {
        case 0: str = "text1#take one down,pass it arround#still..." i += 1 ;break; 
        case 1: str = "text2 # i just want to understand." i += 2;break;
        case 3: str = "text2" suite = 3;break;
        case 4: str = "uhhhhh";break;
        default: str = "something went wrong";break;
        
        }
        scr_text(str,0.2,view_xview,view_yview+658);
        
        }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_self();

if alarm[6] &gt; 0 {
var x1,x2,y1,y2;
x1 = view_xview[0];
x2 = x1 + view_wview;//view_wview[0];
y1 = view_yview[0];
y2 = y1 + view_hview;
draw_set_color(c_black);
draw_set_alpha(alarm[6]/100);
draw_rectangle(x1,y1,x2,y2,0);
draw_set_alpha(1);}

if alarm[7] &gt; 0 {
var x1,x2,y1,y2;
x1 = view_xview[0];
x2 = x1 + view_wview;//view_wview[0];
y1 = view_yview[0];
y2 = y1 + view_hview;
draw_set_color(c_black);
draw_set_alpha(1-(alarm[7]/100));
draw_rectangle(x1,y1,x2,y2,0);
draw_set_alpha(1);}


</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
