<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_npc5</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>10</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_speed = 0.5+random(0.3)/global.varfpsmax
var str = ""
str = ""
i = 0
i3 = 0
global.question = 0
global.choice = 0
global.reponse = 0
//piecedarme1 = 0
imagebase = image_angle
global.piecedarme20 = 0
global.piecedarme1 = 0
debutconvers = 0
finconvers = 0
dialon = 0
marchantnbr = 1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if point_distance(x,y,obj_zombie.x,obj_zombie.y) &gt; 150 {showhv = false}
image_speed = 0.6/global.varfpsmax

if dialon = 1 {distdial = 100}else{distdial = 80}

if point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; distdial {
dialon = 1
if global.language = 1 {obj_cursor.infoall = "Appuie sur 'E' pour commercer avec les autres joueurs"}else
if global.language = 2 {obj_cursor.infoall = "Push 'E' To trade with player"}
 }else{
 dialon = 0
 }

//echap
if dialon = 1 {

//if point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; 150 {


//echap
if (mouse_check_button_released(mb_right))
{
showhv = false
//instance_deactivate_object(obj_hvbuttonsend)
////instance_deactivate_object(obj_hvbutton2)
//instance_deactivate_object(obj_hvbuttoncroissant)
//instance_deactivate_object(obj_hvbutton3)
//instance_deactivate_object(obj_hvbuttontri)
//instance_deactivate_object(obj_hvbutton1)


//with(obj_text) {instance_destroy ()}
//with(obj_text2) {instance_destroy ()}


global.choice = 0
global.question = 0



}

//empecher de tirer en contact avec spawner
global.converstir = 1
/*
//variable du choix juste en dessous 
if global.reponse = 2 { i = 4 ; global.nodoublebox = 0}
if global.reponse = 1 {i = 5 ; global.nodoublebox = 0}

//verification que le joueur a les pi√®ces d'armes 
if piecedarme1 = 1  {
if obj_zombie.piecedarmuresave &gt; 0
{
i = 8
} else{
i = 7 }
}

*/


//lancement du dialogue
//if (mouse_check_button_released(mb_left)) {
if keyboard_check_released(ord("E")){


if showhv = false {
showhv = true
//instance_activate_object(obj_hvbuttonsend)
//instance_activate_object(obj_hvbutton2)
//instance_activate_object(obj_hvbuttoncroissant)
//instance_activate_object(obj_hvbutton3)
//instance_activate_object(obj_hvbuttontri)
//instance_activate_object(obj_hvbutton1)

//obj_hvbutton1.betadroid = 0
//actualiz selon prix
with(obj_hotelvente){
if obj_hotelvente.croissant = 1 { moneyref = 0}else{moneyref = 999999999999}
samemoney = 0
samemoneyref = 0
//on efface tout
for (igeta = 1; igeta &lt; 999; igeta += 1){
hvrecumoneyvisuel[igeta] = 0
hvrecuidvisuel[igeta] = 0
hvrecuobjvisuel[igeta] = 0
hvrecustat1visuel[igeta] = 0
hvrecustat2visuel[igeta] = 0
}
//et on recomence
for (igeta = 1; igeta &lt; 999; igeta += 1){

hvrecumoneyvisuel[igeta] = 0
hvrecuidvisuel[igeta] = 0
hvrecuobjvisuel[igeta] = 0
hvrecustat1visuel[igeta] = 0
hvrecustat2visuel[igeta] = 0
samemoney = 0
for (ideta = 0; ideta &lt; 999; ideta += 1){

if hvrecuobj[ideta] &gt; triobjmin &amp;&amp;  hvrecuobj[ideta] &lt; triobjmax {//FINIR CA


if obj_hotelvente.croissant = 1 {////////CROISSANT
if hvrecumoneyvisuel[igeta] &gt;  hvrecumoney[ideta] or hvrecumoneyvisuel[igeta] = 0
 //or hvrecuidvisuel[igeta] &lt; hvrecuid[ideta]
{// &gt; avant
//remplacer objet si moins chere mais pas si meme prix/moin chere que le precedent
if hvrecumoney[ideta] &gt; moneyref {

//if hvrecuid[ideta] &gt;= hvrecuidvisuel[igeta] {
hvrecumoneyvisuel[igeta] = hvrecumoney[ideta]
hvrecuidvisuel[igeta] = hvrecuid[ideta] 
hvrecuobjvisuel[igeta] = hvrecuobj[ideta]
hvrecustat1visuel[igeta] = hvrecustat1[ideta]
hvrecustat2visuel[igeta] = hvrecustat2[ideta]
samemoneyref = 0//PEUT ETRE A RETIRER
//idref = hvrecuidvisuel[igeta]
//}

}

}//si pas d objet pareil avant ,rechercher le plus haut en id
else if hvrecumoney[ideta] = hvrecumoneyvisuel[igeta] &amp;&amp; hvrecuidvisuel[igeta] &lt; hvrecuid[ideta]{
if samemoneyref = 0 {
hvrecumoneyvisuel[igeta] = hvrecumoney[ideta]
hvrecuidvisuel[igeta] = hvrecuid[ideta] 
hvrecuobjvisuel[igeta] = hvrecuobj[ideta]
hvrecustat1visuel[igeta] = hvrecustat1[ideta]
hvrecustat2visuel[igeta] = hvrecustat2[ideta]


}

}


}else{/////DECROISSANT
if hvrecumoneyvisuel[igeta] &lt;  hvrecumoney[ideta] or hvrecumoneyvisuel[igeta] = 0
 //or hvrecuidvisuel[igeta] &lt; hvrecuid[ideta]
{// &gt; avant
//remplacer objet si moins chere mais pas si meme prix/moin chere que le precedent
if hvrecumoney[ideta] &lt; moneyref {

//if hvrecuid[ideta] &gt;= hvrecuidvisuel[igeta] {
hvrecumoneyvisuel[igeta] = hvrecumoney[ideta]
hvrecuidvisuel[igeta] = hvrecuid[ideta] 
hvrecuobjvisuel[igeta] = hvrecuobj[ideta]
hvrecustat1visuel[igeta] = hvrecustat1[ideta]
hvrecustat2visuel[igeta] = hvrecustat2[ideta]
//samemoneyref = 0//PEUT ETRE A RETIRER
//idref = hvrecuidvisuel[igeta]
//}

}

}//si pas d objet pareil avant ,rechercher le plus haut en id
 if hvrecumoney[ideta] = hvrecumoneyvisuel[igeta] &amp;&amp; hvrecuidvisuel[igeta] &lt; hvrecuid[ideta]{
if samemoney = 0 {//samemoneyref
//if hvrecuidvisuel[igeta] &lt; hvrecuid[ideta] {
hvrecumoneyvisuel[igeta] = hvrecumoney[ideta]
hvrecuidvisuel[igeta] = hvrecuid[ideta] 
hvrecuobjvisuel[igeta] = hvrecuobj[ideta]
hvrecustat1visuel[igeta] = hvrecustat1[ideta]
hvrecustat2visuel[igeta] = hvrecustat2[ideta]


}

}

}



if samemoneyref = 0 {}else{
 if  hvrecumoney[ideta] = moneyref &amp;&amp; moneyref &gt; 0{

if hvrecuid[ideta] &lt; samemoneyref {
samemoney = 1//
//if hvrecuid[ideta] &gt; idref {
hvrecumoneyvisuel[igeta] = hvrecumoney[ideta]
hvrecuidvisuel[igeta] = hvrecuid[ideta] 
hvrecuobjvisuel[igeta] = hvrecuobj[ideta]
hvrecustat1visuel[igeta] = hvrecustat1[ideta]
hvrecustat2visuel[igeta] = hvrecustat2[ideta]

}
}//

}
}}
if hvrecumoneyvisuel[igeta] &gt; 0 {moneyref = hvrecumoneyvisuel[igeta]}//if hvrecumoneyvisuel[igeta] &gt; moneyref { moneyref = hvrecumoneyvisuel[igeta]}
//if hvrecuobjvisuel[igeta] = objref {}else{}
if  hvrecumoneyvisuel[igeta] = moneyref {samemoney = 1}
if samemoney = 1 {samemoneyref = hvrecuidvisuel[igeta]}else{samemoneyref = 0}

//if samemoneyref &gt; 0 {samemoneyref =0}


idref = hvrecuidvisuel[igeta]
objref = hvrecuobjvisuel[igeta]

if hvrecumoneyvisuel[igeta] = 0
&amp;&amp; hvrecuidvisuel[igeta] = 0 
&amp;&amp; hvrecuobjvisuel[igeta] = 0
&amp;&amp; hvrecustat1visuel[igeta] = 0
&amp;&amp; hvrecustat2visuel[igeta] = 0{
igeta = 1000
}

}


}








}

}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="27">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>showhv = false
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
