<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_camera</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>12</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>anglecamera = random_range(-40,40)
up = 1

bonusdistguys = 0

nouvel_angle = 0
idlight = 0
with(instance_create(x+lengthdir_x(50,image_angle),y+lengthdir_y(50,image_angle),obj_light01)){
mode = 37
other.idlight = id
}
stalker = 0

hp = 10
angledebase = image_angle
alarm[1] = 2
dgt = ((10) * (obj_zombie.level+20 / 80))//120 pas beaucoup de vie surtout si on compte les armes les talent et les ajout mods //0.2

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>angledebase = image_angle
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if alarm[1] &lt; 0 {
player_y = obj_zombie.y
player_x = obj_zombie.x
cibleallie = obj_zombie

if hp &lt; 0 {
instance_destroy();
}


if obj_zombie.lightnowroom = 0 {



if up = 1 {
if anglecamera &lt; 50 {
anglecamera += 0.5
}else{
up = 0
}
}


if up = 0 {
if anglecamera &gt; -50 {
anglecamera -= 0.5
}else{
up = 1
}
}

visibilitercible = 0
if (point_distance(x, y, player_x, player_y) &lt; 590 )  {
///test de ouf pour vision de perso
//var dir2 = point_direction(x,y,obj_zombie.x,obj_zombie.y);
visibilitercible = 0
player_x = obj_zombie.x
player_y = obj_zombie.y
cibleallie = obj_zombie
scr_collienemy();
}

var dir2 = point_direction(x,y,obj_zombie.x,obj_zombie.y);
if (point_distance(x, y, player_x, player_y) &lt; 390 ) &amp;&amp; abs(angle_difference(dir2,image_angle)) &lt;= 25 
&amp;&amp; visibilitercible = 1 {
///test de ouf pour vision de perso

if obj_zombie.peacefull = 0 or obj_intro.stopintro = 0 {
if instance_exists(obj_enemy2){
with(obj_enemy2){
alarm[8] = 500
avertissement = 1
toucherparmoi = 1
tirdeloin = 1;
alarm[6] = 1000;
cibleallie = obj_zombie
supermx = obj_zombie.x
supermy = obj_zombie.y}
if audio_is_playing(snd_alarmrelou){}else{
audio_play_sound_at(snd_alarmrelou, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);
}}}




}else{
angletotal = angledebase + anglecamera
nouvel_angle = angletotal
}

if (point_distance(x, y, player_x, player_y) &lt; 390 )  {
///test de ouf pour vision de perso
var dir2 = point_direction(x,y,obj_zombie.x,obj_zombie.y);


if abs(angle_difference(dir2,image_angle)) &lt;= 25 &amp;&amp; visibilitercible = 1 {

nouvel_angle = dir2




}
}



//LUMIERE
/*
mode = 0
    if instance_exists(obj_engine) {
switch mode
{
case 0:
{
    sprite = spr_light05; // Lumière orange
    scale_x  = 4;
    scale_y  = 4;
    angle  = direction;
    color  = c_red;
    alpha  = 0.9;
} break;

case 1:
{
    sprite = spr_light04; // Murale blanche 1
    scale  = 0.7;
    angle  = 270;
    color  = make_color_rgb(221,243,249);
    alpha  = 0.6;
} break;

case 2:
{
    sprite = spr_light04; // Murale blanche 2
    scale  = 0.7;
    angle  = 90;
    color  = make_color_rgb(221,243,249);
    alpha  = 0.6;
} break;

case 3:
{
    sprite = spr_light04; // Murale blanche 3
    scale  = 0.7;
    angle  = 90;
    color  = make_color_rgb(203,236,245);
    alpha  = 0.5 + random(0.1);
} break;

case 4:
{
    sprite = spr_light04; // Murale jaune
    scale  = 0.7;
    angle  = 0;
    color  = make_color_rgb(255,189,51);
    alpha  = 0.6;
} break;

case 5:
{
    sprite = spr_light04; // Murale rouge
    scale  = 0.7;
    angle  = 90;
    color  = make_color_rgb(255,20,4);
    alpha  = 0.4;
} break;

case 6: // Faible lumière blanche
{
    sprite = spr_light01;
    scale  = 3.7;
    angle  = 0;
    color  = c_white;
    alpha  = 0.15;
} break;

case 7: // Murale orange
{
    sprite = spr_light04;
    scale  = 0.85;
    angle  = 270;
    color  = c_orange;
    alpha  = 0.7;
} break;

case 8: // Murale orange 2
{
    sprite = spr_light04;
    scale  = 0.83;
    angle  = 270;
    color  = make_color_rgb(255,176,60);
    alpha  = 0.5 + random(0.1);
}

}

SL_draw_sprite_light(sprite,0,x,y,scale_x,scale_y,image_angle,color,alpha);
}

*/
image_angle += sin(degtorad(nouvel_angle - image_angle)) * 8;
}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
