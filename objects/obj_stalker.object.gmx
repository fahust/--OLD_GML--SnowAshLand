<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_newmob1</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>99</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// create the path and basic stats enemy
questbla = 0
blablaphrases = ""
name = ""
blablaphrases2 = ""
blablaphrases3 = ""
peacefull = 0
blablaphrases = ""
alphadecalstext = 0
name = ""
alarmtirianet = 0
tirianet = 0

colliepeex = 0
colliepeey = 0

existpo = 0

alarmeskiv = 0

mode3 = 0 //sprite escort

blablaquestnow = 0
timequest = 0
blablasplit[0] = ""
blablasplit[1] = ""
blablasplit[2] = ""
blablasplit[3] = ""
blablasplit[4] = ""
blablasplit[5] = ""
blablasplit[6] = ""
blablasplit[7] = ""
blablasplit[8] = ""
blablasplit[9] = ""
blablasplit[10] = ""
blablasplit[11] = ""
blablasplit[12] = ""
blablasplit[13] = ""
blablasplit[14] = ""
blablasplit[15] = ""
blablasplit[16] = ""
blablasplit[17] = ""
blablasplit[18] = ""
blablasplit[19] = ""
blablasplit[20] = ""
blablasplit[21] = ""
blablasplit[22] = ""
blablasplit[23] = ""
blablasplit[24] = ""
blablasplit[25] = ""
blablasplit[26] = ""
blablasplit[27] = ""
blablasplit[28] = ""
blablasplit[29] = ""
blablasplit[30] = ""
blablasplit[31] = ""
blablasplit[32] = ""
blablasplit[33] = ""
blablasplit[34] = ""
blablasplit[35] = ""
blablasplit[36] = ""
blablasplit[37] = ""
blablasplit[38] = ""
blablasplit[39] = ""
blablasplit[40] = ""
blablasplit[41] = ""
blablasplit[42] = ""
blablasplit[43] = ""
blablasplit[44] = ""
blablasplit[45] = ""
blablasplit[46] = ""
blablasplit[47] = ""
blablasplit[48] = ""
blablasplit[49] = ""
blablasplit[50] = ""
splitquest = 0


quest = 0
nbrpopquest = 0


enemyprocheoupo = 0
danslalumiere = 100
alarmvisilight = 0
torch = 1
torchid = 0
 if instance_exists(obj_engine){
 if not instance_exists(torchid){
 with(instance_create(x,y,obj_light_torchstalker2)){
 other.torchid = id
 parent = other.id
 sl_light_xscale = 2.3//2.7
sl_light_yscale = 2.3
 }}
}

levelpoto = 1
fpsmax = 1
headskin = 1;
randomesquive = 0
descenteangle = 0
anglealet = 0
avertissement = 0
alarmavertissement = 0
imagecut = 0
nameia = ""
objepee = 0
blablaquest = ""
strlgt = 0

poussephy = 0
varimangle = 0

detachement = 250

cibleteleport = 0
varmx = 0
varmy = 0
idprisonier = 0
possedeunprisonier = 0

maitre = 0
prisonierdia = 0

esquivenow = 0
/*if room = room0 {}else{
with(instance_create(x,y,obj_enemy2)){
maitre = other.id ; prisonierdia = 1;other.idprisonier = id
}
possedeunprisonier = 1
}
*///alarm 2


ciblemilitairesuivi = 0
grademilitairesuivi = 0
grademilitaire = 0//choose(0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,6,6,6,7,7,8,8,9)
placemilitaire = global.ciblemilitairenbr2
global.ciblemilitairenbr2 += 1

findeblablaphrase = 0
blablaphrases = ""
phrase = 0
alarmphrase = 0
numbercopilote = 0


global.stalkerblabla += choose(1,2,3)
if global.stalkerblabla &gt;= 299 {global.stalkerblabla = 200}
numberblabla = global.stalkerblabla //random_range(1,200)//dans room start nyght cycle reactualiz
numberblabla = floor(numberblabla)
numberpair =(( numberblabla mod 2 )== 0);
if numberpair = 0 {//PAIR
language = 1
}else{;language = choose(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15)}

modepath = 0
modepathtime = 0
modepathvar = 0

visibilitercible = 0

f = 0
s = 0

taser = 0

objepee = 0


potoidprev = 0

supermx = ystart
supermy = xstart

k = 0

randomcalculatorcible = floor(random_range(20,40))

alarmdistcible = 0

randomdistblabla = random_range(1,600)

blablanow = ""

aterre = 0

mx3varprec = 0
my3varprec = 0
mx3 = 0
my3 = 0

colororange = make_color_rgb(255,143,5)
Sname=part_system_create();

particle1=part_type_create()
part_system_depth(Sname,-100000)
part_type_shape(particle1,pt_shape_flare);
//part_type_size(particle1,0.3,0.35,0.05,0);//0.3,0.4,0.1,);
//part_type_speed(particle1,9,19,0.01,0);//,12,35,0.01,0);
part_type_direction(particle1,0,0,0,0);
part_type_orientation(particle1,0,0,0,0,1);
part_type_color3(particle1,0,0,0);//33023,255,65535);
part_type_alpha2(particle1,0.6,0.9);
part_type_scale(particle1,1,1);
part_type_gravity(particle1,0,270);
part_type_life(particle1,5,5);
part_type_blend(particle1,1);

hpmobs = 10
maxhpmobs = 10
soundtap = 0
alarmintro = 0
nbrrepeatmx = 0
escort = 0
karma = 10
karmabas = 0
minage = 0
//role = 0
//cibleenemy = 0
loadframe2 = 0
idpoto = 0
timezombieheal = 0
visionstopnow = 0

instance_activate_object(id);
mode2 = 33
hp = 0
maxhp = 0

instfire = 0
txtpnjtime = 0
txtpnj = ""

modeheal = 0
idsoin = 0
idsointime = 3000
idsointime2 = 300
stophealnow = 0
stophealnowtime = random_range(2000,2700)

if room = room34 or room = room161 {
randomkitheal = 4000
randomfeudecamp = 9000
}else{
randomkitheal = random_range(401,4000) //random_range(500,2000)
randomfeudecamp = random_range(3500,9000)//random_range(1000,5000)
}
loadframe2 = 0



alarm12 = 0
 cibleallie = 0
toucherparmoi = 0
       player_x = 0;
player_y =0;

expia = 0

poto = 0
armurepoto = 1

roomstart = 0

poschangepoto = 0

cibleallie = 0 
vitessereaction = 1

probflame = 0

xxdebut = 0
yydebut = 0
xxend = 0
yyend = 0
xxmovestep = 0
yymovestep = 0
movepiedvitessetest = 0

paralyse = 0
animwalk = 0
paralysetime = 300

xbulletplace = 0
ybulletplace = 0

choosearmshoot = 1
idshieldmob = 0

//OPTIMOB
tempsralent = 0
clicjoueur = 0
//

xx4 = 0
yy4 = 0


tirianet = 0
tirianet2 = 0

//mode2 = choose(1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,3,3,3,3,3,4,4,4,5,5,6,7,8,9,10,12,13,14,15,16)
//mode2 = 2

 
 

//mode2 = 6
tirrafale = 0

aleatexplo = 0

tempscut = 0

coterattack = 0
fonce = 0

dgtaffichage = 0
dgtaffichagecount = 0

path = path_add();
patrol = 1
chasedir = random(360)
aleatcollidir = 1
countaleatcollidir = 1
aleatcollidir2 = 0
//suis les mort
pathstopdead = 0

idcreateur = id


//pour arreter de casser les couilles avec buh
clientia1 = 0
clientia2 = 0
clientia3 = 0
clientia4 = 0
clientia5 = 0
clientia6 = 0
clientia7 = 0
clientia8 = 0
clientia9 = 0
//



//net
startnetia = 0
alarm[7] = 10


//clientia1 = 0
//clientia2 = 0
//clientia3 = 0

iaposx1 = 0
iaposy1 = 0
iaposx2 = 0
iaposy2 = 0
iaposx3 = 0
iaposy3 = 0
iaposx4 = 0
iaposy4 = 0
iaposx5 = 0
iaposy5 = 0
iaposx6 = 0
iaposy6 = 0
iaposx7 = 0
iaposy7 = 0
iaposx8 = 0
iaposy8 = 0
iaposx9 = 0
iaposy9 = 0

//direction douce
directionnow = 0

dgtbonuslow = 1
if obj_zombie.level &lt; 4 {
dgtbonuslow = 1.1
}else if obj_zombie.level &lt; 7 {
dgtbonuslow = 1.2
}else if obj_zombie.level &lt; 10 {
dgtbonuslow = 1.3
}else if obj_zombie.level &lt; 15 {
dgtbonuslow = 1.4
}else if obj_zombie.level &lt; 20 {
dgtbonuslow = 1.6
}else if obj_zombie.level &lt; 25 {
dgtbonuslow = 1.8
}else if obj_zombie.level &lt; 30 {
dgtbonuslow = 1.6
}else if obj_zombie.level &lt; 35 {
dgtbonuslow = 1.4
}else if obj_zombie.level &lt; 40 {
dgtbonuslow = 1.2
}else if obj_zombie.level &lt; 45 {
dgtbonuslow = 1.1
}else if obj_zombie.level &lt; 50 {
dgtbonuslow = 1
}



dgtbonuslow2 = 1
if obj_zombie.level &lt; 4 {
dgtbonuslow2 = 10.05
}else if obj_zombie.level &lt; 7 {
dgtbonuslow2 = 9.2
}else if obj_zombie.level &lt; 10 {
dgtbonuslow2 = 8.5
}else if obj_zombie.level &lt; 15 {
dgtbonuslow2 = 7.2
}else if obj_zombie.level &lt; 20 {
dgtbonuslow2 = 6.75
}else if obj_zombie.level &lt; 25 {
dgtbonuslow2 = 6.2
}else if obj_zombie.level &lt; 30 {
dgtbonuslow2 = 5.75
}else if obj_zombie.level &lt; 35 {
dgtbonuslow2 = 5.20
}else if obj_zombie.level &lt; 40 {
dgtbonuslow2 = 4.15
}else if obj_zombie.level &lt; 45 {
dgtbonuslow2 = 3.1
}else if obj_zombie.level &lt; 50 {
dgtbonuslow2 = 2
}

//reglage difficulté
if obj_difficulty.difficulty = 1 {
statdiffucult = 1//difficulté de base
}else{
statdiffucult = obj_difficulty.difficulty*6//5 facile au level 500
}

//stat du mobs
bonusdistguys = 0

timechasecombat = 0






enemyspeed = 7









tirdeloin = 0
distance = 0

stopexp = 0

tir = 0
rechargementson = 0
image_speed = 0.08;



alarm[2] = 2


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>

if instance_exists(torchid) {with(torchid){instance_destroy();}}

//with(obj_stalker){
//if quest &gt; 0 {//if id = other.id {}else{
if quest &gt; 0 &amp;&amp; ds_grid_get(obj_quest.questgrid, 10 , quest) &lt; 2 {ds_grid_add(obj_quest.questgrid, 10, quest,1/nbrpopquest)

if ds_grid_get(obj_quest.questgrid, 10 , quest) &gt;= 2 {
if quest &gt;= 250 {
if obj_zombie.karma &gt; 0 &amp;&amp; ds_grid_get(obj_quest.questgrid, 18, quest) = 1 {
splitquest = 0
questinfovar = ds_grid_get(obj_quest.questgrid,3,quest)
with(instance_create(x,y,obj_questinfo)){
questinfovar = other.questinfovar
finished = 1
}
obj_zombie.karma += ds_grid_get(obj_quest.questgrid,5, quest)
ds_grid_set(obj_quest.questgrid, 10, quest,2)//VALIDER LA QUETE
ds_grid_set(obj_quest.questgrid, 19, quest,4)//la mêttre dans les quetes fini
if ds_grid_get(obj_quest.questgrid, 30, quest) = "" or ds_grid_get(obj_quest.questgrid, 30, quest) &lt;= 0 {}else{ 
ds_grid_set(obj_quest.questgrid, 10, ds_grid_get(obj_quest.questgrid, 30, quest),1)}//ajouter la prochainequestprincipal
//ds_grid_set(obj_quest.questgrid, 19, quest,4)//la mêttre dans les quetes fini
}
    }else{
 if obj_zombie.karma &gt; 0 &amp;&amp; ds_grid_get(obj_quest.questgrid, 18, quest) = 1 {
 splitquest = 0
questinfovar = ds_grid_get(obj_quest.questgrid,3,quest)
with(instance_create(x,y,obj_questinfo)){
questinfovar = other.questinfovar
finished = 1
}
obj_zombie.karma += ds_grid_get(obj_quest.questgrid,5, other.quest)
ds_grid_set(obj_quest.questgrid, 10, quest,2)//VALIDER LA QUETE
ds_grid_set(obj_quest.questgrid, 19, quest,4)//la mêttre dans les quetes fini
//ds_grid_set(obj_quest.questgrid, 10, quest+1,1)//ajouter la prochainequestprincipal
//ds_grid_set(obj_quest.questgrid, 19, quest,4)//la mêttre dans les quetes fini
}   
    }
    with(obj_infoloot){//ET EN DONNER L INFO
ds_map_add(lootinfods,string(0),"Quest finished : "
+string(ds_grid_get(obj_quest.questgrid,3, other.quest)))
alarmloot[0] = 800
ds_map_add(lootinfods,string(1),"Reward K : "
+string(ds_grid_get(obj_quest.questgrid,5, other.quest)))
alarmloot[1] = 800   
    }
    }


}
//}//}//}

if poto = 1 {global.poto = 0}
draw_clear_alpha( c_white, 0);
if instance_exists(idprisonier) &amp;&amp; idprisonier &gt; 0 {with(idprisonier){instance_destroy();}}
if possedeunprisonier = 0 {
 if instance_exists(objepee){
 with(objepee){instance_destroy();
 }}}

if possedeunprisonier = 0 {
  if instance_exists(idshieldmob){
 with(idshieldmob){
 instance_destroy();
 }
 }}

if mode2 = 10 {//LANCE FLAME
part_type_destroy(particle1);

part_system_destroy(Sname);
}
   if audio_is_playing(snd_lanceflame2) {
audio_stop_sound(snd_lanceflame2)
}
/*
part_type_destroy(partblood);
part_emitter_destroy(partblood, partblood_emit);
part_system_destroy(partblood_sys);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*if poto = 0 {if avertissement = 0 {
if escort = 0 {//motion_set(choose(random(360), random(360),random(360), random(360),random(360), random(360),random(360), random(360),random(360), random(360),random(360), random(360),random(360), random(360),random(360) ,360 ), enemyspeed/4.5/ fpsmax )
}}}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>nouvel_angle=direction
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="9">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//pathstopdead = 1

/*if instance_exists(cibleallie) //&amp;&amp; cibleallie = instance_nearest(x,y,obj_enemy2)
 {
 with(obj_stalker){idme = id
 if other.cibleallie = idme {
 other.modeheal = 1 ;other.idsoin = idme
 }}}*/
 if poto = 0 &amp;&amp; escort &gt; 0 {}else{
if idsoin = 0 &amp;&amp; modeheal = 0 {

///tir de l'enemi rajouter les collisions des balles
// if cibleallie = obj_zombie {}else{
 /*
if instance_exists(obj_enemy2) or karmabas = 1{
if instance_exists(obj_enemy2){
cibleallie = instance_nearest(x,y,obj_enemy2)}
if instance_exists(cibleallie){
       player_x = cibleallie.x;
player_y = cibleallie.y;}

if karmabas = 1 {
cibleallie = obj_zombie
}*/

namecible = object_get_name(cibleallie)

xbulletplace = lengthdir_x(50,image_angle-20)
ybulletplace = lengthdir_y(50,image_angle-20)
 if instance_exists(cibleallie) //&amp;&amp; cibleallie = instance_nearest(x,y,obj_enemy2)
 &amp;&amp; peacefull = 0{
 if cibleallie.taser = 0 &amp;&amp; !namecible = "obj_stalker" {
 oktupeuttirer = 1
 if instance_exists(obj_enemy2){
 if cibleallie = instance_nearest(x,y,obj_enemy2 ) {
 if cibleallie.avertissement = 0 &amp;&amp; cibleallie.trap = 0 {oktupeuttirer = 0}}}
 if oktupeuttirer = 1 {
 stoprlyshootkarmatropbas = 0
 if cibleallie = obj_zombie{
 if cibleallie.karma &gt; 1 {stoprlyshootkarmatropbas = 1}
 }
 if stoprlyshootkarmatropbas = 0 {
 
//TEST
        /* if mode2 = 3 {
         with (instance_create(x+xbulletplace, y+ybulletplace, obj_bullet_stalker))

   {
        audio_play_sound(snd_m16a1,0,0)
        dgt = other.dgt
        cibleallie = other.cibleallie
//move_towards_point(cibleallie.x,cibleallie.y,70/global.varfpsmax)
         direction = other.image_angle//point_direction(other.x, other.y, cibleallie.x, cibleallie.y);
        
         }
         
         alarm[9] = (12+random(4))*fpsmax //* vitessereaction
         }*/
//TEST

var dir2 = point_direction(x,y,cibleallie.x,cibleallie.y);

//if paralyse = 0 {

/*if mode2 = 1 {
xbulletplace = lengthdir_x(100,image_angle-0)
ybulletplace = lengthdir_y(100,image_angle-0)
}
if mode2 = 2 {
xbulletplace = lengthdir_x(100,image_angle-0)
ybulletplace = lengthdir_y(100,image_angle-0)
}
if mode2 = 3 {
xbulletplace = lengthdir_x(100,image_angle-0)
ybulletplace = lengthdir_y(100,image_angle-0)
}
if mode2 = 4 {
xbulletplace = lengthdir_x(100,image_angle-0)
ybulletplace = lengthdir_y(100,image_angle-0)
}
if mode2 = 5 {
xbulletplace = lengthdir_x(100,image_angle-0)
ybulletplace = lengthdir_y(100,image_angle-0)
}
if mode2 = 6 {
xbulletplace = lengthdir_x(100,image_angle-0)
ybulletplace = lengthdir_y(100,image_angle-0)
}
if mode2 = 7 {
xbulletplace = lengthdir_x(100,image_angle-0)
ybulletplace = lengthdir_y(100,image_angle-0)
}
if mode2 = 8 {
xbulletplace = lengthdir_x(100,image_angle-0)
ybulletplace = lengthdir_y(100,image_angle-0)
}
if mode2 = 9 {
xbulletplace = lengthdir_x(100,image_angle-0)
ybulletplace = lengthdir_y(100,image_angle-0)
}
if mode2 = 10 {
xbulletplace = lengthdir_x(100,image_angle-0)
ybulletplace = lengthdir_y(100,image_angle-0)
}
if mode2 = 13 {
xbulletplace = lengthdir_x(100,image_angle-0)
ybulletplace = lengthdir_y(100,image_angle-0)
}
if mode2 = 14 {
xbulletplace = lengthdir_x(100,image_angle-0)
ybulletplace = lengthdir_y(100,image_angle-0)
}
if mode2 = 15 {
xbulletplace = lengthdir_x(100,image_angle-0)
ybulletplace = lengthdir_y(100,image_angle-0)
}
if mode2 = 16 {
xbulletplace = lengthdir_x(100,image_angle-0)
ybulletplace = lengthdir_y(100,image_angle-0)
}
*/

if abs(angle_difference(dir2,image_angle)) &lt;= 35 {
if (point_distance(x, y, player_x, player_y) &lt; 550 + bonusdistguys) 

{
///frequence de tir
//alarm[0] = 80 * global.varfpsmax *  vitessereaction
collivision = cibleallie
scr_collienemy();
if visibilitercible = 1

{alarm[4] = 75
///instance_create ( x+50,y+50,obj_bullet_enemy)

//image_angle = point_direction(x,y,cibleallie.x,cibleallie.y)



var ex, ey;
ex = cibleallie.x;
ey = cibleallie.y;
if obj_zombie.hp &gt; 0 {
dir2 = point_direction(x,y,cibleallie.x,cibleallie.y);


//firebullet


          dir = image_angle

         //BULLET SHOOTGUN
         
         //BULLET SHOOTGUN
         if mode2 = 32 {
         tirianet = 1
         audio_sound_gain(snd_jackhammer, 0.5, 0);
         audio_play_sound_at(snd_jackhammer, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);

   
         with (instance_create(x+xbulletplace, y+ybulletplace, obj_bullet_stalker))

   {
   destroysong = 1
   shootgun = 1
   /*
   with (instance_create(x,y,obj_firebulletenemy))
        {
        image_angle = point_direction(x, y, ex, ey);
        }
   */
move_towards_point(other.cibleallie.x,other.cibleallie.y,70/global.varfpsmax)

dgt = other.dgt
    
   direction = point_direction(other.x,other.y,other.cibleallie.x,other.cibleallie.y)+5;
   }
   ///multi shoot
   
   with (instance_create(x+xbulletplace, y+ybulletplace, obj_bullet_stalker))

   {destroysong = 1
   shootgun = 1
        dgt = other.dgt
move_towards_point(other.cibleallie.x,other.cibleallie.y,70/global.varfpsmax)

   direction =  point_direction(other.x,other.y,other.cibleallie.x,other.cibleallie.y)+2;
   }
   
    ///multi shoot
   
   with (instance_create(x+xbulletplace, y+ybulletplace, obj_bullet_stalker))

   {destroysong = 1
   shootgun = 1
        dgt = other.dgt
move_towards_point(other.cibleallie.x,other.cibleallie.y,70/global.varfpsmax)

   direction =  point_direction(other.x,other.y,other.cibleallie.x,other.cibleallie.y);
   }
   
    ///multi shoot
   
   with (instance_create(x+xbulletplace, y+ybulletplace, obj_bullet_stalker))

   {destroysong = 1
   shootgun = 1
       dgt = other.dgt
move_towards_point(other.cibleallie.x,other.cibleallie.y,70/global.varfpsmax)

   direction =  point_direction(other.x,other.y,other.cibleallie.x,other.cibleallie.y)-2;
   }
   
   
    ///multi shoot
   
   with (instance_create(x+xbulletplace, y+ybulletplace, obj_bullet_stalker))

   {destroysong = 1
   shootgun = 1
        dgt = other.dgt
move_towards_point(other.cibleallie.x,other.cibleallie.y,70/global.varfpsmax)

   direction =  point_direction(other.x,other.y,other.cibleallie.x,other.cibleallie.y)-5;
   }
   alarm[9] = 25+random(50) * fpsmax * vitessereaction
       
         
         
         
         }

         
         //BULLET ASSAUT
         if mode2 = 33 {
         //FUMEE
         tirianet = 1
         with (instance_create(x+xbulletplace+lengthdir_x(50,image_angle), y+ybulletplace-25+lengthdir_y(50,image_angle),obj_firebulletenemy))
        {
        xbulletplace = other.xbulletplace
        ybulletplace = other.ybulletplace
        idcreateur = other.id
        image_angle = other.image_angle;
        }
        
        with (instance_create(x+xbulletplace+lengthdir_x(50,image_angle), y+ybulletplace-25+lengthdir_y(50,image_angle),obj_tirfume))
        {
        xbulletplace = other.xbulletplace
        ybulletplace = other.ybulletplace
        idcreateur = other.id
        image_angle = other.image_angle;//point_direction(x, y, ex, ey);
        }
         
         
         
         
         //BALLE
         with (instance_create(x+xbulletplace, y+ybulletplace, obj_bullet_stalker))

   {destroysong = 1
        audio_play_sound_at(snd_aug, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);
        dgt = other.dgt
//move_towards_point(other.cibleallie.x,other.cibleallie.y,70/global.varfpsmax)
         direction =  point_direction(other.x,other.y,other.cibleallie.x,other.cibleallie.y)//point_direction(x, y, other.cibleallie.x, other.cibleallie.y);
        
         }
         
         alarm[9] = (7+random(24))*fpsmax //* vitessereaction
         }
        
         if mode2 = 15 {//SHIELD GUYS
         
          
         
         with (instance_create(x+xbulletplace, y+ybulletplace+20, obj_bullet_enemy))

   {
   randomrange = random_range(-1,1)
        audio_play_sound_at(snd_ak107, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);
        dgt = other.dgt
move_towards_point(other.cibleallie.x+randomrange,other.cibleallie.y+randomrange,70/global.varfpsmax)
         direction = other.image_angle+randomrange;
        
         
         
         
         
         }
         
         alarm[0] = (16+random(4))*fpsmax * vitessereaction
         }
         
         
        
         
         
         
         
         
         
         //FINIBULLET
         
         
        

    
    

  
   
   


}
   }

}

}




//EXP A CHAQUE TIR !!!!!
 if modeheal = 0 {
 if idpoto = 1 {obj_controllerstalker.mode1 += 0.001 ; armurepoto = obj_controllerstalker.mode1; }
 if idpoto = 2 {obj_controllerstalker.mode2 += 0.001 ; armurepoto = obj_controllerstalker.mode2; }
 if idpoto = 3 {obj_controllerstalker.mode3 += 0.001 ; armurepoto = obj_controllerstalker.mode3; }
 if idpoto = 4 {obj_controllerstalker.mode4 += 0.001 ; armurepoto = obj_controllerstalker.mode4; }
 if idpoto = 5 {obj_controllerstalker.mode5 += 0.001 ; armurepoto = obj_controllerstalker.mode5; }
 if idpoto = 6 {obj_controllerstalker.mode6 += 0.001 ; armurepoto = obj_controllerstalker.mode6; }
 if idpoto = 7 {obj_controllerstalker.mode7 += 0.001 ; armurepoto = obj_controllerstalker.mode7; }
 if idpoto = 8 {obj_controllerstalker.mode8 += 0.001 ; armurepoto = obj_controllerstalker.mode8; }
 if idpoto = 9 {obj_controllerstalker.mode9 += 0.001 ; armurepoto = obj_controllerstalker.mode9; }
 if idpoto = 10 {obj_controllerstalker.mode10 += 0.001 ; armurepoto = obj_controllerstalker.mode10; }
 if idpoto = 11 {obj_controllerstalker.mode11 += 0.001 ; armurepoto = obj_controllerstalker.mode11; }
 if idpoto = 12 {obj_controllerstalker.mode12 += 0.001 ; armurepoto = obj_controllerstalker.mode12; }
 if idpoto = 13 {obj_controllerstalker.mode13 += 0.001 ; armurepoto = obj_controllerstalker.mode13; }
 if idpoto = 14 {obj_controllerstalker.mode14 += 0.001 ; armurepoto = obj_controllerstalker.mode14; }
 if idpoto = 15 {obj_controllerstalker.mode15 += 0.001 ; armurepoto = obj_controllerstalker.mode15; }
 if idpoto = 16 {obj_controllerstalker.mode16 += 0.001 ; armurepoto = obj_controllerstalker.mode16; }
 if idpoto = 17 {obj_controllerstalker.mode17 += 0.001 ; armurepoto = obj_controllerstalker.mode17; }
 if idpoto = 18 {obj_controllerstalker.mode18 += 0.001 ; armurepoto = obj_controllerstalker.mode18; }
 if idpoto = 19 {obj_controllerstalker.mode19 += 0.001 ; armurepoto = obj_controllerstalker.mode19; }
 if idpoto = 20 {obj_controllerstalker.mode20 += 0.001 ; armurepoto = obj_controllerstalker.mode20; }
 if idpoto = 21 {obj_controllerstalker.mode21 += 0.001 ; armurepoto = obj_controllerstalker.mode21; }
 if idpoto = 22 {obj_controllerstalker.mode22 += 0.001 ; armurepoto = obj_controllerstalker.mode22; }
 if idpoto = 23 {obj_controllerstalker.mode23 += 0.001 ; armurepoto = obj_controllerstalker.mode23; }
 if idpoto = 24 {obj_controllerstalker.mode24 += 0.001 ; armurepoto = obj_controllerstalker.mode24; }
 if idpoto = 25 {obj_controllerstalker.mode25 += 0.001 ; armurepoto = obj_controllerstalker.mode25; }
 if idpoto = 26 {obj_controllerstalker.mode26 += 0.001 ; armurepoto = obj_controllerstalker.mode26; }
 if idpoto = 27 {obj_controllerstalker.mode27 += 0.001 ; armurepoto = obj_controllerstalker.mode27; }
 if idpoto = 28 {obj_controllerstalker.mode28 += 0.001 ; armurepoto = obj_controllerstalker.mode28; }
 if idpoto = 29 {obj_controllerstalker.mode29 += 0.001 ; armurepoto = obj_controllerstalker.mode29; }
 if idpoto = 30 {obj_controllerstalker.mode30 += 0.001 ; armurepoto = obj_controllerstalker.mode30; }
 if idpoto = 31 {obj_controllerstalker.mode31 += 0.001 ; armurepoto = obj_controllerstalker.mode31; }
 if idpoto = 32 {obj_controllerstalker.mode32 += 0.001 ; armurepoto = obj_controllerstalker.mode32; }
 if idpoto = 33 {obj_controllerstalker.mode33 += 0.001 ; armurepoto = obj_controllerstalker.mode33; }
 if idpoto = 34 {obj_controllerstalker.mode34 += 0.001 ; armurepoto = obj_controllerstalker.mode34; }
 if idpoto = 35 {obj_controllerstalker.mode35 += 0.001 ; armurepoto = obj_controllerstalker.mode35; }
 if idpoto = 36 {obj_controllerstalker.mode36 += 0.001 ; armurepoto = obj_controllerstalker.mode36; }
 if idpoto = 37 {obj_controllerstalker.mode37 += 0.001 ; armurepoto = obj_controllerstalker.mode37; }
 if idpoto = 38 {obj_controllerstalker.mode38 += 0.001 ; armurepoto = obj_controllerstalker.mode38; }
 if idpoto = 39 {obj_controllerstalker.mode39 += 0.001 ; armurepoto = obj_controllerstalker.mode39; }
 if idpoto = 40 {obj_controllerstalker.mode40 += 0.001 ; armurepoto = obj_controllerstalker.mode40; }
 if idpoto = 41 {obj_controllerstalker.mode41 += 0.001 ; armurepoto = obj_controllerstalker.mode41; }
 if idpoto = 42 {obj_controllerstalker.mode42 += 0.001 ; armurepoto = obj_controllerstalker.mode42; }
 if idpoto = 43 {obj_controllerstalker.mode43 += 0.001 ; armurepoto = obj_controllerstalker.mode43; }
 if idpoto = 44 {obj_controllerstalker.mode44 += 0.001 ; armurepoto = obj_controllerstalker.mode44; }
 if idpoto = 45 {obj_controllerstalker.mode45 += 0.001 ; armurepoto = obj_controllerstalker.mode45; }
 if idpoto = 46 {obj_controllerstalker.mode46 += 0.001 ; armurepoto = obj_controllerstalker.mode46; }
 if idpoto = 47 {obj_controllerstalker.mode47 += 0.001 ; armurepoto = obj_controllerstalker.mode47; }
 if idpoto = 48 {obj_controllerstalker.mode48 += 0.001 ; armurepoto = obj_controllerstalker.mode48; }
 if idpoto = 49 {obj_controllerstalker.mode49 += 0.001 ; armurepoto = obj_controllerstalker.mode49; }
 if idpoto = 50 {obj_controllerstalker.mode50 += 0.001 ; armurepoto = obj_controllerstalker.mode50; }
}
 

 //NAME IA A METTRE AUSSI DANS ALARM 9 !!!!
 if idpoto = 1 {nameia = "Kenneth A. Arredondo";levelpoto = obj_controllerstalker.mode1}//americain
 if idpoto = 2 {nameia = "Jack P. Obrien";levelpoto = obj_controllerstalker.mode2}
 if idpoto = 3 {nameia = "John R. Bollin";levelpoto = obj_controllerstalker.mode3}
 if idpoto = 4 {nameia = "Jerome K. Linton";levelpoto = obj_controllerstalker.mode4}
 if idpoto = 5 {nameia = "Robert E. Petitt";levelpoto = obj_controllerstalker.mode5}
 if idpoto = 6 {nameia = "James S. Olivarez";levelpoto = obj_controllerstalker.mode6}
 if idpoto = 7 {nameia = "George C. Dinger";levelpoto = obj_controllerstalker.mode7}//francais
 if idpoto = 8 {nameia = "Florismart Lafrenière";levelpoto = obj_controllerstalker.mode8}
 if idpoto = 9 {nameia = "Bruce Rochon";levelpoto = obj_controllerstalker.mode9}
 if idpoto = 10 {nameia = "Patrick Gagné";levelpoto = obj_controllerstalker.mode10}
 if idpoto = 11 {nameia = "Raymond Marcheterre";levelpoto = obj_controllerstalker.mode11}
 if idpoto = 12 {nameia = "Marcel Hétu";levelpoto = obj_controllerstalker.mode12}
 if idpoto = 13 {nameia = "Faustin Bordeaux";levelpoto = obj_controllerstalker.mode13}
 if idpoto = 14 {nameia = "Iven Beausoleil";levelpoto = obj_controllerstalker.mode14}
 if idpoto = 15 {nameia = "Pascal Bonenfant";levelpoto = obj_controllerstalker.mode15}
 if idpoto = 16 {nameia = "Nestor Degtyarev";levelpoto = obj_controllerstalker.mode16}//russe
 if idpoto = 17 {nameia = "Vitaly Zhirov";levelpoto = obj_controllerstalker.mode17}
 if idpoto = 18 {nameia = "Polycarp Konovalov";levelpoto = obj_controllerstalker.mode18}
 if idpoto = 19 {nameia = "Hilarion Bezrukov";levelpoto = obj_controllerstalker.mode19}
 if idpoto = 20 {nameia = "Sergey Bezrukov";levelpoto = obj_controllerstalker.mode20}
 if idpoto = 21 {nameia = "Borislav Isayev";levelpoto = obj_controllerstalker.mode21}
 if idpoto = 22 {nameia = "Terence Yermolayev";levelpoto = obj_controllerstalker.mode22}
 if idpoto = 23 {nameia = "David Yermakov";levelpoto = obj_controllerstalker.mode23}
 if idpoto = 24 {nameia = "Ian Belov";levelpoto = obj_controllerstalker.mode24}
 if idpoto = 25 {nameia = "Nazareno Cruz Serrato";levelpoto = obj_controllerstalker.mode25}//espagne
 if idpoto = 26 {nameia = "Demóstenes Barreto León";levelpoto = obj_controllerstalker.mode26}
 if idpoto = 27 {nameia = "Joan Rivas Mascarenas";levelpoto = obj_controllerstalker.mode27}
 if idpoto = 28 {nameia = "Bacchus Lira Valadez";levelpoto = obj_controllerstalker.mode28}
 if idpoto = 29 {nameia = "Atilio Valadez Cepeda";levelpoto = obj_controllerstalker.mode29}
 if idpoto = 30 {nameia = "Tadeo Domínquez Montoya";levelpoto = obj_controllerstalker.mode30}
 if idpoto = 31 {nameia = "Fulbert Caldera Morales";levelpoto = obj_controllerstalker.mode31}
 if idpoto = 32 {nameia = "Hartman Nieves Flórez";levelpoto = obj_controllerstalker.mode32}
 if idpoto = 33 {nameia = "Tao Yuan";levelpoto = obj_controllerstalker.mode33}//chinois
 if idpoto = 34 {nameia = "Shi Ch'eng";levelpoto = obj_controllerstalker.mode34}
 if idpoto = 35 {nameia = "Shaiming Hsieh";levelpoto = obj_controllerstalker.mode35}
 if idpoto = 36 {nameia = "Liang Su";levelpoto = obj_controllerstalker.mode36}
 if idpoto = 37 {nameia = "Tao Tsao";levelpoto = obj_controllerstalker.mode37}
 if idpoto = 38 {nameia = "Wu Yang";levelpoto = obj_controllerstalker.mode38}
 if idpoto = 39 {nameia = "Jie Chou";levelpoto = obj_controllerstalker.mode39}
 if idpoto = 40 {nameia = "Khairy Tawhid Naser";levelpoto = obj_controllerstalker.mode40}//arabe
 if idpoto = 41 {nameia = "Abdul-Aziz Taym Allah Aswad";levelpoto = obj_controllerstalker.mode41}
 if idpoto = 42 {nameia = "Bahiyy al Din Shahin Shadid";levelpoto = obj_controllerstalker.mode42}
 if idpoto = 43 {nameia = "Ma'n Saif Baz";levelpoto = obj_controllerstalker.mode43}
 if idpoto = 44 {nameia = "Baha al Din Fida Gerges";levelpoto = obj_controllerstalker.mode44}
 if idpoto = 45 {nameia = "Ihsan Nadir Mifsud";levelpoto = obj_controllerstalker.mode45}
 if idpoto = 46 {nameia = "Wahid Khalis Haddad";levelpoto = obj_controllerstalker.mode46}
 if idpoto = 47 {nameia = "Amin Safwah Nader";levelpoto = obj_controllerstalker.mode47}
 if idpoto = 48 {nameia = "Luciano Cremonesi";levelpoto = obj_controllerstalker.mode48}//italien
 if idpoto = 49 {nameia = "Fosco Siciliano";levelpoto = obj_controllerstalker.mode49}
 if idpoto = 50 {nameia = "Efisio Sal";levelpoto = obj_controllerstalker.mode50}
 
 levelpoto = armurepoto
 }
}}
}
//}
}else{

if instance_exists(cibleallie){
var dir3 = point_direction(x,y,cibleallie.x,cibleallie.y);
if abs(angle_difference(dir3,image_angle)) &lt;= 60 {
 if (point_distance(x, y, cibleallie.x, cibleallie.y) &lt; 550+bonusdistguys)  
 {
 path_end();
 alarm[1] = 100
 alarm[11] = 100
 alarm[9] = 10
 if cibleallie = instance_nearest(x,y,obj_enemy2) {
 modeheal = 0
 }else if cibleallie = obj_zombie {if karmabas = 1 {modeheal = 0}}else{
 if modeheal = 1 or 2 {
  if cibleallie.hpmobs &lt; cibleallie.maxhpmobs {
 cibleallie.hpmobs += (cibleallie.maxhpmobs /80 )
 }else{idsoin = 0}
 }}
 
  if modeheal = 3{
  if cibleallie.hp &lt; cibleallie.maxhp-(cibleallie.maxhp/10) {
 cibleallie.hp += (cibleallie.maxhp /200 )
 }else{idsoin = 0}
 }


}

 }}
}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="8">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///mobs suient encore un peu apres perdu de vue

nouvel_angle=direction
    patrol = 1
    avertissement = 0
    alarmavertissement = 0
    
    modepathtime = 3;patrol = 1;avertissement = 0
    
//stophealnow = 1
//stophealnowtime = random_range(2000,2700)
//idsoin = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>startnetia = 1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="6">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///strop tir de loin
tirdeloin = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///system de collision

/*
if (!place_free(x+hspeed,y))
{
    if (hspeed&lt;=0){move_contact_solid(180,abs(hspeed));}
    if (hspeed&gt;0){move_contact_solid(0,abs(hspeed));}
    hspeed=0;
}
  
if (!place_free(x,y+vspeed))
{
    if (vspeed&lt;=0){move_contact_solid(90,abs(vspeed));}
    if (vspeed&gt;0){move_contact_solid(270,abs(vspeed));}
    vspeed=0;
}

if (!place_free(x+hspeed,y+vspeed))
{
    hspeed=0;
}



/*
// Check for Horizontal Solids
if(!place_meeting(x+hspeed,y,obj_wall) == false){
  if(hspeed &lt;= 0){
    move_contact_all(180,abs(hspeed));
     
  }
  if(hspeed &gt; 0){
    move_contact_all(0,abs(hspeed));
    move_towards_point( x+120, y, 2 );
  }
  hspeed = 0;
}


// Check of Vertical Solids
if(!place_meeting(x,y+vspeed,obj_wall) == false){
  if(vspeed &lt;= 0){
    move_contact_all(90,abs(vspeed));
  }
  if(vspeed &gt; 0){
    move_contact_all(270,abs(vspeed));
    
  }
  vspeed = 0;
  
}


// Check for Horizontal + Vertical Solids
if (!place_meeting(x+hspeed,y+vspeed,obj_wall) == false){
    hspeed = 0;
}



/*
if !place_empty (x-20,y) {
motion_set(choose(15,90), enemyspeed/2)
image_angle = direction
patrol = 0
}

if !place_empty (x+20,y) {
motion_set(choose(180,225), enemyspeed/2)
image_angle = direction
patrol = 0
}

if !place_empty (x,y+20) {
motion_set(choose(90,135), enemyspeed/2)
image_angle = direction
patrol = 0
}

if !place_empty (x,y-20) {
motion_set(choose(360,315), enemyspeed/2)
image_angle = direction
patrol = 0
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>

//audio_play_sound(snd_rechargement_fusil_un_coup,0,0)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*
alarm[2] = 5500

obj_zombie.EXP += 10
stopexp = 1

*/

///animation coup de couteau
/*coterattack = random(360)

if fonce = 1 {
fonce = 0
}else{
fonce = 1
alarm[3] = 300+random(800) //temps pour pouvoir réattaquerz
}



</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///choix du stalker
difficulty = obj_difficulty.difficulty

if idpoto = 0 {
idpoto = global.potonameplus //floor(random_range(1,50))
if global.potonameplus &gt;= 50 {global.potonameplus = 1}else{
global.potonameplus += 1
}}
//idpoto = 0 global.potonameplus
nameia = ""
levelpoto = 1 
mode2 = 33
 if escort = 0 {
 if room = room34 or room = room161 {
nameia = "";mode2 = 33;idpoto = 50;
}else{
 //NAME IA A METTRE AUSSI DANS ALARM 9 !!!!
if idpoto = 1 {if obj_controllerstalker.idlibere1 = 1 { mode2 = 33;nameia = "Kenneth A. Arredondo";levelpoto = obj_controllerstalker.mode1;headskin = 1;grademilitaire = 0}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}//americain
 if idpoto = 2 {if obj_controllerstalker.idlibere2 = 1 {mode2 = 32;nameia = "Jack P. Obrien";levelpoto = obj_controllerstalker.mode2;headskin = 2;grademilitaire = 0}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 3 {if obj_controllerstalker.idlibere3 = 1 {mode2 = 33;nameia = "John R. Bollin";levelpoto = obj_controllerstalker.mode3;headskin = 3;grademilitaire = 1}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 4 {if obj_controllerstalker.idlibere4 = 1 {mode2 = 32;nameia = "Ethan K. Linton";levelpoto = obj_controllerstalker.mode4;headskin = 4;grademilitaire = 2}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
if idpoto = 5 {if obj_controllerstalker.idlibere5 = 1 { mode2 = 33;nameia = "Robert E. Petitt";levelpoto = obj_controllerstalker.mode5;headskin = 5;grademilitaire = 0}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 6 {if obj_controllerstalker.idlibere6 = 1 {mode2 = 32;nameia = "James S. Olivarez";levelpoto = obj_controllerstalker.mode6;headskin = 6;grademilitaire = 0}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 7 {if obj_controllerstalker.idlibere7 = 1 {mode2 = 33;nameia = "George C. Dinger";levelpoto = obj_controllerstalker.mode7;headskin = 7;grademilitaire = 1}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}//francais
 if idpoto = 8 {if obj_controllerstalker.idlibere8 = 1 {mode2 = 32;nameia = "Florismart Lafrenière";levelpoto = obj_controllerstalker.mode8;headskin = 8;grademilitaire = 3}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 9 {if obj_controllerstalker.idlibere9 = 1 {mode2 = 33;nameia = "Bruce Rochon";levelpoto = obj_controllerstalker.mode9;headskin = 9;grademilitaire = 4}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 10 {if obj_controllerstalker.idlibere10 = 1 {mode2 = 32;nameia = "Patrick Gagné";levelpoto = obj_controllerstalker.mode10;headskin = 10;grademilitaire = 1}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 11 {if obj_controllerstalker.idlibere11 = 1 {mode2 = 33;nameia = "Raymond Marcheterre";levelpoto = obj_controllerstalker.mode11;headskin = 11;grademilitaire = 1}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 12 {if obj_controllerstalker.idlibere12 = 1 {mode2 = 32;nameia = "Marcel Hétu";levelpoto = obj_controllerstalker.mode12;headskin = 12;grademilitaire = 2}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 13 {if obj_controllerstalker.idlibere13 = 1 {mode2 = 33;nameia = "Faustin Bordeaux";levelpoto = obj_controllerstalker.mode13;headskin = 13;grademilitaire = 3}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 14 {if obj_controllerstalker.idlibere14 = 1 {mode2 = 32;nameia = "Iven Beausoleil";levelpoto = obj_controllerstalker.mode14;headskin = 14;grademilitaire = 0}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 15 {if obj_controllerstalker.idlibere15 = 1 {mode2 = 33;nameia = "Pascal Bonenfant";levelpoto = obj_controllerstalker.mode15;headskin = 15;grademilitaire = 0}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 16 {if obj_controllerstalker.idlibere16 = 1 {mode2 = 32;nameia = "Nestor Degtyarev";levelpoto = obj_controllerstalker.mode16;headskin = 16;grademilitaire = 7}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}//russe
 if idpoto = 17 {if obj_controllerstalker.idlibere17 = 1 {mode2 = 33;nameia = "Vitaly Zhirov";levelpoto = obj_controllerstalker.mode17;headskin = 17;grademilitaire = 4}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 18 {if obj_controllerstalker.idlibere18 = 1 {mode2 = 32;nameia = "Polycarp Konovalov";levelpoto = obj_controllerstalker.mode18;headskin = 18;grademilitaire = 0}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 19 {if obj_controllerstalker.idlibere19 = 1 {mode2 = 33;nameia = "Hilarion Bezrukov";levelpoto = obj_controllerstalker.mode19;headskin = 1;grademilitaire = 0}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 20 {if obj_controllerstalker.idlibere20 = 1 {mode2 = 32;nameia = "Sergey Bezrukov";levelpoto = obj_controllerstalker.mode20;headskin = 2;grademilitaire = 1}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 21 {if obj_controllerstalker.idlibere21 = 1 {mode2 = 33;nameia = "Borislav Isayev";levelpoto = obj_controllerstalker.mode21;headskin = 3;grademilitaire = 1}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 22 {if obj_controllerstalker.idlibere22 = 1 {mode2 = 32;nameia = "Terence Yermolayev";levelpoto = obj_controllerstalker.mode22;headskin = 4;grademilitaire = 5}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 23 {if obj_controllerstalker.idlibere23 = 1 {mode2 = 33;nameia = "David Yermakov";levelpoto = obj_controllerstalker.mode23;headskin = 5;grademilitaire = 0}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 24 {if obj_controllerstalker.idlibere24 = 1 {mode2 = 32;nameia = "Ian Belov";levelpoto = obj_controllerstalker.mode24;headskin = 6;grademilitaire = 1}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 25 {if obj_controllerstalker.idlibere25 = 1 {mode2 = 33;nameia = "Nazareno Cruz Serrato";levelpoto = obj_controllerstalker.mode25;headskin = 7;grademilitaire = 2}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}//espagne
 if idpoto = 26 {if obj_controllerstalker.idlibere26 = 1 {mode2 = 32;nameia = "Demóstenes Barreto León";levelpoto = obj_controllerstalker.mode26;headskin = 8;grademilitaire = 3}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 27 {if obj_controllerstalker.idlibere27 = 1 {mode2 = 33;nameia = "Joan Rivas Mascarenas";levelpoto = obj_controllerstalker.mode27;headskin = 9;grademilitaire = 0}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 28 {if obj_controllerstalker.idlibere28 = 1 {mode2 = 32;nameia = "Bacchus Lira Valadez";levelpoto = obj_controllerstalker.mode28;headskin = 10;grademilitaire = 0}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 29 {if obj_controllerstalker.idlibere29 = 1 {mode2 = 33;nameia = "Atilio Valadez Cepeda";levelpoto = obj_controllerstalker.mode29;headskin = 11;grademilitaire = 1}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 30 {if obj_controllerstalker.idlibere30 = 1 {mode2 = 32;nameia = "Tadeo Domínquez Montoya";levelpoto = obj_controllerstalker.mode30;headskin = 12;grademilitaire = 1}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 31 {if obj_controllerstalker.idlibere31 = 1 {mode2 = 33;nameia = "Fulbert Caldera Morales";levelpoto = obj_controllerstalker.mode31;headskin = 13;grademilitaire = 4}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 32 {if obj_controllerstalker.idlibere32 = 1 {mode2 = 32;nameia = "Hartman Nieves Flórez";levelpoto = obj_controllerstalker.mode32;headskin = 14;grademilitaire = 5}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 33 {if obj_controllerstalker.idlibere33 = 1 {mode2 = 33;nameia = "Tao Yuan";levelpoto = obj_controllerstalker.mode33;headskin = 15;grademilitaire = 1}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}//chinois
 if idpoto = 34 {if obj_controllerstalker.idlibere34 = 1 {mode2 = 32;nameia = "Shi Ch'eng";levelpoto = obj_controllerstalker.mode34;headskin = 16;grademilitaire = 1}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 35 {if obj_controllerstalker.idlibere35 = 1 {mode2 = 33;nameia = "Shaiming Hsieh";levelpoto = obj_controllerstalker.mode35;headskin = 17;grademilitaire = 0}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 36 {if obj_controllerstalker.idlibere36 = 1 {mode2 = 32;nameia = "Liang Su";levelpoto = obj_controllerstalker.mode36;headskin = 18;grademilitaire = 3}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 37 {if obj_controllerstalker.idlibere37 = 1 {mode2 = 33;nameia = "Tao Tsao";levelpoto = obj_controllerstalker.mode37;headskin = 1;grademilitaire = 4}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 38 {if obj_controllerstalker.idlibere38 = 1 {mode2 = 32;nameia = "Wu Yang";levelpoto = obj_controllerstalker.mode38;headskin = 2;grademilitaire = 0}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 39 {if obj_controllerstalker.idlibere39 = 1 {mode2 = 33;nameia = "Jie Chou";levelpoto = obj_controllerstalker.mode39;headskin = 3;grademilitaire = 1}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 40 {if obj_controllerstalker.idlibere40 = 1 {mode2 = 32;nameia = "Khairy Tawhid Naser";levelpoto = obj_controllerstalker.mode40;headskin = 4;grademilitaire = 0}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}//arabe
 if idpoto = 41 {if obj_controllerstalker.idlibere41 = 1 {mode2 = 33;nameia = "Abdul-Aziz Taym Allah Aswad";levelpoto = obj_controllerstalker.mode41;headskin = 5;grademilitaire = 8}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 42 {if obj_controllerstalker.idlibere42 = 1 {mode2 = 32;nameia = "Bahiyy al Din Shahin Shadid";levelpoto = obj_controllerstalker.mode42;headskin = 6;grademilitaire = 9}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 43 {if obj_controllerstalker.idlibere43 = 1 {mode2 = 33;nameia = "Ma'n Saif Baz";levelpoto = obj_controllerstalker.mode43;headskin = 7;grademilitaire = 0}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 44 {if obj_controllerstalker.idlibere44 = 1 {mode2 = 32;nameia = "Baha al Din Fida Gerges";levelpoto = obj_controllerstalker.mode44;headskin = 8;grademilitaire = 0}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 45 {if obj_controllerstalker.idlibere45 = 1 {mode2 = 33;nameia = "Ihsan Nadir Mifsud";levelpoto = obj_controllerstalker.mode45;headskin = 9;grademilitaire = 1}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 46 {if obj_controllerstalker.idlibere46 = 1 {mode2 = 32;nameia = "Wahid Khalis Haddad";levelpoto = obj_controllerstalker.mode46;headskin = 10;grademilitaire = 1}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 47 {if obj_controllerstalker.idlibere47 = 1 {mode2 = 33;nameia = "Amin Safwah Nader";levelpoto = obj_controllerstalker.mode47;headskin = 11;grademilitaire = 2}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 48 {if obj_controllerstalker.idlibere48 = 1 {mode2 = 32;nameia = "Luciano Cremonesi";levelpoto = obj_controllerstalker.mode48;headskin = 12;grademilitaire = 3}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}//italien
 if idpoto = 49 {if obj_controllerstalker.idlibere49 = 1 {mode2 = 33;nameia = "Fosco Siciliano";levelpoto = obj_controllerstalker.mode49;headskin = 13;grademilitaire = 4}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 if idpoto = 50 {if obj_controllerstalker.idlibere50 = 1 {mode2 = 32;nameia = "Efisio Sal";levelpoto = obj_controllerstalker.mode50;headskin = 14;grademilitaire = 5}else{ if alarm12 &gt; 0 {}else{if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {existpo = 1 ;instance_destroy();}}}}}
 
chancedeprisonier = floor(random_range(1,20))
  if prisonierdia = 0 &amp;&amp; chancedeprisonier = 2{
if poto = 0 {if nameia = ""{}else{
 if room = room0 or room = room34 or room = room161 {}else{
with(instance_create(x,y,obj_enemy2)){
maitre = other.id ; prisonierdia = 1;other.idprisonier = id
}
possedeunprisonier = 1
}
}}}


if nameia = ""{instance_destroy();//alarm[2] = 1
}}

 

 if idpoto = obj_controllerstalker.potonow {if prisonierdia = 0 {if quest &lt;= 0 &amp;&amp; escort &lt;= 0 {instance_destroy();}}else{//alarm[2] = 1
 }}}else{
 nameia = scr_namequestguy(escort);}
 
 if escort = 1 {mode2 = 33;idpoto = 50 ; nameia = "";levelpoto = obj_controllerstalker.mode50}

skinchange[7] = choose(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,4,5)
if skinchange[7] = 0 {skinsword = spr_none}
if skinchange[7] = 1 {skinsword = spr_melee1}
if skinchange[7] = 2 {skinsword = spr_melee2}
if skinchange[7] = 3 {skinsword = spr_melee3}
if skinchange[7] = 4 {skinsword = spr_melee4}
if skinchange[7] = 5 {skinsword = spr_melee5}
if skinchange[7] = 6 {skinsword = spr_melee6}
if skinchange[7] = 7 {skinsword = spr_melee7}
if skinchange[7] = 8 {skinsword = spr_melee8}

if skinchange[7] = 0 {skinswordatk = spr_none;skinswordatkestoc = spr_none;}
if skinchange[7] = 1 {skinswordatk = spr_sword1;skinswordatkestoc = spr_estoc1;}
if skinchange[7] = 2 {skinswordatk = spr_sword2;skinswordatkestoc = spr_estoc2;}
if skinchange[7] = 3 {skinswordatk = spr_sword3;skinswordatkestoc = spr_estoc3;}
if skinchange[7] = 4 {skinswordatk = spr_sword4;skinswordatkestoc = spr_estoc4;}
if skinchange[7] = 5 {skinswordatk = spr_sword5;skinswordatkestoc = spr_estoc5;}
if skinchange[7] = 6 {skinswordatk = spr_sword6;skinswordatkestoc = spr_estoc6;}
if skinchange[7] = 7 {skinswordatk = spr_sword7;skinswordatkestoc = spr_estoc7;}
if skinchange[7] = 8 {skinswordatk = spr_sword8;skinswordatkestoc = spr_estoc8;}
//skinchange[8] = choose(0,0,1)

if nameia = 0 {}else{
if skinchange[7] = 0 {}else{with(instance_create(x,y,obj_epeeia)){other.objepee = id;patron = other.id;epeenbr = other.skinchange[7];faction = 2}}}

//with(instance_create(x,y,obj_shieldia)){other.objshield = id;patron = other.id;shieldnbr = other.skinchange[8];}

if mode2 = 32 {//Shootgun
xbulletplace = 0
ybulletplace = 17
hpmobs = ((3 * (obj_zombie.level+1 / 0.2))*(statdiffucult) /dgtbonuslow )*(1+levelpoto/20)//12
maxhpmobs = hpmobs
enemyspeed = 5.5+random_range(-1,1)
dgt = ((0.5 *dgtbonuslow2) * (obj_zombie.level+20 / 80))*(statdiffucult) //0.3
//dgt = ((0.4 *dgtbonuslow2) * (obj_zombie.level+20 / 80))*(statdiffucult)
timechasecombat = 500+random_range(-100,100)
bonusdistguys = 300
}

if mode2 = 33 {//assaut
xbulletplace = 0
ybulletplace = 17
hpmobs = ((4 * (obj_zombie.level+1 / 0.2))*(statdiffucult) /dgtbonuslow )*(1+levelpoto/20)//10
maxhpmobs = hpmobs
enemyspeed = 5.5+random_range(-1,1)
dgt = ((0.6 *dgtbonuslow2) * (obj_zombie.level+20 / 80))*(statdiffucult)
timechasecombat = 500+random_range(-100,100)
bonusdistguys = 300
}

if escort &gt; 0 {//premier escort alcoolique
xbulletplace = 0
ybulletplace = 17
hpmobs = ((30 * (obj_zombie.level+1 / 0.2))*(statdiffucult) /dgtbonuslow )*(1+levelpoto/20)//12
maxhpmobs = hpmobs
enemyspeed = 5.5+random_range(-1,1)
dgt = ((0.4 *dgtbonuslow2) * (obj_zombie.level+20 / 80))*(statdiffucult)
timechasecombat = 500+random_range(-100,100)
bonusdistguys = 500
}

if escort = 2 {//premier escort alcoolique
xbulletplace = 0
ybulletplace = 17
hpmobs = ((35 * (obj_zombie.level+1 / 0.2))*(statdiffucult) /dgtbonuslow )*(1+levelpoto/20)//12
maxhpmobs = hpmobs
enemyspeed = 5.5+random_range(-1,1)
dgt = ((0.4 *dgtbonuslow2) * (obj_zombie.level+20 / 80))*(statdiffucult)
timechasecombat = 500+random_range(-100,100)
bonusdistguys = 500
}

if escort = 3 {//premier escort alcoolique
xbulletplace = 0
ybulletplace = 17
hpmobs = ((40 * (obj_zombie.level+1 / 0.2))*(statdiffucult) /dgtbonuslow )*(1+levelpoto/20)//12
maxhpmobs = hpmobs
enemyspeed = 5.5+random_range(-1,1)
dgt = ((0.4 *dgtbonuslow2) * (obj_zombie.level+20 / 80))*(statdiffucult)
timechasecombat = 500+random_range(-100,100)
bonusdistguys = 500
}

if escort = 4 {//premier escort alcoolique
xbulletplace = 0
ybulletplace = 17
hpmobs = ((50 * (obj_zombie.level+1 / 0.2))*(statdiffucult) /dgtbonuslow )*(1+levelpoto/20)//12
maxhpmobs = hpmobs
enemyspeed = 5.5+random_range(-1,1)
dgt = ((0.4 *dgtbonuslow2) * (obj_zombie.level+20 / 80))*(statdiffucult)
timechasecombat = 500+random_range(-100,100)
bonusdistguys = 500
}


if mode2 = 10 {//LANCE FLAME
colororange = make_color_rgb(255,143,5)
Sname=part_system_create();

particle1=part_type_create()
part_system_depth(Sname,-100000)
part_type_shape(particle1,pt_shape_flare);
//part_type_size(particle1,0.3,0.35,0.05,0);//0.3,0.4,0.1,);
//part_type_speed(particle1,9,19,0.01,0);//,12,35,0.01,0);
part_type_direction(particle1,0,0,0,0);
part_type_orientation(particle1,0,0,0,0,1);
//part_type_color3(particle1,33023,255,33023);//33023,255,65535);
part_type_alpha2(particle1,0.1,0.9);
part_type_scale(particle1,1,0.6);
part_type_gravity(particle1,0,270);
part_type_life(particle1,12,22);
part_type_blend(particle1,1);
}

name = nameia
/// blood system

/*if hpmobs = 100 {
enemyspeed = 1.3;
stopexp = 0
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///tentative de chase a ameliorer !!!
/*if poto = 0 {
if avertissement = 0 {
if escort = 0 {
chasedir = image_angle
chasedir += (choose(random(-30),random(30)))
if not place_free(x+30, y) {
chasedir = 90
}else
if not place_free(x-25, y) {
chasedir = 270
}else
if not place_free(x, y+30) {
chasedir = 180
}else
if not place_free(x, y-30) {
chasedir = 0
}


if not place_free(x+35, y+35) {
move_towards_point(x-10,y-10,enemyspeed/4.5/ fpsmax)
}else
if not place_free(x-35, y+35) {
move_towards_point(x+10,y-10,enemyspeed/4.5/ fpsmax)
}else
if not place_free(x+35, y-35) {
move_towards_point(x-10,y+10,enemyspeed/4.5/ fpsmax)
}else
if not place_free(x-35, y-35) {
move_towards_point(x+10,y+10,enemyspeed/4.5/ fpsmax)
}





patrol = 1
//motion_set(choose(random(360), random(360),random(360), random(360),random(360), random(360),random(360), random(360),random(360), random(360),random(360), random(360),random(360), random(360),random(360) ,360 ), enemyspeed/1.5/ fpsmax )
motion_set(chasedir, enemyspeed/1.5/ fpsmax)
nouvel_angle = direction


countaleatcollidir += random(20)
if countaleatcollidir &gt; 1 {






aleatcollidir = (choose(+1,-1))
aleatcollidir2 = (choose(0,0,1))

countaleatcollidir = 0
}



}
}}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string></string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///




if alarm[2] &gt; 0 &amp;&amp; poto = 0{}else{
if poto = 1 {
if modepath = modepathvar {}else{
modepathtime = 3
}}
if modepathtime &gt; 0 {
modepathtime -= 1
path_end();
}else{
modepathvar = modepath
}



xxend = x
yyend = y


if xxend = xxdebut {
xxmovestep = 0
}else{
if xxend &lt; xxdebut {
soundtap += 1
xxmovestep = (xxdebut - xxend)
}else{
soundtap += 1
xxmovestep = (xxend - xxdebut)
}
}

if yyend = yydebut {
yymovestep = 0
}else{
if yyend &lt; yydebut {
soundtap += 1
xxmovestep = (yydebut - yyend)
}else{
soundtap += 1
yymovestep = (yyend - yydebut)
}

}





if point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; 900 {
if soundtap  &gt; 25 {aleatsoundmarche = choose(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15)
soundtap = 0

if aleatsoundmarche = 1 {audio_play_sound_at(snd_marche1, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 2 {audio_play_sound_at(snd_marche2, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 3 {audio_play_sound_at(snd_marche3, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 4 {audio_play_sound_at(snd_marche4, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 5 {audio_play_sound_at(snd_marche5, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 6 {audio_play_sound_at(snd_marche6, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 7 {audio_play_sound_at(snd_marche7, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 8 {audio_play_sound_at(snd_marche8, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 9 {audio_play_sound_at(snd_marche9, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 10 {audio_play_sound_at(snd_marche10, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 11 {audio_play_sound_at(snd_marche11, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 12 {audio_play_sound_at(snd_marche12, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 13 {audio_play_sound_at(snd_marche13, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 14 {audio_play_sound_at(snd_marche14, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 15 {audio_play_sound_at(snd_marche15, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
}}

}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//if(image_angle &lt; 0) image_angle += 360;
//tirianet = 0
if alarm[2] &gt; 0 &amp;&amp; poto = 0{}else{
visionstopnow = 0

xxdebut = x
yydebut = y

visibilitercible = 0

scr_collienemy();
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>  //MORT
 if hpmobs &lt;= 1 {
 if poto = 1 {
 if escort &gt; 0 {
 
 obj_controllerstalker.potonow = 0
 obj_controllerstalker.escort = 0
 with(obj_walkie){
 stopdiscut = 0
 txtnbr = 0
 print = ""
time = 0
text = ""
txtnbr = 0
//discussion = 0
alarm[1] = 50//5500
}
 }
obj_controllerstalker.potonow = 0
global.poto = 0
}
 if mode2 = 10 or mode2 = 16
 {
 with(instance_create(x,y,obj_weaponloot)){
 mode2 = other.mode2
 }}
with(instance_create(x,y,obj_repopstalker)) {

alarm[3] = 10
toucherparmoi = other.toucherparmoi
other.idrepop2 = id
mode2 = other.mode2
difficulty = other.difficulty
}
idrepop2.modedraw = mode2

if ds_grid_get(obj_quest.territoiregrid,3,room) &gt; 0 {
ds_grid_add(obj_quest.territoiregrid,3,room,-1)}
instance_destroy();
}


if alarm[2] &gt; 0 &amp;&amp; poto = 0{}else{

if alarmtirianet &gt; 0 {alarmtirianet -= 1}else{
if tirianet = 1 {alarmtirianet = 3}tirianet = 0;}

if escort = 253 {peacefull = 1}

if alarmvisilight = 0 {alarmvisilight += 1

danslalumiere = 100
if global.interieur = 1 {danslalumiere = 0}else{
if global.sl_time &gt;= 20.1 {danslalumiere = global.sl_time-((global.sl_time-20)*5)}
if global.sl_time &lt;= 6 {danslalumiere = ((global.sl_time)*10)}
}
//if room = room132 {danslalumiere += 35}//piece special interieur
if danslalumiere &lt; 40 {
if instance_exists(obj_light01){with(obj_light01){
vardist = point_distance(x,y,other.x,other.y)
if vardist &lt; sl_light_xscale*140 {bonusdistguys = 750
cibleallie = other.id
player_x = other.x
player_y = other.y
scr_collilight();
if visibilitercible = 1 {
other.danslalumiere += (100/vardist)*100
}}}}
if instance_exists(obj_light02){with(obj_light02){
vardist = point_distance(x,y,other.x,other.y)
if vardist &lt; scale*140 {bonusdistguys = 0
cibleallie = other.id
player_x = other.x
player_y = other.y
scr_collilight();
if visibilitercible = 1 {
other.danslalumiere += (100/vardist)*100
}}}}
}//if danslalumiere &lt; 40 {
}else{if alarmvisilight &lt; random_range(25,45) {alarmvisilight += 1}else{alarmvisilight = 0} }
if danslalumiere &gt; 100 {danslalumiere = 100}



if instance_exists(obj_enemy2) &amp;&amp; peacefull = 0{
with(obj_enemy2){if point_distance(x,y,other.x,other.y) &lt; 50 &amp;&amp; trap = 0 {
other.varimangle = image_angle
if maitre = 0 &amp;&amp; taser = 0 {
if audio_is_playing(snd_coupdecut2){}else{
modesound = choose(snd_coupdecut2);
audio_play_sound_at(snd_coupdecut2, x, y,0,global.falloff_ref2, global.falloff_max2, 1, false, 1);
other.hpmobs -= (other.maxhpmobs/3)}}

//hp -= (maxhp/40)//20
other.poussephy = 8
//other.colliepeex = (lengthdir_x(8,varimangle))
//other.colliepeey = (lengthdir_y(8,varimangle))
}}}

if poussephy &gt; 0 {
poussephy -= 1;
mx4 = x+(lengthdir_x(poussephy,varimangle))
my4 = y+(lengthdir_y(poussephy,varimangle))
if (mp_grid_path(global.grid, path, x, y,mx4 , my4 ,2))  {
//path_end();
path_start(path, enemyspeed*1.3 / fpsmax , path_action_stop, 1);}
}else{


////////

if point_distance(x,y,obj_zombie.x,obj_zombie.y) &gt; 1200 {
if poto = 1 {//instance_destroy();
x = obj_zombie.x;y = obj_zombie.y;
}}

///nvo script step
 if x&gt;room_width x=room_width-10; if x&lt;0 x=10; if y&gt;room_height y=room_height-10; if y&lt;0 y=10;
//mx3varprec = mx3
//my3varprec = my3
absolute9 = 0
alarm[1] = 50
alarm[11] = 50

if maitre = 0 {
if possedeunprisonier = 0 {

if poto = 0 {




//BLABLA ENTRE STALKER PEUR ET RACONTAR
if alarm[8] &lt; 0 {

 if numberpair = 0 {
  with(obj_stalker){
 //pair
 if other.numberblabla = numberblabla-1 {numbercopilote = other.id;other.language = language}
 if other.alarmphrase = 0 {other.alarmphrase = 1;//phrase = 1
 }
 
 }
 }else{//impair
 with(obj_stalker){
 
 if other.numberblabla = numberblabla+1 {numbercopilote = other.id}
 }
 }
 
 
 
 
  if instance_exists(numbercopilote) &amp;&amp; numbercopilote &gt; 0 
  &amp;&amp; findeblablaphrase = 0 
  {
 
 patrol = 0
 alarmpathvilla = 500

if instance_exists(numbercopilote){
var mx4 = numbercopilote.x
var my4 = numbercopilote.y



if point_distance(x,y,mx4,my4)&lt; 200 {
image_angle=point_direction(x,y,mx4,my4)
if alarmphrase &gt; 0 {alarmphrase += 1;
blablaphrases = ds_grid_get(obj_nightcycle.gridblabla, numberblabla, phrase);
if is_undefined(blablaphrases) {}else{
strlgt = string_length(blablaphrases)}
if alarmphrase &gt; strlgt*4  &amp;&amp; alarmphrase &gt; 0{if blablaphrases = "" &amp;&amp; phrase &gt; 2 {if instance_exists(numbercopilote){
numbercopilote.findeblablaphrase = 1 ;numbercopilote.numberblabla = -1;numbercopilote.numbercopilote = 0;
findeblablaphrase = 1 ;numberblabla = -1;numbercopilote = 0;
}}}}
if is_undefined(blablaphrases) {}else{
strlgt = string_length(blablaphrases)}
if alarmphrase &gt;= strlgt*4  &amp;&amp; alarmphrase &gt; 0{if instance_exists(numbercopilote){
numbercopilote.alarmphrase = 1;phrase += 1 ;alarmphrase = -1;blablaphrases = ""}}}

if point_distance(x,y,mx4,my4) &gt; 180 {
if (mp_grid_path(global.grid, path, x, y,mx4 , my4 ,2))  {
//path_end();
path_start(path, enemyspeed*1.3 / fpsmax , path_action_stop, 1);
}}else{path_end();}}else{blablaphrases = ""}
  
  
  
  
  
 }else{blablaphrases = ""}}else{blablaphrases = ""}//else{








if patrol = 1 &amp;&amp; alarm[8] &lt; 0 &amp;&amp; aterre &lt; 1 &amp;&amp; poto = 0{

if alarm[8] &lt; 0 {blablanow = ""}
nouvel_angle = direction
image_angle += sin(degtorad(nouvel_angle - image_angle)) * (6/global.varfpsmax);
alarm[1] = 50
alarm[11] = 50
randomdistmaxpath = random_range(300,900)
randomdistmaxpath2 = random_range(300,900)


 if s = 0 {
 
 
   ciblemilitairesuivi = 0
 with(obj_stalker){if id = other.id {}else{
if point_distance(x,y,other.x,other.y) &lt; 900 {if grademilitaire &gt; other.grademilitairesuivi {other.grademilitairesuivi = grademilitaire}
if other.grademilitaire &lt; grademilitaire { if grademilitaire = other.grademilitairesuivi {
other.ciblemilitairesuivi = id}}}}}

if instance_exists(ciblemilitairesuivi) &amp;&amp; ciblemilitairesuivi &gt; 0 {
//if global.ciblemilitairenbr = 1 {
angleformation = 60*placemilitaire
supermx = ciblemilitairesuivi.x+lengthdir_x(150,angleformation);supermy = ciblemilitairesuivi.y+lengthdir_y(150,angleformation);
oksupermx = 1
 if supermx&gt;room_width oksupermx = 0 ; if supermx&lt;0 oksupermx = 0; if supermy&gt;room_height oksupermx = 0; if supermy&lt;0 oksupermx = 0;
if (mp_grid_path(global.grid, path, x, y, supermx, supermy ,2)) {}else{angleformation = -30*placemilitaire;
supermx = ciblemilitairesuivi.x+lengthdir_x(150,angleformation);supermy = ciblemilitairesuivi.y+lengthdir_y(150,angleformation);
oksupermx = 1
 if supermx&gt;room_width oksupermx = 0 ; if supermx&lt;0 oksupermx = 0; if supermy&gt;room_height oksupermx = 0; if supermy&lt;0 oksupermx = 0;
}//}

}else{


if f = 0// for (p = 0; p &lt; 10; p += 1)
    { 
    randomize();
      varcibleangledir = image_angle+random_range(-30,30)
      if global.interieur = 1 {
supermx = x+lengthdir_x(randomdistmaxpath,varcibleangledir)//(cibleallie.x div 32)*32+16;
supermy = y+lengthdir_y(randomdistmaxpath,varcibleangledir)//(cibleallie.y div 32)*32+16;
}else{
supermx = x+lengthdir_x(randomdistmaxpath2,varcibleangledir)//(cibleallie.x div 32)*32+16;
supermy = y+lengthdir_y(randomdistmaxpath2,varcibleangledir)//(cibleallie.y div 32)*32+16;
}
oksupermx = 1
 if supermx&gt;room_width oksupermx = 0 ; if supermx&lt;0 oksupermx = 0; if supermy&gt;room_height oksupermx = 0; if supermy&lt;0 oksupermx = 0;
if (mp_grid_path(global.grid, path, x, y, supermx, supermy ,2))&amp;&amp; oksupermx = 1  &amp;&amp; point_distance(x,y,supermx,supermy) &gt; 10 {
f = 1
}else{
if global.interieur = 1 {//si pas reussi a garder la meme direction changer totalement
vardistinte = random_range(200,600)
vardistinte2 = image_angle+choose(-90,90)+random_range(-50,50)//random(360)
supermx = x+lengthdir_x(vardistinte,vardistinte2)//(cibleallie.x div 32)*32+16;
supermy = y+lengthdir_y(vardistinte,vardistinte2)//(cibleallie.y div 32)*32+16;
oksupermx = 1
 if supermx&gt;room_width oksupermx = 0 ; if supermx&lt;0 oksupermx = 0; if supermy&gt;room_height oksupermx = 0; if supermy&lt;0 oksupermx = 0;
if (mp_grid_path(global.grid, path, x, y, supermx, supermy ,2))&amp;&amp; oksupermx = 1  &amp;&amp; point_distance(x,y,supermx,supermy) &gt; 10 {f = 1}
}else{
vardistinte = random_range(200,600)
vardistinte2 = image_angle+choose(-90,90)+random_range(-50,50)//random(360)
supermx = x+lengthdir_x(vardistinte,vardistinte2)//(cibleallie.x div 32)*32+16;
supermy = y+lengthdir_y(vardistinte,vardistinte2)//(cibleallie.y div 32)*32+16;
oksupermx = 1
 if supermx&gt;room_width oksupermx = 0 ; if supermx&lt;0 oksupermx = 0; if supermy&gt;room_height oksupermx = 0; if supermy&lt;0 oksupermx = 0;
if (mp_grid_path(global.grid, path, x, y, supermx, supermy ,2))&amp;&amp; oksupermx = 1  &amp;&amp; point_distance(x,y,supermx,supermy) &gt; 10 {f = 1}
}


}
}else{
f += 1 ;
    if global.interieur = 1 {
    if f &gt; randomdistmaxpath {
    //f = 0 ;
    }
    }else{
    if f &gt; random_range(130,270) {
    //f = 0 ;
    }
    }
}
}

if alarmeskiv &gt; 0 {
f = 1
}



if (mp_grid_path(global.grid, path, x, y, supermx, supermy ,2))&amp;&amp; oksupermx = 1  &amp;&amp; point_distance(x,y,supermx,supermy) &gt; 10 {//if f = 0 {f = 1}
path_start(path, enemyspeed /1.7/ global.varfpsmax , path_action_stop, 1);
}else{f = 0}
    }else{s = 0}

}
}

if obj_intro.stopintro = 0 {}else{
if instance_exists(obj_enemy2) &amp;&amp; peacefull = 0 {
with(obj_enemy2){
if taser = 0  &amp;&amp; trap = 0 {
if imagecut = 9{
if point_distance(x,y,other.x,other.y) &lt; 70 {
other.hpmobs -= (other.maxhpmobs/5)+1
instance_create(x , y , oBlood);
instance_create(x,y,obj_shake)
}}}}}}


if poto = 1 {if x &lt; 10 &amp;&amp; y &lt; 10 {
x = obj_zombie.x
y = obj_zombie.y
}}

 //replacer a coter du hero en debut de room
 if roomstart &gt; 0 {
 instance_activate_object(id)
 x = obj_zombie.x
 y = obj_zombie.y
 if roomstart &lt; 40 {roomstart += 1 }else{roomstart = 0}
 }else{//

if poto = 0 {
if avertissement = 1 {//path_end();//patrol = 1 
;speed = 0;motion_set(image_angle,0);move_towards_point(0,0,0);enemyspeed = 0;//x = xprevious ; y = yprevious
}else{
enemyspeed = 5;//speed = enemyspeed
}}




karma = 10
 fpsmax = global.varfpsmax
 
  if probflame &gt; 0 {
 probflame -= 1
 }
 
 if alarm[7] &gt; 0 {instance_activate_object(id);}
 

 if (point_distance(x, y, obj_controllerplayer.x, obj_controllerplayer.y) &gt; 1050)  {
if poto =  1 {
instance_activate_object(id);}else{
if room = room161 or room = room34 {}else{instance_deactivate_object(id);}
} }else{instance_activate_object(id);}//rajouter tres recement cet ligne
 if poto =  1 {
instance_activate_object(id);}
 
 
 //LAMPE

 if poto = 1 {
 if obj_zombie.torch = true{torch = 1
instance_activate_object(torchid);
if instance_exists(torchid){
torchid.x = x
torchid.y = y
}
}else{torch = 0
 /*if instance_exists(torchid) {
 with(torchid){ instance_destroy();}}*/}
 
 
 }else{//IF POTO = 0
 if danslalumiere &lt; 30 {
 if instance_exists(obj_engine){torch = 1
 instance_activate_object(torchid);
if instance_exists(torchid){
torchid.x = x
torchid.y = y
}
}
}else{torch = 0
/*if instance_exists(torchid) {
 with(torchid){ instance_destroy();}}*/}
 }
 
 
 
 //aparition en debut de jeu
 if alarm12 &gt; 0 {
 poto = 1//pitete a enlever
 idpoto =  obj_controllerstalker.potonow//pitete a enlever
 alarm12 += 1
 if alarm12 &gt; 10 {
 poto = 1
 idpoto =  obj_controllerstalker.potonow
 alarm12 = 0}
 
 }//
 

 

 //entendre les balles
 if instance_exists(obj_bullet_enemy) or instance_exists(obj_arrow_enemy)or
 instance_exists(obj_rocketfinal){
 alarm[8] = 500
 modepathtime = 3;
 }//
 

 
 
 //demande d'ami !!!!
 idme = id 

if position_meeting(mouse_x,mouse_y,idme) &amp;&amp; blablaphrases3 = "" {
if keyboard_check_pressed(ord("E")){


 if global.poto = 1 &amp;&amp; poto = 1 {
 obj_controllerstalker.potonow = 0
 obj_controllerstalker.escort = 0
 with(obj_walkie){
 stopdiscut = 0
 txtnbr = 0
 print = ""
time = 0
text = ""
txtnbr = 0
//discussion = 0
alarm[1] = 50//5500
}
 poto = 0
 global.poto = 0
 }else{
with(obj_stalker){
if poto = 1 {
poto = 0
global.poto = 0
blablaphrases3 = ""
blablaphrases2 = ""
blablaphrases = ""
findeblablaphrase = 0 
}} 
 
//if global.poto = 1 {}else{//dans create zombie
if questbla = 0 {
obj_controllerstalker.escort = escort
obj_controllerstalker.potonow = idpoto
blablaphrases3 = ""
blablaphrases2 = ""
blablaphrases = ""
//findeblablaphrase = 0 
global.poto = 1
poto = 1}
//}
}


}



}
 
 

 
 
 
 //PATROL !!!!
 //SUPER I A COLLISION PATROL
 
 
 


/* if poto = 0 {
if patrol = 1 &amp;&amp; alarm[8] &gt; 0 //&amp;&amp; avertissement = 0 
{
if alarm[11] &lt; 0 {
 alarm[11] = 42+random(70)*global.varfpsmax}
if alarm[1] &lt; 0 { alarm[1] = 42+random(70)*global.varfpsmax}

if avertissement = 1 {}else{
nouvel_angle = direction }//A CHANGER SI BUG IMAGE ANGLE
} else {

//image_angle =  point_direction(x,y,obj_zombie.x,obj_zombie.y)
}
}*/

//EVITER LES OBSTACLES :

   if avertissement = 1 {}else{ nouvel_angle = direction} // point_direction(x,y,obj_zombie.x,obj_zombie.y)//A CHANGER SI BUG IMAGE ANGLE

//ANGLE FLUIDE


 if obj_zombie.karma &lt; 1 or obj_zombie.prime &gt; (20*obj_zombie.level) {
 karmabas = 1
 obj_zombie.avertissement = 1
 obj_zombie.alarm[8] = 100
 poto = 0
 //patrol = 0
 } else{
 karmabas = 0
 }
 


 









//CHECK ENEMY !!!!

if instance_exists(obj_zombie) {
//alarmdistcible += 1
//if alarmdistcible &gt;= 50 {

if instance_exists(obj_enemy2){
//cibleallie1 = instance_nearest(x,y,obj_enemy2)
//player_x = cibleallie1.x;
//player_y = cibleallie1.y;
}
     //  player_x = cibleallie.x;
//player_y = cibleallie.y;

if karmabas = 1  or obj_zombie.prime &gt; (20*obj_zombie.level) {
if instance_exists(obj_zombie){
cibleallie3 = instance_nearest(x,y,obj_zombie)
 //      player_x = cibleallie3.x;
//player_y =cibleallie3.y;

distcible3 = distance_to_object(cibleallie3)

}else{distcible3 = 100000}


}



//
if instance_exists(oOtherClient){
cibleallie1 = instance_nearest(x,y,oOtherClient)

       player_x = cibleallie1.x;
player_y = cibleallie1.y;
distcible1 = distance_to_object(cibleallie1)

if cibleallie1.karma &gt; 0 {distcible1 = 100000}
}else{distcible1 = 100000}


if instance_exists(obj_enemy2){
cibleallie2 = instance_nearest(x,y,obj_enemy2)
if instance_exists(cibleallie2){
if   cibleallie2.trap &gt; 0 or //cibleallie2.alarm[8] &lt;= 0 or 
cibleallie2.taser = 1 or cibleallie2.prisonierdia = 1 or cibleallie2.peacefull = 1{distcible2 = 100000}else{
if cibleallie2.possedeunprisonier = 1 {avertissement = 1}
player_x = cibleallie2.x;
player_y = cibleallie2.y;
distcible2 = distance_to_object(cibleallie2)}}
}else{distcible2 = 100000}




if instance_exists(obj_zombie){
if karmabas = 1  or obj_zombie.prime &gt; (20*obj_zombie.level) {
cibleallie3 = instance_nearest(x,y,obj_zombie)
       player_x = cibleallie3.x;
player_y = cibleallie3.y;
distcible3 = distance_to_object(cibleallie3)//}else{distcible3 = 100000}
}else{distcible3 = 100000}

if distcible1 &lt; distcible2 &amp;&amp; distcible1 &lt; distcible3 {cibleallie = cibleallie1}
if distcible2 &lt; distcible1 &amp;&amp; distcible2 &lt; distcible3 {cibleallie = cibleallie2}
if distcible3 &lt; distcible2 &amp;&amp; distcible3 &lt; distcible1 {cibleallie = cibleallie3 ;
// if karmabas = 1 {idsoin = 0 &amp;&amp; modeheal = 0} 
}}

if instance_exists(obj_bossnet){
cibleallie1 = instance_nearest(x,y,obj_bossnet)
if point_distance(x,y,cibleallie1.x,cibleallie1.y) &lt; 2000 &amp;&amp;  cibleallie1.activeboss = 1 {
player_x = cibleallie1.x;
player_y = cibleallie1.y;
cibleallie = cibleallie1;

distcible1 = distance_to_object(cibleallie1)}
}
//alarmdistcible = 0
//}



 //SOIN HEALGUN DU STALKER


//modeheal = 0
//LE STOP
if timezombieheal &lt;= 0 {
if stophealnowtime &gt; 1700 {
stophealnowtime -= 1
stophealnow = 1

if patrol = 0 {
patrol = 1
//path_end();
/*if alarm[8] &gt; 0 {
cibleallie = 0
alarm[8] = 1}*/
}
}else{

stophealnowtime -= 1
if stophealnowtime &lt;= 0 {
stophealnowtime = random_range(3000,3700)
}
}


if idsointime2 &lt;= 0 {
idsoin = 0
idsointime2 = random_range(100,500)
//modeheal = 0
if patrol = 0 {
patrol = 1
//path_end();
if alarm[8] &gt; 1 {
cibleallie = 0
alarm[8] = 1;//modepathtime = 3;
}
}
}else{idsointime2 -= 1
}

if instance_exists(obj_stalker){
with(obj_stalker){

if point_distance(x,y,other.x,other.y) &lt; 1050 {
if hpmobs &lt; maxhpmobs-(maxhpmobs/3) {
if id = other.id {}else{

//if other.idsoin = 0 {
if other.idsoin = 0 {other.idsoin = id ; other.modeheal = 1}//}
}}else{//if other.patrol = 0 {
other.patrol = 1;if alarm[8] &gt; 1 {other.cibleallie = 0;other.alarm[8] = 1;//modepathtime = 3;
}}//}if patrol = 0 {patrol = 1;if alarm[8] &gt; 0 {cibleallie = 0;alarm[8] = 0}}
}else{other.idsoin = 0 ;other.modeheal = 0
other.patrol = 1;if other.alarm[8] &gt; 1 {other.cibleallie = 0;other.alarm[8] = 1;}}
}}



 stophealnow = 0
if instance_exists(obj_enemy2) or instance_exists(obj_bossnet) or instance_exists(obj_zombie) {
if instance_exists(obj_enemy2){

enemyprocheoupo = instance_nearest(x,y,obj_enemy2) 

if instance_exists(enemyprocheoupo){
if enemyprocheoupo.avertissement = 1 or enemyprocheoupo.trap = 0 or enemyprocheoupo.taser = 0 or prisonierdia = 0 or peacefull = 0{}else{enemyprocheoupo = 0}}}
if instance_exists(obj_bossnet) {  if  obj_bossnet.activeboss = 1{enemyprocheoupo = instance_nearest(x,y,obj_bossnet) }}
if karmabas = 1  or obj_zombie.prime &gt; (20*obj_zombie.level) {enemyprocheoupo = instance_nearest(x,y,obj_zombie) }
if enemyprocheoupo &gt; 0 {
if instance_exists(enemyprocheoupo){
if point_distance(x,y,enemyprocheoupo.x,enemyprocheoupo.y) &lt; 650 {stophealnow = 1;modeheal = 0 ;cibleallie = enemyprocheoupo }else{
}}}
}else{stophealnow = 0}


if stophealnow = 0 &amp;&amp; karmabas = 0 &amp;&amp;  obj_zombie.prime &lt; (20*obj_zombie.level) {
if instance_exists(obj_zombie){
with(obj_zombie){
if karma &gt; 1 {

if point_distance(x,y,other.x,other.y) &lt; 650 {

if hp &lt; maxhp-(maxhp/3) {other.image_angle = point_direction(other.x,other.y,x,y)
if id = other.id {}else{
if other.idsoin = 0 {other.idsoin = id ; other.modeheal = 3}
/*if other.idsoin = 0 {other.idsoin = id ; other.modeheal = 1}
other.cibleallie = 0;other.alarm[8] = 1;
if other.idsoin = 0 {if other.timezombieheal = 0 {other.idsoin = id; other.modeheal = 3;}}*/
}}else{other.idsoin = 0 ;other.modeheal = 0
other.patrol = 1;if other.alarm[8] &gt; 1 {other.cibleallie = 0;other.alarm[8] = 1;}
//other.cibleallie = 0;other.alarm[8] = 1;
//other.timezombieheal = random_range(600,2000)

other.timezombieheal = random_range(600,2000)

if other.poto = 1 &amp;&amp; other.modeheal = 0{
if point_distance(other.x,other.y,obj_zombie.x,obj_zombie.y) &gt; 250  {if other.avertissement = 0{other.image_angle += sin(degtorad(other.nouvel_angle - other.image_angle)) * (8/global.varfpsmax);}
other.visionstopnow = 1
}else{
if other.avertissement = 1 {}else{other.nouvel_angle = point_direction(other.x,other.y,mouse_x,mouse_y)}
}}//8}}


if other.patrol = 0 {
other.patrol = 1
if other.alarm[8] &gt; 0 {
other.cibleallie = 0
other.stophealnowtime = random_range(2500,3500) ; other.idsoin = 0 ;
other.alarm[8] = 1}
}
}}else{other.idsoin = 0 ;other.modeheal = 0
other.patrol = 1;if other.alarm[8] &gt; 1 {other.cibleallie = 0;other.alarm[8] = 1;}}
}else{modeheal = 0}
}}




//changer de cible si 0 sinon choisir nvel cible
if idsoin = 0 {}else{
idsointime -= 1
if idsointime &lt;= 0 {idsoin = 0
idsointime = 1000}

if instance_exists(idsoin) &amp;&amp; idsoin &gt; 0 {
cibleallie = idsoin}else{idsoin = 0}

}

}else{idsoin = 0 
;modeheal = 0 ;
}
}else{
idsoin = 0 ;patrol = 1;modeheal = 0 ;}


if timezombieheal &gt; 0 {
timezombieheal -= 1
}

 if instance_exists(cibleallie) &amp;&amp; cibleallie &gt; 0 {
 
      player_x = cibleallie.x;
player_y = cibleallie.y;
}





// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
//DEMARAGE DE L ATTAQUE IA !!!!!!!!!!!!!!!!!!!!!!!!!!
 if instance_exists(cibleallie) &amp;&amp; point_distance(x,y,cibleallie.x,cibleallie.y) &lt; 1700 &amp;&amp; cibleallie &gt; 0{
 if cibleallie.taser = 0 {
 //if visibilitercible = 1 {
 if k = 0 {
 
var p;
p = 0
if p = 0// for (p = 0; p &lt; 10; p += 1)
    {
     varcibleangledir = random(360)
supermx = cibleallie.x+lengthdir_x(80,varcibleangledir)//(cibleallie.x div 32)*32+16;
supermy = cibleallie.y+lengthdir_y(80,varcibleangledir)//(cibleallie.y div 32)*32+16;
if (mp_grid_path(global.grid, path, x, y, supermx, supermy ,2)){//p = 100;
k = 1;}else{

}
    }}else{
    k += 1 ;
    if k &gt; randomcalculatorcible {
    k = 0 ;
    }
    }
//}
 
 
 if (point_distance(x, y, obj_zombie.x, obj_zombie.y) &gt; 2050) {
 if poto = 1 {}else{
 if (point_distance(x, y, cibleallie.x, cibleallie.y) &gt; 150) {
 path_end()//tres fonctionnel pour stoper ia pret du joueur
    patrol = 0
    if alarm[11] &lt; 0 {
    alarm[11] = (45+random(40))*global.varfpsmax
    }
    //move_bounce_solid(false);
 }}
 
 }else{
 

 
 path_set_kind(path, 1)
    path_set_precision(path, 4);//test de precision


 
 //temps du couteau
 if tempscut &gt; 0 {
tempscut -= 1
}


//POUR LE TROU NOIR
 if colliepeex = 0 {}else{
if (mp_grid_path(global.grid, path, x, y, colliepeex, colliepeey ,2)){
supermx = colliepeex
supermy = colliepeey
colliepeex = 0
colliepeey = 0
}}


 
var mx = supermx//(cibleallie.x div 32)*32+16;
var my = supermy//(cibleallie.y div 32)*32+16;


 

// if poto = 0 {
 
 //IA BASIQUE
  distancemin = 50



//siflement attire mobs 

/* if (keyboard_check(ord("A"))) {
 if (point_distance(x, y, player_x, player_y) &lt; 650+bonusdistguys) {
 if alarm[8] &lt; 0 {
alarm[8] = 1200
modepathtime = 3;
}

}}*/

//tir atire le mobs
if (point_distance(x, y, player_x, player_y) &lt; 2050+bonusdistguys) {
if mouse_check_button_pressed(mb_left) {
if obj_zombie.silencenow &lt; 0.1 {

if alarm[8] &lt; 0 {
alarm[8] = 1500
modepathtime = 3;
}


}
}



}



    
    
    
    else if (point_distance(x, y, player_x, player_y) &lt; 300)
    {

    }

    if (point_distance(x, y, player_x, player_y) &lt; 50) {//test pour stoper l ia si trop prêt du joueur
        path_end()//tres fonctionnel pour stoper ia pret du joueur
    patrol = 0
    }
    
    
    
    
  
    
    // shoot et experience
    
    if hpmobs &lt; 0 
{
if alarm[0] &lt; 0 {
alarm[0] = 10 * vitessereaction
enemyspeed = 0;
}
}


if stopexp = 0 {
if hpmobs &lt; 0 {

alarm[3] = 1

}
}

clicdroit = 1

// tir par rapport a la distance /// TIR TIR TIR TIR

 if (point_distance(x, y, cibleallie.x, cibleallie.y) &lt; 650+bonusdistguys) &amp;&amp; alarm[9] &lt; 0  //&amp;&amp; tir = 0 
 &amp;&amp; visibilitercible = 1
 {
 var dir2 = point_direction(x,y,cibleallie.x,cibleallie.y);
if abs(angle_difference(dir2,image_angle)) &lt;= 60 {
if alarm[9] &lt; 0 {
    alarm[9] = choose(1,2,3,4,5) * vitessereaction
    }
    tir = 1
    }
    }
    
    if (point_distance(x, y, player_x, player_y) &gt; 650+bonusdistguys)  {
    tir = 0
    }else{
    
tir = 1
    }




//alarm8 poursuite
if alarm[8] &gt; 0 {
var mx = supermx//(cibleallie.x div 32)*32+16;
var my = supermy//(cibleallie.y div 32)*32+16;

if (mp_grid_path(global.grid, path, x, y, mx, my ,1))  {if poto = 0 {
modepath = 2;patrol = 0;
    path_start(path, enemyspeed / global.varfpsmax , path_action_stop, absolute9);}
if hpmobs &gt; 0 {
if obj_zombie.hp &gt; 0 {//test pour enemi rode apres mort du joueur
 patrol = 0
 
 if (point_distance(x, y, player_x, player_y) &lt; 50) {
if avertissement = 1 {}else{nouvel_angle =  point_direction(x,y,cibleallie.x,cibleallie.y)}//A CHANGER SI BUG IMAGE ANGLE
//alarm[10] = -1
}else{
if alarm[10] &lt; 0 {
alarm[10] = 10 
}




}

//if  (point_distance(x, y, player_x, player_y) &lt; 150) { } else {
    path_set_kind(path, 1)
    path_set_precision(path, 8);//test de precision
    if poto = 0 {
    modepath = 3
    //path_start(path, enemyspeed *1.15/ global.varfpsmax , path_action_stop, absolute9);
    }
    alarm[1] = -1
    if (point_distance(x, y, player_x, player_y) &lt; 30) {//stoper si trop prêt ,ajouter le 11/10
    path_end()
   // patrol = 1
    }
    
    
    }}}
//VISE LE JOUEUR SI EN VUE ET PAS TROP LOIN POUR POUVOIR TIRER
collivision = cibleallie
 if (point_distance(x, y, player_x, player_y) &lt; 650)  
 &amp;&amp; visibilitercible = 1{
  if avertissement = 1 {}else{nouvel_angle =  point_direction(x,y,cibleallie.x,cibleallie.y)}
  }
}else{
//path_end()
patrol = 1
if avertissement = 1 {}else{nouvel_angle=direction}
}
//}




if mode2 = 10 {
 dirpart = image_angle
if place_free(x+lengthdir_x(50,dirpart), y+lengthdir_y(50,dirpart))
{
if place_free(x+lengthdir_x(100,dirpart), y+lengthdir_y(100,dirpart)){
if place_free(x+lengthdir_x(150,dirpart), y+lengthdir_y(150,dirpart)){
if place_free(x+lengthdir_x(200,dirpart), y+lengthdir_y(200,dirpart)){
if place_free(x+lengthdir_x(250,dirpart), y+lengthdir_y(250,dirpart)){
if place_free(x+lengthdir_x(300,dirpart), y+lengthdir_y(300,dirpart)){
if place_free(x+lengthdir_x(350,dirpart), y+lengthdir_y(350,dirpart)){
if place_free(x+lengthdir_x(400,dirpart), y+lengthdir_y(400,dirpart)){
if place_free(x+lengthdir_x(450,dirpart), y+lengthdir_y(450,dirpart)){
if place_free(x+lengthdir_x(500,dirpart), y+lengthdir_y(500,dirpart)){
if place_free(x+lengthdir_x(550,dirpart), y+lengthdir_y(650,dirpart)){
if place_free(x+lengthdir_x(600,dirpart), y+lengthdir_y(600,dirpart)){
if place_free(x+lengthdir_x(700,dirpart), y+lengthdir_y(700,dirpart)){

part_type_life(particle1,32,34);//test


}else {
part_type_life(particle1,30,32);
}
}else {
part_type_life(particle1,26,28);
}
}else {
part_type_life(particle1,24,26);
}
}else {
part_type_life(particle1,22,24);
}
}else {
part_type_life(particle1,20,22);
}
}else {
part_type_life(particle1,18,20);
}
}else {
part_type_life(particle1,16,18);
}
}else {
part_type_life(particle1,14,16);
}
}else {
part_type_life(particle1,12,16);
}
}else {
part_type_life(particle1,8,12);
}
}else {
part_type_life(particle1,8,10);
}
}else {
part_type_life(particle1,9,10);
}


}else {
part_type_life(particle1,2,4);
}







if place_free(x+lengthdir_x(50,image_angle), y+lengthdir_y(50,image_angle)){

}else {
part_type_life(particle1,2,4);
}
//part_type_life(particle1,partlng/160,partlng/160);//test distant object



part_type_direction(particle1,image_angle-+random(10),image_angle-+random(10),0,0);


}

//PARALYSIE STUN
if paralyse = 1 {
enemyspeed = 0
paralysetime -= 1
if paralysetime = 0 {
paralyse = 0
paralysetime = 300
}
}else{
if mode2 = 1{enemyspeed = 6+random_range(-1,1)}
if mode2 = 32{enemyspeed = 5+random_range(-1,1)}
if mode2 = 33{enemyspeed = 5.5+random_range(-1,1)}
if mode2 = 4{enemyspeed = 6.5+random_range(-1,1)}
if mode2 = 5{enemyspeed = 5+random_range(-1,1)}
if mode2 = 6{enemyspeed = 6+random_range(-1,1)}
if mode2 = 7{enemyspeed = 6.5+random_range(-1,1)}
if mode2 = 8{enemyspeed = 6+random_range(-1,1)}
if mode2 = 9{enemyspeed = 5+random_range(-1,1)}
if mode2 = 10{enemyspeed = 6+random_range(-1,1)}
if mode2 = 11{enemyspeed = 6.5+random_range(-1,1)}
//if mode = 12{enemyspeed = 8.5}
if mode2 = 13{enemyspeed = 6.5+random_range(-1,1)}
if mode2 = 14{enemyspeed = 5.5+random_range(-1,1)}
if mode2 = 15{enemyspeed = 5.5+random_range(-1,1)}
}

//temps de ralentissement /////
/*
if tempsralent &lt; timechasecombat {
tempsralent += 1
if tempsralent &gt; (timechasecombat-(200+random_range(-100,100))) {

path_end();
if alarm[11] &lt; 0 {
alarm[11] = 25
}}
}else{
tempsralent = 0


}
*/

//eviter de trop ce raprocher du joueur

if not mode2 = 12 {
if (point_distance(x, y, player_x, player_y) &lt; 300) &amp;&amp; alarm[8] &gt; 0 &amp;&amp; visibilitercible = 1 {
//move_bounce_solid(true)
//path_end();
if alarm[11] &lt; 0 {
//alarm[11] = (5+random(40))*global.varfpsmax
}}
}


//clic joueur
if clicjoueur &gt; 0 {
if clicjoueur = 1 {
//alarm[11] = 2*global.varfpsmax
}

if clicjoueur &lt; 30 {
clicjoueur += 1 
//move_bounce_solid(true)
//path_end();

}else{
clicjoueur = 0
}


}

if (point_distance(x, y, player_x, player_y) &lt; 150) &amp;&amp; visibilitercible = 1{
path_end();
//patrol = 1 
}

}//if (point_distance(x, y, player_x, player_y) &lt; 2050) {
}}else{if alarm[8] &gt; 50 {alarm[8] = 50};if patrol = 0 {;modepathtime = 3;patrol = 1;avertissement = 0}}}else{if alarm[8] &gt; 50 {alarm[8] = 50};
if patrol = 0 {//;modepathtime = 3;patrol = 1;avertissement = 0
}}









if poto = 0 {if avertissement = 0{
image_angle += sin(degtorad(nouvel_angle - image_angle)) * (8/global.varfpsmax);}}





//LOOOOOT CADO
if escort = 0 {
if karmabas = 0  &amp;&amp; blablaphrases = "" &amp;&amp; blablaphrases2 = ""  &amp;&amp; obj_zombie.prime &lt; (20*obj_zombie.level) {

if randomkitheal &lt;= 0 {
if point_distance(x,y,obj_controllerplayer.x,obj_controllerplayer.y) &lt; 650+bonusdistguys  
&amp;&amp; point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; 650+bonusdistguys  
{

choicepack = choose(1,2,3,4,5,6,7)
if choicepack = 1 {
//if obj_zombie.hp &lt; (obj_zombie.maxhp / 3){
randomkitheal = random_range(700,5000) 
with(instance_create(x,y,obj_lootobj)){itemloot = 200}
txtpnjtime = 300;txtpnj = "Need painkiller ?";}
if choicepack = 2 {
if obj_zombie.nowthirst &lt; 50 {
if poto = 0 {randomkitheal = random_range(700,5000) }else{randomkitheal = random_range(6700,13000)}
with(instance_create(x,y,obj_lootobj)){itemloot = 7}
txtpnjtime = 300;txtpnj = "Need water ?";}}
if choicepack = 3 {
if obj_zombie.nowhunger &lt; 50 {
if poto = 0 {randomkitheal = random_range(700,5000) }else{randomkitheal = random_range(6700,13000)}
with(instance_create(x,y,obj_lootobj)){itemloot = 1}
txtpnjtime = 300;txtpnj = "Need food ?";}}
if choicepack = 4 {
if obj_zombie.pile &lt; 40 {
randomkitheal = random_range(700,5000) 
with(instance_create(x,y,obj_lootobj)){itemloot = 4}
txtpnjtime = 300;txtpnj = "Need battery ?";}}
if choicepack = 5 {//need ammo gun
if obj_zombie.ammonow &lt; 40 {
randomkitheal = random_range(700,5000) 
with(instance_create(x,y,obj_lootobj)){itemloot = 597}
txtpnjtime = 300;txtpnj = "Need gun's ammo ?";}}
if choicepack = 6 {//need ammo shootgun
if obj_zombie.ammonow2 &lt; 40 {
randomkitheal = random_range(700,5000) 
with(instance_create(x,y,obj_lootobj)){itemloot = 598}
txtpnjtime = 300;txtpnj = "Need shootgun's ammo ?";}}
if choicepack = 7 {//need ammo assaut
if obj_zombie.ammonow3 &lt; 40 {
randomkitheal = random_range(700,5000) 
with(instance_create(x,y,obj_lootobj)){itemloot = 599}
txtpnjtime = 300;txtpnj = "Need rifle assaut's ammo ?";}}

 }
}else{
randomkitheal -= 1
}
}
}

if poto = 0 {
//CREATION FEUX DE CAMPS ALEAT
if escort = 0 {
if global.interieur = 0 {
if randomfeudecamp &lt;= 0 {

with(instance_create(x+lengthdir_x(110,image_angle),y+lengthdir_y(110,image_angle),obj_firecreate)){
other.instfire = id
}
randomfeudecamp = 100
 txtpnjtime = 600;txtpnj = "Praise the fire"
}else{

if randomfeudecamp &lt; 500 {
 if randomfeudecamp = 499 {txtpnjtime = 600;txtpnj = "I Really Need a Fire"}
if instance_exists(instfire){
//instfire = instance_nearest(x,y,obj_firecreate)
if point_distance(x,y,instfire.x,instfire.y) &lt; 350 {
randomfeudecamp += 1.1
if randomfeudecamp = 450 {
randomfeudecamp = random_range(12000,30000)
txtpnjtime = 600;txtpnj = "Ok i'm fine"
instfire = 0
}
}
}


path_end();
speed = 0
alarm[11] = 10
alarm[1] = 10
}else{if poto = 0 {//speed = enemyspeed
}}
randomfeudecamp -= 1
}
}else{ randomfeudecamp = random_range(7000,9000)}
}

//ce rechaufer si proche feux
if instance_exists(obj_firecreate){
instfireproche = instance_nearest(x,y,obj_firecreate)
if instfireproche = instfire {}else{//si il n'a pas creer ce feu
if instance_exists(instfireproche){
if point_distance(x,y,instfireproche.x,instfireproche.y) &lt; 650 {
randomfeudecamp += 1.2
}}}}

}



if poto = 1 {
if point_distance(x,y,obj_zombie.x,obj_zombie.y) &gt; 250 {
nouvel_angle = direction
if avertissement = 0{
  image_angle += sin(degtorad(nouvel_angle - image_angle)) * (8/global.varfpsmax);//12
}}
}

if instance_exists(cibleallie) &amp;&amp; cibleallie &gt; 0 {
if point_distance(x,y,cibleallie.x,cibleallie.y) &lt; 650 {
  nouvel_angle =  point_direction(x,y,cibleallie.x,cibleallie.y)
  if avertissement = 0{
  image_angle += sin(degtorad(nouvel_angle - image_angle)) * (8/global.varfpsmax);//12
}alarm[8] = 300
}
}

//esquiver autre ia : 
//if avertissement = 0 {
if obj_intro.stopintro = 1 {
if randomesquive = 1 &amp;&amp; alarm[8] &lt; 0 {
if phrase = 0 or findeblablaphrase = 1 {
if alarmeskiv &lt;= 0 {
alarmeskiv = floor(random_range(5,15))
for (var i = 0; i &lt; 11; i += 1) {

ia1 = 0
objcolliia = obj_enemy2;
nearest = 2
if i = 1 {objcolliia = obj_stalker ; nearest = 2}
if i = 2 {objcolliia = obj_bossnet ; nearest = 1}
if i = 3 {objcolliia = obj_shape03 ; nearest = 1}
if i = 4 {objcolliia = obj_shape05 ; nearest = 1}
if i = 5 {objcolliia = obj_crate02 ; nearest = 1}
if i = 6 {objcolliia = obj_crate03 ; nearest = 1}
if i = 7 {objcolliia = obj_zombie ; nearest = 1}
if i = 8 {objcolliia = obj_enemy2 ; nearest = 1}
if i = 9 {objcolliia = obj_villageois ; nearest = 1}
if i = 10 {objcolliia = obj_crate0 ; nearest = 1}

if i = 1 {ia1 = instance_nth_nearest(x,y,objcolliia,nearest)}else{
ia1 = instance_nearest(x,y,objcolliia)
}

if instance_exists(ia1){
if ia1 = id {}else{
if point_distance(ia1.x,ia1.y,x,y) &lt; 50 {
ia1dir = point_direction(ia1.x,ia1.y,x,y)
//mp_potential_settings(45, 5, 5, 0)
nbrrepeatmx += 1 

for (nbrrepeatmx = 30; nbrrepeatmx &gt; 0 ; nbrrepeatmx -= 1) {
if nbrrepeatmx = 30  or
   nbrrepeatmx = 10  {
randomangleobjechap = random(360)}
mx3 = ia1.x+lengthdir_x(75,ia1dir) 
my3 = ia1.y+lengthdir_y(75,ia1dir) 

}


if (mp_grid_path(global.grid, path, x, y,mx3 , my3 ,0))  {
//path_end();
patrol = 0;
modepath = 4
path_start(path, enemyspeed / fpsmax , path_action_stop, absolute9);
}}}}


}}else{alarmeskiv -= 1}randomesquive = 0;}}}//}


//ESCORT
if escort &gt; 0 {
if poto = 0 {path_end();speed = 0 ;enemyspeed = 0}
with(obj_stalker){if id = other.id {}else{
if escort = other.escort{
with(other){instance_destroy();}
}
}}
patrol = 0 
}

//POTO !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
//!!!!!!!!!!!!
if karmabas = 0  &amp;&amp; obj_zombie.prime &lt; (20*obj_zombie.level) {

//ESCORT MISSION
escortproche = 0
if escort &gt; 0 {
if ds_grid_get(obj_quest.questgrid, 10, escort) = 2 {
poto = 0;obj_controllerstalker.potonow = 0;obj_controllerstalker.potonow = 0;global.poto = 0}
x14 = ds_grid_get(obj_quest.questgrid,14,escort)
x15 = ds_grid_get(obj_quest.questgrid,15,escort)
x16 = ds_grid_get(obj_quest.questgrid,16,escort)
if x16 = room {
if point_distance(x,y,x14,x15) &lt; 600 &amp;&amp; ds_grid_get(obj_quest.questgrid, 10, escort) = 1{
mx3 = x14;
my3 = x15;
escortproche = 1
if point_distance(x,y,x14,x15) &lt; 300 {//poto = 0;obj_controllerstalker.potonow = 0;global.poto = 0;
blablaquestnow = 0
if is_undefined(ds_grid_get(obj_quest.questgrid,20, escort)) {}else{
if ds_grid_get(obj_quest.questgrid,7, escort) &lt;= obj_zombie.level 
{//
if ds_grid_get(obj_quest.questgrid,10, escort) = 1 {
if point_distance(x,y,mouse_x,mouse_y) &lt; 70 {
//if instance_exists(obj_questinfo){}else{
//splitquest = 0
questinfovar = ds_grid_get(obj_quest.questgrid,3,escort)
blablaquestnow = 1
image_angle = point_direction(x,y,obj_zombie.x,obj_zombie.y)

varstr = ds_grid_get(obj_quest.questgrid,20, escort)

string_split2(varstr)
strlgt = string_length(blablasplit[splitquest])

if blablasplit[splitquest] = "" {}else{
if keyboard_check_pressed(ord("E")) {splitquest += 1;timequest = 0;}
if timequest &lt; strlgt*4 {timequest += 1}else{timequest = 0;splitquest += 1 }}
blablaphrases3 = blablasplit[splitquest]

if blablaphrases3 = "" {
}
//}
}

}}}

if point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; 130 &amp;&amp; blablaphrases3 = "" &amp;&amp;  point_distance(x,y,mouse_x,mouse_y) &lt; 70 {
if global.language = 1 {obj_cursor.infoall = "Appuie sur 'E' pour interagir"}else
if global.language = 2 {obj_cursor.infoall = "Push 'E' to interact"}
//if keyboard_check_pressed(ord("E")){
with(instance_create(obj_zombie.x,obj_zombie.y,obj_lootobj)){
itemloot = ds_grid_get(obj_quest.questgrid,6, other.escort)}

//scr_itempickup(ds_grid_get(obj_quest.questgrid,6, escort),ds_grid_get(obj_quest.questgrid,6, escort),floor(random_range(10,999999)),1,0,1);
obj_zombie.karma += ds_grid_get(obj_quest.questgrid,5, escort)
if ds_grid_get(obj_quest.questgrid,32, escort) = "" {}else{
splitquest = 0

obj_nightcycle.walkienow = ds_grid_get(obj_quest.questgrid,32, escort)}
questinfovar = ds_grid_get(obj_quest.questgrid,3,escort)

with(instance_create(x,y,obj_questinfo)){
nbrquestinfo = instance_number(obj_questinfo) 
alarm[1] = 1+(200*nbrquestinfo)
questinfovar = other.questinfovar
finished = 1
quest = other.escort
}
ds_grid_set(obj_quest.questgrid, 10, escort,2)//VALIDER LA QUETE
ds_grid_set(obj_quest.questgrid, 19, escort,4)//la mêttre dans les quetes fini
if ds_grid_get(obj_quest.questgrid, 30, escort) = "" or ds_grid_get(obj_quest.questgrid, 30, escort) &lt;= 0 {}else{ 
ds_grid_set(obj_quest.questgrid, 10, ds_grid_get(obj_quest.questgrid, 30, escort),1)
global.roomcible = ds_grid_get(obj_quest.questgrid,16, ds_grid_get(obj_quest.questgrid, 30, quest))
global.roomdonneurdequest = ds_grid_get(obj_quest.questgrid,29, ds_grid_get(obj_quest.questgrid, 30, quest))
}//ajouter la prochainequestprincipal
with(obj_infoloot){//ET EN DONNER L INFO
ds_map_add(lootinfods,string(0),"Quest finished : "
+string(ds_grid_get(obj_quest.questgrid,3, other.escort)))
alarmloot[0] = 800
ds_map_add(lootinfods,string(1),"Reward K : "
+string(ds_grid_get(obj_quest.questgrid,5, other.escort)))
alarmloot[1] = 800    
    }

//poto = 0;obj_controllerstalker.potonow = 0;obj_controllerstalker.potonow = 0;global.poto = 0
//}
}

}
}
}
}//ESCORT MISSION


if poto = 1 {

if hpmobs &lt; maxhpmobs {hpmobs += (0.0002*maxhpmobs)}//recuperation hp
patrol = 0
if escortproche = 0 {
if poschangepoto = 0 {

nbrrepeatmx = 10
for (nbrrepeatmx = 10; nbrrepeatmx &gt; 0 ; nbrrepeatmx -= 1) {


mx3var0 = obj_zombie.x+-40+random(80)+lengthdir_x(140,obj_zombie.image_angle-180)
my3var0 = obj_zombie.y+-40+random(80)+lengthdir_y(140,obj_zombie.image_angle-180) 
if !(mp_grid_path(global.grid, path, x, y,mx3var0 , my3var0 ,1))  {//if place_meeting(mx3var0,my3var0,all){
}else{mx3 = mx3var0; my3 = my3var0; nbrrepeatmx = 0}}


}else if point_distance(x,y,obj_zombie.x,obj_zombie.y) &gt; 140 {//350 pas trop mal
nbrrepeatmx = 10
for (nbrrepeatmx = 10; nbrrepeatmx &gt; 0 ; nbrrepeatmx -= 1) {

mx3var0 = obj_zombie.x+lengthdir_x(140,obj_zombie.image_angle-180) 
my3var0 = obj_zombie.y+lengthdir_y(140,obj_zombie.image_angle-180) 
//mx3 = obj_zombie.x+lengthdir_x(140,obj_zombie.image_angle) 
//my3 = obj_zombie.y+lengthdir_y(140,obj_zombie.image_angle) 

if !(mp_grid_path(global.grid, path, x, y,mx3var0 , my3var0 ,1))  {
}else{mx3 = mx3var0; my3 = my3var0; nbrrepeatmx = 0}}

}else{

}
}


if poschangepoto &lt; 100+random(150) {
poschangepoto += 1
}else{poschangepoto = 0}
//pour suivre le joueur si trop loin




alarm[11] = 31
alarm[1] = 31

patrol = 0

var mx = mx3
var my = my3


/*if obj_intro.i &gt; 0 {
if obj_intro.i = 57 or obj_intro.i = 48{blablaquest = ""}else{if alarmintro &gt; 0 {alarmintro -= 1 ;blablaquest = "";}else{

//chemin de quete
if point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; 350 {
if obj_intro.mx2 &gt; 0 {

var mx = obj_intro.mx2
var my = obj_intro.my2
if obj_intro.stopintro = 1 {
blablaquest = "Suis moi !"}else{
blablaquest = ""}
}}else{alarmintro = 90;blablaquest = ""}}}
}*/
/*if point_distance(x,y,obj_zombie.x,obj_zombie.y) &gt; 350 &amp;&amp;*/
if point_distance(x,y,mx,my) &gt; 30 {
distplayerpoto = point_distance(x,y,obj_zombie.x,obj_zombie.y)/200
if (mp_grid_path(global.grid, path, x, y,mx , my ,1))  {
patrol = 0;
modepath = 5
path_start(path, enemyspeed*(0.5+(distplayerpoto/3)) / fpsmax , path_action_stop, absolute9);}
}/*}else if point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; 350 &amp;&amp;
 point_distance(x,y,mx,my) &gt; 30 {
if (mp_grid_path(global.grid, path, x, y,mx , my ,1))  {
path_start(path, enemyspeed*1 / fpsmax , path_action_stop, absolute9);
}}*/









if point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; 250 {



if alarm[8] &lt; 0 {
nouvel_angle = point_direction(x,y,mouse_x,mouse_y)
}




if visionstopnow = 0 {if avertissement = 0{image_angle += sin(degtorad(nouvel_angle - image_angle)) * (8/global.varfpsmax)}}
//speed = 0
//path_end();
}else{//speed = enemyspeed
nouvel_angle = direction

}



if point_distance(x,y,obj_zombie.x,obj_zombie.y) &gt; 1020+bonusdistguys {path_end();
//move_towards_point(obj_zombie.x+lengthdir_x(80,obj_zombie.image_angle),obj_zombie.y+lengthdir_y(180,obj_zombie.image_angle),enemyspeed*1.2)
}

if point_distance(x,y,obj_zombie.x,obj_zombie.y) &gt; 250+bonusdistguys  {if visionstopnow = 0 {image_angle += sin(degtorad(nouvel_angle - image_angle)) * (8/global.varfpsmax);}}else{
nouvel_angle = point_direction(x,y,mouse_x,mouse_y)}//8}
if alarm[8] &gt; 0 {if visionstopnow = 0 {image_angle += sin(degtorad(nouvel_angle - image_angle)) * (8/global.varfpsmax);}}//8}

}}else{poto = 0}

///SCRIPT DU BLABLA
//obj_enemy2
avertissement = 0;
if poto = 0 &amp;&amp; visibilitercible = 1{
 if instance_exists(cibleallie) &amp;&amp; cibleallie &gt; 0 {
 if cibleallie = instance_nearest(x,y,obj_zombie) {//blablanow = "" ; alarmavertissement = 0
 }else{
    if cibleallie.alarm[8] &lt; 0 {cibleallie.alarm[8] = 50;//modepathtime = 3;
    cibleallie.cibleallie = id
    }
 //image_angle = point_direction(x,y,cibleallie.x,cibleallie.y)
 nouvel_angle = point_direction(x,y,cibleallie.x,cibleallie.y)
 image_angle += sin(degtorad(nouvel_angle - image_angle)) * (8/global.varfpsmax);
 if point_distance(x,y,cibleallie.x,cibleallie.y) &lt; 305+randomdistblabla {
 //path_end();
 patrol = 0 ;speed = 0;motion_set(image_angle,0);move_towards_point(0,0,0);
 avertissement = 1;//modepathtime = 3;
 
 }
 if cibleallie.avertissement = 0 &amp;&amp; cibleallie.alarmavertissement &gt; 0 {
 
 
   if point_distance(x,y,cibleallie.x,cibleallie.y) &lt; 700 {
 alarmavertissement += 1 }else{avertissement = 0;blablanow = "" ; alarmavertissement = 0}
 //avertissement = 0;

with(obj_nightcycle){

//if other.alarmavertissement &gt; 10 {other.avertissement = 1}
if other.alarmavertissement = 10 {other.blablanow = choose(blabla[41],blabla[42],blabla[43]
,blabla[44],blabla[45],blabla[46],blabla[47],blabla[48],blabla[49],blabla[50])}//surprise
if other.alarmavertissement = 100 {other.blablanow = choose(blabla[51],blabla[52],blabla[53]
,blabla[54],blabla[55],blabla[56],blabla[57],blabla[58],blabla[59],blabla[60])}//who are u //why are u here
if other.alarmavertissement = 250 {other.blablanow = choose(blabla[61],blabla[62],blabla[63]
,blabla[64],blabla[65],blabla[66],blabla[67],blabla[68],blabla[69],blabla[70])}//just come back
if other.alarmavertissement = 350 {other.blablanow = choose(blabla[71],blabla[72],blabla[73]
,blabla[74],blabla[75],blabla[76],blabla[77],blabla[78],blabla[79],blabla[80])}//move now or die
if other.alarmavertissement &gt; 700 {other.blablanow = "";other.alarmavertissement = 0;avertissement = 0;

}}
 
 }else if cibleallie.avertissement = 1 {avertissement = 0;blablanow = "" ; alarmavertissement = 0}
 }
 }//else{avertissement = 0;blablanow = "" ; alarmavertissement = 0}
}else{
blablanow = "";
}
}

if poto = 0 {
if avertissement = 1 {//path_end();
patrol = 0 ;speed = 0;motion_set(image_angle,0);move_towards_point(0,0,0);enemyspeed = 0;//x = xprevious ; y = yprevious
}else{avertissement = 0;//blablanow = "" ; alarmavertissement = 0
}}


//move_bounce_solid(false);
//if obj_intro.demaragedial &gt; 0 {hpmobs = maxhpmobs}

}else{

if instance_exists(idprisonier){}else{if detachement &gt; 0 {detachement -= 1}else{idprisonier = 0 ;possedeunprisonier = 0 }}

cibleteleport = instance_nearest(x,y,obj_teleport1)
if instance_exists(cibleteleport){
mx = cibleteleport.x+varmx;
my = cibleteleport.y+varmy;

if point_distance(x,y,cibleteleport.x,cibleteleport.y) &gt; 400 {
if (mp_grid_path(global.grid, path, x, y,mx , my ,1))  {
instance_activate_object(idprisonier);
nouvel_angle = direction// point_direction(x,y,cibleteleport.x,cibleteleport.y)
 image_angle += sin(degtorad(nouvel_angle - image_angle)) * (8/global.varfpsmax);
path_start(path, 6 , path_action_stop, 1);}else{
varmx = random(220)
varmy = random(220)
}
}else{
if instance_exists(idprisonier){
idprisonier.image_alpha = image_alpha}
if image_alpha &lt; 0 { 
with(idprisonier){instance_destroy();}
instance_destroy();}else{
image_alpha -= 0.05
}
}}



}

}else{
if instance_exists(maitre) &amp;&amp; maitre &gt; 0{

/*if anglealet &gt; 5+random(20) {descenteangle = 1}
if anglealet &lt; -5-random(20) {descenteangle = 0}
if descenteangle = 0 {anglealet += random(5)}else{anglealet -= random(5)}*/


draw_curveprisongun(x+lengthdir_x(0,image_angle-30),y+lengthdir_y(30,image_angle-30)
,maitre.x,maitre.y,image_angle,300)

draw_lightning(x,y,x+lengthdir_x(30,random(360)),
y+lengthdir_y(30,random(360)), 1, 12, 1,34,c_white)


if point_distance(x,y,maitre.x,maitre.y) &gt; 200 {
if (mp_grid_path(global.grid, path, x, y,maitre.x , maitre.y ,1))  {
nouvel_angle = point_direction(x,y,maitre.x,maitre.y) //point_direction(x,y,maitre.x,maitre.y)
 image_angle += sin(degtorad(nouvel_angle - image_angle)) * (14/global.varfpsmax);// image_angle = point_direction(x,y,maitre.x,maitre.y)//sin(degtorad(nouvel_angle - image_angle)) * (8/global.varfpsmax);
path_start(path, 8 , path_action_stop, 1);}else{
varmx = random(220)
varmy = random(220)
}
}else{path_end();}
if point_distance(x,y,maitre.x,maitre.y) &gt; 600 {maitre = 0}
}else{if detachement &gt; 0 {detachement -= 1}else{maitre = 0 ;prisonierdia = 0}}
}



}
//

//QUEST !!!!
questbla = 0
if alarm[8] &lt; 0 &amp;&amp; maitre = 0 &amp;&amp; taser = 0 &amp;&amp; escort = 0 &amp;&amp; idpoto &lt; 25{//numbercopilote = 0//show_message("yep")
blablaquestnow = 0
blablaphrases2 = ""
//if alarm[2] &lt; 0 {
//show_message(idpoto+49)
if ds_grid_get(obj_quest.questgrid,7, idpoto+49) &lt;= obj_zombie.level 
{//show_message("ok1")PAS OK PUTAIN//villageois jusqu'a 50 ,de 50 a 100 pr stalker 
if ds_grid_get(obj_quest.questgrid,10, idpoto+49) = 0 {questbla = 1//CELUI LA OK
if point_distance(x,y,mouse_x,mouse_y) &lt; 70 {
if keyboard_check_pressed(ord("E")) {splitquest += 1;timequest = 0;}
//if ds_grid_get(obj_quest.questgrid,9, idpoto+49) = "" {}else{
path_end();blablaquestnow = 1
image_angle = point_direction(x,y,obj_zombie.x,obj_zombie.y)
//first = string_split2("/",ds_grid_get(obj_quest.questgrid,9, false)
varstr = ds_grid_get(obj_quest.questgrid,9, idpoto+49)

string_split2(varstr)
strlgt = string_length(blablasplit[splitquest])
if blablasplit[splitquest] = "" {//show_message("nope1")
}else{
if timequest &lt; strlgt*4 {timequest += 1}else{timequest = 0;splitquest += 1 ;
}}
blablaphrases2 = blablasplit[splitquest]

if blablaphrases2 = "" {if global.language = 1 {
 obj_cursor.infoall = "Appuie sur 'E' pour accepter la quête"}else{
 obj_cursor.infoall = "Tap 'E' To accept quest"
 }
if keyboard_check_pressed(ord("E")){//if instance_exists(obj_questinfo){}else{
splitquest = 0
questinfovar = ds_grid_get(obj_quest.questgrid,3,idpoto+49)
//SUREMENT LE DONEUR D OBJ POUR TRANSPORT MAIS BUG IL DONNE UN PEU TOUT LE TEMPS
if ds_grid_get(obj_quest.questgrid,21,idpoto+49) = "" or ds_grid_get(obj_quest.questgrid,21,idpoto+49) &lt;= 0 {}else{
if ds_grid_get(obj_quest.questgrid,13,idpoto+49) = 5 {if ds_grid_get(obj_quest.questgrid,21,idpoto+49) = 601 {}else{
//scr_itempickup(ds_grid_get(obj_quest.questgrid,21,idpoto+49),ds_grid_get(obj_quest.questgrid,21,idpoto+49),round(random_range(10,999999)),random(10),0,1);
}}
}
ds_grid_set(obj_quest.questgrid,10, idpoto+49,1)
global.roomcible = ds_grid_get(obj_quest.questgrid,16,idpoto+49 )
global.roomdonneurdequest = ds_grid_get(obj_quest.questgrid,29,idpoto+49 )
questinfovar = ds_grid_get(obj_quest.questgrid,3,idpoto+49)
with(instance_create(x,y,obj_questinfo)){
nbrquestinfo = instance_number(obj_questinfo) 
alarm[1] = 1+(200*nbrquestinfo)
questinfovar = other.questinfovar
finished = 0
quest = other.idpoto+49
}
}}//}
//}
}
}}//}
}else{blablaphrases2 = ""}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_fumeetoxique">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
      //  instance_create(x , y , oBlood);
               // instance_create(x , y , oBlood);
                 //       instance_create(x , y , oBlood);
//hpmobs = 0
hpmobs -= (maxhpmobs /965 )//65
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_epeeloot">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///tir de loin



//tirdeloin = 1
//alarm[6] = 1000
/*
if hpmobs &lt; 0 {


alarm[2] = 1000
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if instance_exists(maitre){}else{
randomesquive = 1
if poto = 0 {
if alarm[4] &gt; 0 {}else{


toucherparmoi = 1


if other.pousse &gt; 10 {
 if not audio_is_playing(snd_coupdecut2){
audio_play_sound_at(snd_coupdecut2, x, y,0,global.falloff_ref2, global.falloff_max2, 1, false, 1);
    audio_sound_gain(snd_coupdecut2, 1, 0);
  }
  other.pousse = 0
  avertissement = 1
hpmobs -= (maxhpmobs )
instance_create(x,y,obj_shake)
instance_create(x,y,obj_shake)

instance_create(x , y , oBlood);
instance_create(x , y , oBlood);
instance_create(x , y , oBlood);
//temps entre deux coups de couteau
}


}
}}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_stalker">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>randomesquive = 1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="o_explosion_piece">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>bloodprob = round(random(30))
if bloodprob = 1 {
instance_create(x , y , oBlood);
}

hpmobs -= (maxhpmobs /500 )/(1+(armurepoto/10))
 
if probflame &lt; 1 {
with instance_create(other.x+-random(10),other.y+-random(10),obj_tachesolburn){
image_xscale  -= 0.3
image_yscale  -= 0.3
}
probflame = 1000*global.varfpsmax
with instance_create(x+-random(10),y+-random(10),obj_flammeplayer){
idproprio = other.id
}
}

/*
 if mode2 = 10 or mode2 = 16
 {
 with(instance_create(x,y,obj_weaponloot)){
 mode2 = other.mode2
 }}
 /*
with(instance_create(x,y,obj_repop)) {
other.idrepop2 = id
mode2 = other.mode2
difficulty = other.difficulty
}
idrepop2.modedraw = mode2
instance_destroy();



</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_bigexplo">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//toucherparmoi = 1
bloodprob = round(random(30))
if bloodprob = 1 {
instance_create(x , y , oBlood);
}
               


hpmobs -= (maxhpmobs /500 )/(1+(armurepoto/10))

if probflame &lt; 1 {
with instance_create(other.x+-random(10),other.y+-random(10),obj_tachesolburn){
image_xscale  -= 0.3
image_yscale  -= 0.3
}
probflame = 1000*global.varfpsmax
with instance_create(x+-random(10),y+-random(10),obj_flammeplayer){
idproprio = other.id
}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_enemy2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*if instance_exists(maitre){}else{if other.mode2 = 17 {
*/if other.image_index = 8 {
if hpmobs &gt; 0 {
hpmobs -= (maxhpmobs/3)
instance_create(x , y , oBlood);
}}
/*}
}}

//randomesquive = 1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_arrow_enemy">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>hpmobs -= (maxhpmobs /10 )/(1+(armurepoto/10))

        instance_create(x , y , oBlood);
with(other){
instance_destroy();

}

patrol = 0 
alarm[8] = 200
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_bullet_enemy">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>hpmobs -= (maxhpmobs /5//10
 )/(1+(armurepoto/10))

        instance_create(x , y , oBlood);
with(other){
instance_destroy();

}

if hpmobs &gt; 0
{with(obj_stalker){
if id = other.id{}else{
if point_distance(x,y,other.x,other.y) &lt; 900 {
alarm[8] = 500
}
}}}

patrol = 0 
alarm[8] = 200
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_flammeplayer">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>bloodprob = round(random(30))
if bloodprob = 1 {
instance_create(x , y , oBlood);
}
if bloodprob = 1 or bloodprob = 2 or bloodprob = 3{
with instance_create(other.x+-random(10),other.y+-random(10),obj_tachesolburn){
image_xscale  -= 0.6+random(0.25)
image_yscale  -= 0.6+random(0.25)
}}

hpmobs -= (maxhpmobs /665 )/(1+(armurepoto/10))//65


if other.idproprio = id {}else{
if probflame &lt; 1 {
probflame = 1000*global.varfpsmax
with instance_create(x+-random(10),y+-random(10),obj_flammeplayer){
idproprio = other.id
}}}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_ondedechocnet">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>paralyse = 1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_ondedechoc">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>paralyse = 1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_healbalise">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if obj_zombie.karma &gt; 0 {
   if hpmobs &lt; maxhpmobs {hpmobs += (maxhpmobs /1000 )}}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_bowskill">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>

if other.enemy = 1 {}else if obj_zombie.karmaneg &gt; 0 {
if other.alarm[2] &lt; 0 {
hpmobs -= (maxhpmobs/50)


other.toucherid[other.toucher] = id
with(other){
instance_destroy();}


other.toucher += 1
other.alarm[2] = 5}

anglebulletlast = other.image_angle

        instance_create(x , y , oBlood);
         instance_create(x , y , oBlood);
        
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_swordtoupiaoe">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if hpmobs &gt; 0
{
if other.enemy = 1 {}else if obj_zombie.karmaneg &gt; 0 {
aterre = 99
nvelangleaterre = point_direction(other.x,other.y,x,y)
//movementcorps = 17
anglebulletlast = point_direction(other.x,other.y,x,y)}
}

var portebullet = 150
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_swordskill">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>

if other.enemy = 1 {}else if obj_zombie.karmaneg &gt; 0 {
if other.alarm[2] &lt; 0 {
hpmobs -= (maxhpmobs/50)


other.toucherid[other.toucher] = id
with(other){
if enemy = 1 {//lancer par l enemi traj differente
instsearch1 = obj_zombie
instsearch3 = oOtherClient
}else{
instsearch1 = oOtherClient
instsearch3 = obj_zombie
}

nearinst1 = 0
nearinst2 = 0
nearinst3 = 0

if instance_exists(instsearch1){
var i;
 for (i = 0; i &lt; 10; i += 1){
nearinst1var = instance_nth_nearest(x,y,instsearch1,i)
if nearinst1var = toucherid[toucher-1] {}else{
if not instsearch1.team = team {
if nearinst1var.karma &gt; 0 {}else{if nearinst1 = 0 { nearinst1 = nearinst1var}else if nearinst2 = 0 { nearinst2 = nearinst1var}else if nearinst3 = 0 { nearinst3 = nearinst1var}}
}}}}

if instance_exists(obj_bossnet){
var i;
 for (i = 0; i &lt; 10; i += 1){
nearinst1var = instance_nth_nearest(x,y,obj_bossnet,i)
if nearinst1var = toucherid[toucher-1] {}else{
if karmaneg = 0  {
if nearinst1 = 0 { nearinst1 = nearinst1var}else if nearinst2 = 0 { nearinst2 = nearinst1var}else if nearinst3 = 0 { nearinst3 = nearinst1var}
}}}}

if instance_exists(obj_enemy2){
var i;
 for (i = 0; i &lt; 10; i += 1){
nearinst1var = instance_nth_nearest(x,y,obj_enemy2,i)

if nearinst1var = toucherid[toucher-1] {}else{
if karmaneg = 0  {
if nearinst1 = 0 { nearinst1 = nearinst1var}else if nearinst2 = 0 { nearinst2 = nearinst1var}else if nearinst3 = 0 { nearinst3 = nearinst1var}}}
}}

if instance_exists(obj_stalker){
var i;
 for (i = 0; i &lt; 10; i += 1){
nearinst1var = instance_nth_nearest(x,y,obj_stalker,i)
if nearinst1var = toucherid[toucher-1] {}else{
if karmaneg = 0  {}else{
if nearinst1 = 0 { nearinst1 = nearinst1var}else if nearinst2 = 0 { nearinst2 = nearinst1var}else if nearinst3 = 0 { nearinst3 = nearinst1var}}}
}}
if instance_exists(nearinst1){
var dir1 = point_direction(x,y,nearinst1.x,nearinst1.y);
direction = point_direction(x,y,nearinst1.x,nearinst1.y)
image_angle = point_direction(x,y,nearinst1.x,nearinst1.y)}}


other.toucher += 1
other.alarm[2] = 5}

anglebulletlast = other.image_angle

        instance_create(x , y , oBlood);
         instance_create(x , y , oBlood);
        }

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_shieldskill">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>

if other.enemy = 1 {}else if obj_zombie.karmaneg &gt; 0 {
if other.alarm[2] &lt; 0 {
hpmobs -= (maxhpmobs/50)


other.toucherid[other.toucher] = id
with(other){
if enemy = 1 {//lancer par l enemi traj differente
instsearch1 = obj_zombie
instsearch3 = oOtherClient
}else{
instsearch1 = oOtherClient
instsearch3 = obj_zombie
}

nearinst1 = 0
nearinst2 = 0
nearinst3 = 0

if instance_exists(instsearch1){
var i;
 for (i = 0; i &lt; 10; i += 1){
nearinst1var = instance_nth_nearest(x,y,instsearch1,i)
if nearinst1var = toucherid[toucher-1] {}else{
if not instsearch1.team = team {
if nearinst1var.karma &gt; 0 {}else{if nearinst1 = 0 { nearinst1 = nearinst1var}else if nearinst2 = 0 { nearinst2 = nearinst1var}else if nearinst3 = 0 { nearinst3 = nearinst1var}}
}}}}

if instance_exists(obj_bossnet){
var i;
 for (i = 0; i &lt; 10; i += 1){
nearinst1var = instance_nth_nearest(x,y,obj_bossnet,i)
if nearinst1var = toucherid[toucher-1] {}else{
if karmaneg = 0  {
if nearinst1 = 0 { nearinst1 = nearinst1var}else if nearinst2 = 0 { nearinst2 = nearinst1var}else if nearinst3 = 0 { nearinst3 = nearinst1var}
}}}}

if instance_exists(obj_enemy2){
var i;
 for (i = 0; i &lt; 10; i += 1){
nearinst1var = instance_nth_nearest(x,y,obj_enemy2,i)

if nearinst1var = toucherid[toucher-1] {}else{
if karmaneg = 0  {
if nearinst1 = 0 { nearinst1 = nearinst1var}else if nearinst2 = 0 { nearinst2 = nearinst1var}else if nearinst3 = 0 { nearinst3 = nearinst1var}}}
}}

if instance_exists(obj_stalker){
var i;
 for (i = 0; i &lt; 10; i += 1){
nearinst1var = instance_nth_nearest(x,y,obj_stalker,i)
if nearinst1var = toucherid[toucher-1] {}else{
if karmaneg = 0  {}else{
if nearinst1 = 0 { nearinst1 = nearinst1var}else if nearinst2 = 0 { nearinst2 = nearinst1var}else if nearinst3 = 0 { nearinst3 = nearinst1var}}}
}}
if instance_exists(nearinst1){
var dir1 = point_direction(x,y,nearinst1.x,nearinst1.y);
direction = point_direction(x,y,nearinst1.x,nearinst1.y)
image_angle = point_direction(x,y,nearinst1.x,nearinst1.y)}}


other.toucher += 1
other.alarm[2] = 5}

anglebulletlast = other.image_angle

        instance_create(x , y , oBlood);
         instance_create(x , y , oBlood);
        }

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_epeeskin">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///tir de loin

tirdeloin = 1
alarm[6] = 1000
/*
if hpmobs &lt; 0 {


alarm[2] = 1000
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if poto = 0{
//if alarm[4] &gt; 0 {}else{show_message("alarm4")
if obj_zombie.skinchange[7] = 0 {}else{//show_message("skinchange")

//if obj_zombie.animcountcut &lt; 35 &amp;&amp; obj_zombie.animcountcut &gt; 5 {
//if obj_zombie.apoil_frame &gt; 8 &amp;&amp; obj_zombie.apoil_frame &lt; 42 {
if obj_zombie.apoil_frame &gt; 18 &amp;&amp; obj_zombie.apoil_frame &lt; 34 {
toucherparmoi = 1

//motion_set(obj_zombie.image_angle, enemyspeed*1.9/ fpsmax )
x += lengthdir_x(13,obj_zombie.image_angle)
y += lengthdir_y(13,obj_zombie.image_angle)
if other.patron.taser = 0 &amp;&amp; other.patron.maitre = 0 {
 if not audio_is_playing(snd_coupdecut2){
audio_play_sound_at(snd_coupdecut2, x, y,0,global.falloff_ref2, global.falloff_max2, 1, false, 1);
    audio_sound_gain(snd_coupdecut2, 1, 0);
  }}
    
  if tempscut = 0 {
  avertissement = 1
//hpmobs -= irandom_range(4,5)* (obj_zombie.level+1 )//   /2 le level avant 
hpmobs -= (maxhpmobs )
//instance_create(x,y,obj_shake)
//instance_create(x,y,obj_shake)

instance_create(x , y , oBlood);
instance_create(x , y , oBlood);
instance_create(x , y , oBlood);
tempscut = 40 //temps entre deux coups de couteau
}

//part_emitter_region(partblood_sys,partblood_emit,x+50,x-50,y+50,y-50,1,1);
//part_emitter_burst(partblood_sys,partblood_emit,partblood,20);



}
}
//}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_zombie">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///tir de loin

tirdeloin = 1
alarm[6] = 1000
/*
if hpmobs &lt; 0 {


alarm[2] = 1000
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>randomesquive = 1

if poto = 0 {
if obj_zombie.animcountcut &lt; 35 &amp;&amp; obj_zombie.animcountcut &gt; 5 {

//motion_set(obj_zombie.image_angle, enemyspeed*1.9/ fpsmax )
x += lengthdir_x(13,obj_zombie.image_angle)
y += lengthdir_y(13,obj_zombie.image_angle)

 if not audio_is_playing(snd_coupdecut2){
 audio_play_sound(snd_coupdecut2,1,0)
    audio_sound_gain(snd_coupdecut2, 1, 0);
  }
    
  if tempscut = 0 {
//hpmobs -= irandom_range(4,5)* (obj_zombie.level+1 )//   /2 le level avant 
hpmobs -= (maxhpmobs /2 )
instance_create(x,y,obj_shake)

instance_create(x , y , oBlood);
tempscut = 40 //temps entre deux coups de couteau
}

//part_emitter_region(partblood_sys,partblood_emit,x+50,x-50,y+50,y-50,1,1);
//part_emitter_burst(partblood_sys,partblood_emit,partblood,20);



}

}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_onde">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///tir de loin

tirdeloin = 1
alarm[6] = 1000
/*
if hpmobs &lt; 0 {


alarm[2] = 1000
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if hpmobs &gt; 0
{ hpmobs -= irandom_range(20,30)

//part_emitter_region(partblood_sys,partblood_emit,x,x,y,y,1,1);
//part_emitter_burst(partblood_sys,partblood_emit,partblood,20);
}



// Amount of blood
var count = random_range(4, 32);

// Left-mouse click

      //  for (var i = 0; i &lt; count; i++) {
        // Spawn blood within an 8x8 square around the mouse cursor
        
        instance_create(x , y , oBlood);
  //   }
    
    // Screenshake
    //alarm[0] = 4;
    shake    = true;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_flamme">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///tir de loin

tirdeloin = 1
alarm[6] = 1000
/*
if hpmobs &lt; 0 {


alarm[2] = 1000
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>toucherparmoi = 1
if hpmobs &gt; 0
{ //hpmobs -= (maxhpmobs /5 )
hpmobs -= (maxhpmobs /670 )/(1+(armurepoto/10))
if probflame &lt; 1 {
with instance_create(other.x+-random(10),other.y+-random(10),obj_tachesolburn){
image_xscale  -= 0.3
image_yscale  -= 0.3
}
probflame = 1000*global.varfpsmax
with instance_create(x+-random(10),y+-random(10),obj_flammeplayer){
idproprio = other.id
}
}
//part_emitter_region(partblood_sys,partblood_emit,x,x,y,y,1,1);
//part_emitter_burst(partblood_sys,partblood_emit,partblood,20);
}



// Amount of blood
var count = random_range(4, 32);

// Left-mouse click

      //  for (var i = 0; i &lt; count; i++) {
        // Spawn blood within an 8x8 square around the mouse cursor
        bloodprob = round(random(30))
if bloodprob = 1 {
instance_create(x , y , oBlood);
}
  //   }
    
    // Screenshake
    //alarm[0] = 4;
    shake    = true;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_buble">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///tir de loin

tirdeloin = 1
alarm[6] = 1000
/*
if hpmobs &lt; 0 {


alarm[2] = 1000
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if hpmobs &gt; 0
{ hpmobs -= irandom_range(10,15)

//part_emitter_region(partblood_sys,partblood_emit,x,x,y,y,1,1);
//part_emitter_burst(partblood_sys,partblood_emit,partblood,20);
}



// Amount of blood
var count = random_range(4, 32);

// Left-mouse click

      //  for (var i = 0; i &lt; count; i++) {
        // Spawn blood within an 8x8 square around the mouse cursor
        
       
        instance_create(x , y , oBlood);
  //   }
    
    // Screenshake
    //alarm[0] = 4;
    shake    = true;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_laser">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///ancien script step

//mx3varprec = mx3
//my3varprec = my3

if obj_intro.stopintro = 0 {}else{
if instance_exists(obj_enemy2){
with(obj_enemy2){
if taser = 0 {
if imagecut = 9{
if point_distance(x,y,other.x,other.y) &lt; 70 {
other.hpmobs -= (other.maxhpmobs/5)+1
instance_create(x , y , oBlood);
instance_create(x,y,obj_shake)
}}}}}}


if poto = 1 {if x &lt; 10 &amp;&amp; y &lt; 10 {
x = obj_zombie.x+75
y = obj_zombie.y+75
}}

 //replacer a coter du hero en debut de room
 if roomstart &gt; 0 {
 instance_activate_object(id)
 x = obj_zombie.x+75
 y = obj_zombie.y+75
 if roomstart &lt; 40 {roomstart += 1 }else{roomstart = 0}
 }else{//

if poto = 0 {
if avertissement = 1 {path_end();patrol = 1 ;speed = 0;motion_set(image_angle,0);move_towards_point(0,0,0);enemyspeed = 0;//x = xprevious ; y = yprevious
}else{
enemyspeed = 7;speed = enemyspeed
}}




karma = 10
 fpsmax = global.varfpsmax
 
  if probflame &gt; 0 {
 probflame -= 1
 }
 
 if alarm[7] &gt; 0 {instance_activate_object(id);}
 

 if (point_distance(x, y, obj_controllerplayer.x, obj_controllerplayer.y) &gt; 850)  {
if poto =  1 {
instance_activate_object(id);}else{
instance_deactivate_object(id);
} }else{instance_activate_object(id);}//rajouter tres recement cet ligne
 if poto =  1 {
instance_activate_object(id);}
 
 
 //LAMPE

 
 if obj_zombie.torch = true{
 if poto = 1 {
 
 if instance_exists(obj_engine){
 
 if not instance_exists(torchid){
 with(instance_create(x,y,obj_light_torchstalker)){
 other.torchid = id
 parent = other.id
 sl_light_xscale = 2.3//2.7
sl_light_yscale = 2.3
 }}
}
 
 }}else{
 if instance_exists(torchid) {
 with(torchid){ instance_destroy();}
 }
 }
 
 
 
 //aparition en debut de jeu
 if alarm12 &gt; 0 {
 poto = 1//pitete a enlever
 idpoto =  obj_controllerstalker.potonow//pitete a enlever
 alarm12 += 1
 if alarm12 &gt; 10 {
 poto = 1
 idpoto =  obj_controllerstalker.potonow
 alarm12 = 0}
 
 }//
 

 

 //entendre les balles
 if instance_exists(obj_bullet_enemy) or instance_exists(obj_arrow_enemy)or
 instance_exists(obj_rocketfinal){
 alarm[8] = 500
 }//
 

 
 
 //demande d'ami !!!!
 idme = id 

if position_meeting(mouse_x,mouse_y,idme){
if keyboard_check_pressed(ord("E")){


 if global.poto = 1 &amp;&amp; poto = 1 {
 obj_controllerstalker.potonow = 0
 obj_controllerstalker.escort = 0
 with(obj_walkie){
 stopdiscut = 0
 txtnbr = 0
 print = ""
time = 0
text = ""
txtnbr = 0
//discussion = 0
alarm[1] = 50//5500
}
 poto = 0
 global.poto = 0
 }else{
if global.poto = 1 {}else{//dans create zombie
obj_controllerstalker.escort = escort
obj_controllerstalker.potonow = idpoto
global.poto = 1
poto = 1
}
}


}



}
 
 
  //MORT
 if hpmobs &lt; 1 {
 if poto = 1 {
 if escort &gt; 0 {
 
 obj_controllerstalker.potonow = 0
 obj_controllerstalker.escort = 0
 with(obj_walkie){
 stopdiscut = 0
 txtnbr = 0
 print = ""
time = 0
text = ""
txtnbr = 0
//discussion = 0
alarm[1] = 50//5500
}
 }
obj_controllerstalker.potonow = 0
global.poto = 0
}
 if mode2 = 10 or mode2 = 16
 {
 with(instance_create(x,y,obj_weaponloot)){
 mode2 = other.mode2
 }}
with(instance_create(x,y,obj_repopstalker)) {

alarm[3] = 10
toucherparmoi = other.toucherparmoi
other.idrepop2 = id
mode2 = other.mode2
difficulty = other.difficulty
}
idrepop2.modedraw = mode2
instance_destroy();
}
 
 
 
 //PATROL !!!!
 //SUPER I A COLLISION PATROL
 
 
 


 if poto = 0 {
if patrol = 1 //&amp;&amp; avertissement = 0 
{
if alarm[11] &lt; 0 {
 alarm[11] = 42+random(70)*global.varfpsmax}
if alarm[1] &lt; 0 { alarm[1] = 42+random(70)*global.varfpsmax}
 

if not place_free(x+25, y) 
&amp;&amp; place_free(x, y+25)
{
move_towards_point(x-aleatcollidir2,y+1,enemyspeed/4.5/ fpsmax)
}




if not place_free(x-25, y)
&amp;&amp; place_free(x, y-15)
{
move_towards_point(x+aleatcollidir2,y-1,enemyspeed/4.5/ fpsmax)
}


if not place_free(x, y+25) 
&amp;&amp; place_free(x-15, y)
{
move_towards_point(x-1,y-aleatcollidir2,enemyspeed/4.5/ fpsmax)
}


if not place_free(x, y-25) 
&amp;&amp; place_free(x+15, y)
{
move_towards_point(x+1,y+aleatcollidir2,enemyspeed/4.5/ fpsmax)

}
if avertissement = 1 {}else{
nouvel_angle = direction }//A CHANGER SI BUG IMAGE ANGLE
} else {

//image_angle =  point_direction(x,y,obj_zombie.x,obj_zombie.y)
}
}

//EVITER LES OBSTACLES :


if poto = 0 {
if not place_free(x+2, y) {
//path_end();
alarm[11] = 1
alarm[1] = 1
x -= 2
//hspeed = 0

}

if not place_free(x-2, y) {
//path_end();
alarm[11] = 1
alarm[1] = 1
x += 2
//hspeed = 0

}

if not place_free(x, y+2) {
//path_end();
y -= 2
alarm[11] = 1
alarm[1] = 1
//vspeed = 0

}

if not place_free(x, y-2) {
//path_end();
alarm[11] = 1
alarm[1] = 1
y += 2
//vspeed = 0

}
}
   if avertissement = 1 {}else{ nouvel_angle = direction} // point_direction(x,y,obj_zombie.x,obj_zombie.y)//A CHANGER SI BUG IMAGE ANGLE

//ANGLE FLUIDE


 if obj_zombie.karma &lt; 1 {
 karmabas = 1
 } else{
 karmabas = 0
 }
 


 









//CHECK ENEMY !!!!

if instance_exists(obj_zombie) {
//alarmdistcible += 1
//if alarmdistcible &gt;= 50 {

if instance_exists(obj_enemy2){
//cibleallie1 = instance_nearest(x,y,obj_enemy2)
//player_x = cibleallie1.x;
//player_y = cibleallie1.y;
}
     //  player_x = cibleallie.x;
//player_y = cibleallie.y;

if karmabas = 1 {
if instance_exists(obj_zombie){
cibleallie3 = instance_nearest(x,y,obj_zombie)
 //      player_x = cibleallie3.x;
//player_y =cibleallie3.y;

distcible3 = distance_to_object(cibleallie3)

}else{distcible3 = 100000}


}



//
if instance_exists(oOtherClient){
cibleallie1 = instance_nearest(x,y,oOtherClient)

       player_x = cibleallie1.x;
player_y = cibleallie1.y;
distcible1 = distance_to_object(cibleallie1)

if cibleallie1.karma &gt; 0 {distcible1 = 100000}
}else{distcible1 = 100000}


if instance_exists(obj_enemy2){
cibleallie2 = instance_nearest(x,y,obj_enemy2)
if instance_exists(cibleallie2){
if cibleallie2.alarm[8] &lt;= 0 or cibleallie2.taser = 1 {distcible2 = 100000}else{
player_x = cibleallie2.x;
player_y = cibleallie2.y;
distcible2 = distance_to_object(cibleallie2)}}
}else{distcible2 = 100000}




if instance_exists(obj_zombie){
if karmabas = 1 {
cibleallie3 = instance_nearest(x,y,obj_zombie)
       player_x = cibleallie3.x;
player_y = cibleallie3.y;
distcible3 = distance_to_object(cibleallie3)//}else{distcible3 = 100000}
}else{distcible3 = 100000}

if distcible1 &lt; distcible2 &amp;&amp; distcible3 {cibleallie = cibleallie1}
if distcible2 &lt; distcible1 &amp;&amp; distcible3 {cibleallie = cibleallie2}
if distcible3 &lt; distcible2 &amp;&amp; distcible1 {cibleallie = cibleallie3 ;
// if karmabas = 1 {idsoin = 0 &amp;&amp; modeheal = 0} 
}}

if instance_exists(obj_bossnet){
cibleallie1 = instance_nearest(x,y,obj_bossnet)
if point_distance(x,y,cibleallie1.x,cibleallie1.y) &lt; 2000 {
player_x = cibleallie1.x;
player_y = cibleallie1.y;
cibleallie = cibleallie1;

distcible1 = distance_to_object(cibleallie1)}
}
//alarmdistcible = 0
//}



 //SOIN HEALGUN DU STALKER


//modeheal = 0
//LE STOP
if stophealnowtime &gt; 1700 {
stophealnowtime -= 1
stophealnow = 1

if patrol = 0 {
patrol = 1
if alarm[8] &gt; 0 {
cibleallie = 0
alarm[8] = 0}
}
}else{

stophealnowtime -= 1
if stophealnowtime &lt;= 0 {
stophealnowtime = random_range(2000,2700)
}
}


if idsointime2 &lt;= 0 {
idsoin = 0
idsointime2 = random_range(100,500)
//modeheal = 0
if patrol = 0 {
patrol = 1
if alarm[8] &gt; 0 {
cibleallie = 0
alarm[8] = 0}
}
}else{idsointime2 -= 1
}

if instance_exists(obj_stalker){
with(obj_stalker){

if point_distance(x,y,other.x,other.y) &lt; 1050 {
if hpmobs &lt; maxhpmobs-(maxhpmobs/100) {
if id = other.id {}else{

//if other.idsoin = 0 {
if other.idsoin = 0 {other.idsoin = id ; other.modeheal = 1}//}
}}else{if other.patrol = 0 {other.patrol = 1;if alarm[8] &gt; 0 {other.cibleallie = 0;other.alarm[8] = 0}}}//if patrol = 0 {patrol = 1;if alarm[8] &gt; 0 {cibleallie = 0;alarm[8] = 0}}
}
}}

if instance_exists(obj_mineur){
with(obj_mineur){

if point_distance(x,y,other.x,other.y) &lt; 1050 {
if hpmobs &lt; maxhpmobs-(maxhpmobs/10) {
if id = other.id {}else{

if other.idsoin = 0 {other.idsoin = id ; other.modeheal = 2;}
}}else{if other.patrol = 0 {other.patrol = 1;if alarm[8] &gt; 0 {other.cibleallie = 0;other.alarm[8] = 0}}}
}
}}



 stophealnow = 0
if instance_exists(obj_enemy2) or instance_exists(obj_bossnet){
if instance_exists(obj_enemy2){

enemyprocheoupo = instance_nearest(x,y,obj_enemy2) 
if instance_exists(enemyprocheoupo){
if enemyprocheoupo.avertissement = 1 or enemyprocheoupo.taser = 0{}else{enemyprocheoupo = 0}}}
if instance_exists(obj_bossnet){
enemyprocheoupo = instance_nearest(x,y,obj_bossnet) }
if enemyprocheoupo &gt; 0 {
if instance_exists(enemyprocheoupo){
if point_distance(x,y,enemyprocheoupo.x,enemyprocheoupo.y) &lt; 650 {stophealnow = 1;modeheal = 0 ;cibleallie = enemyprocheoupo }else{
}}}
}else{stophealnow = 0}


if stophealnow = 0 {
if instance_exists(obj_zombie){
with(obj_zombie){
if karma &gt; 1 {

if point_distance(x,y,other.x,other.y) &lt; 650 {
if hp &lt; maxhp-(maxhp/10) {
if id = other.id {}else{

if other.idsoin = 0 {if other.timezombieheal = 0 {other.idsoin = id; other.modeheal = 3;}}
}}else{other.idsoin = 0 

other.timezombieheal = 400

if other.poto = 1 &amp;&amp; other.modeheal = 0{
if point_distance(other.x,other.y,obj_zombie.x,obj_zombie.y) &gt; 250  {if other.avertissement = 0{other.image_angle += sin(degtorad(other.nouvel_angle - other.image_angle)) * (5/global.varfpsmax);}
other.visionstopnow = 1
}else{
if other.avertissement = 1 {}else{other.nouvel_angle = point_direction(other.x,other.y,mouse_x,mouse_y)}
}}//8}}


if other.patrol = 0 {
other.patrol = 1
if other.alarm[8] &gt; 0 {
other.cibleallie = 0
other.stophealnowtime = random_range(2500,3500) ; other.idsoin = 0 ;
other.alarm[8] = 0}
}
}}
}else{modeheal = 0}
}}




//changer de cible si 0 sinon choisir nvel cible
if idsoin = 0 {}else{
idsointime -= 1
if idsointime &lt;= 0 {idsoin = 0
idsointime = 1000}

if instance_exists(idsoin){
cibleallie = idsoin}else{idsoin = 0}

}

}else{idsoin = 0 
;modeheal = 0 ;
}




if timezombieheal &gt; 0 {
timezombieheal -= 1
}


















 if instance_exists(cibleallie){
 
      player_x = cibleallie.x;
player_y = cibleallie.y;
}













// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
//DEMARAGE DE L ATTAQUE IA !!!!!!!!!!!!!!!!!!!!!!!!!!
 if instance_exists(cibleallie){
 if cibleallie.taser = 0 {
 
 if k = 0 {
 
var p;
p = 0
if p = 0// for (p = 0; p &lt; 10; p += 1)
    {
     varcibleangledir = random(360)
supermx = cibleallie.x+lengthdir_x(80,varcibleangledir)//(cibleallie.x div 32)*32+16;
supermy = cibleallie.y+lengthdir_y(80,varcibleangledir)//(cibleallie.y div 32)*32+16;
if (mp_grid_path(global.grid, path, x, y, supermx, supermy ,2)){}else{
p = 100;k = 1;
}
    }}else{
    k += 1 ;
    if k &gt; randomcalculatorcible {
    k = 0 ;
    }
    }

 
 
 if (point_distance(x, y, obj_zombie.x, obj_zombie.y) &gt; 2050) {
 if poto = 1 {}else{
 if (point_distance(x, y, cibleallie.x, cibleallie.y) &gt; 150) {
 path_end()//tres fonctionnel pour stoper ia pret du joueur
    patrol = 0
    if alarm[11] &lt; 0 {
    alarm[11] = (45+random(40))*global.varfpsmax
    }
    //move_bounce_solid(false);
 }}
 
 }else{
 

 
 path_set_kind(path, 1)
    path_set_precision(path, 4);//test de precision


 
 //temps du couteau
 if tempscut &gt; 0 {
tempscut -= 1
}
 


 if x&gt;room_width x=room_width-10; if x&lt;0 x=10; if y&gt;room_height y=room_height-10; if y&lt;0 y=10;
  

 
var mx = supermx//(cibleallie.x div 32)*32+16;
var my = supermy//(cibleallie.y div 32)*32+16;


 if mode2 = 6 or mode2 = 7  or mode2 = 8  or mode2 = 9 or mode2 = 13 or mode2 = 16{

 
 
 
 }else{
// if poto = 0 {
 
 //IA BASIQUE
  distancemin = 50
 


// Limitation des mouvements aux extrémités de la room



//move_outside_all(90, 1);




//siflement attire mobs 

 if (keyboard_check(ord("A"))) {
 if (point_distance(x, y, player_x, player_y) &lt; 650+bonusdistguys) {
 if alarm[8] &lt; 0 {
alarm[8] = 1200
}

}}

//tir atire le mobs
if (point_distance(x, y, player_x, player_y) &lt; 2050+bonusdistguys) {
if mouse_check_button_pressed(mb_left) {
if obj_zombie.silencenow &lt; 0.1 {

if alarm[8] &lt; 0 {
alarm[8] = 1500
}


}
}



}


    if alarm[1]=-1{//nvo pour colli proche joueur
    alarm[1] = 5+random(30)
    //image_angle=direction
}





///test de ouf pour vision de perso
var dir2 = point_direction(x,y,cibleallie.x,cibleallie.y);


if abs(angle_difference(dir2,image_angle)) &lt;= 60 {

    //Whatever in here

 collivision = cibleallie
 


 if (point_distance(x, y, player_x, player_y) &lt; 650+bonusdistguys)  
 &amp;&amp;  (point_distance(x, y, player_x, player_y) &gt; distancemin+bonusdistguys)  //nvo 
 


    &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_wall,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_tankneige,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_house1,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_house2,1,1))
  &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_house3,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_buisson1,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_rocher1,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_tronc,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_shape03,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_shape05,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_shape06,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_crate0,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_crate02,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_crate03,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_vehicle,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_house2,1,1))

   
   

 
  {


var mx = supermx//(cibleallie.x div 32)*32+16;
var my = supermy//(cibleallie.y div 32)*32+16;

if (mp_grid_path(global.grid, path, x, y, mx, my ,2)){


if hpmobs &gt; 0 {
if obj_zombie.hp &gt; 0 {//test pour enemi rode apres mort du joueur
 patrol = 0
 if (point_distance(x, y, player_x, player_y) &lt; 50) {
if avertissement = 1 {}else{nouvel_angle =  point_direction(x,y,cibleallie.x,cibleallie.y)}//A CHANGER SI BUG IMAGE ANGLE
}else{
//image_angle=direction
}

//if  (point_distance(x, y, player_x, player_y) &lt; 150) { } else {
path_set_kind(path, 1)
    path_set_precision(path, 8);//test de precision
    if poto = 0 {
    path_start(path, enemyspeed *1/ global.varfpsmax , path_action_stop, 0);}else{path_end();}
    alarm[1] = -1
     if alarm[8] &lt; 0 {
     if avertissement = 1 {}else{nouvel_angle =  point_direction(x,y,cibleallie.x,cibleallie.y)}//A CHANGER SI BUG IMAGE ANGLE
    alarm[8] = 1500
    }
    
    
    }
    }
    }
    
    
    }
    
    
    
    
    
    
    else{//collision line
    //image_angle=direction
    if alarm[8] &lt; 0{
    if avertissement = 1 {}else{nouvel_angle = direction} // point_direction(x,y,obj_zombie.x,obj_zombie.y)//A CHANGER SI BUG IMAGE ANGLE
   
    }
    }
    }
    
    //}
    
    collivision = cibleallie
    if (point_distance(x, y, player_x, player_y) &lt; distancemin+200) 
       &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_wall,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_tankneige,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_house1,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_house2,1,1))
  &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_house3,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_buisson1,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_rocher1,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_tronc,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_shape03,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_shape05,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_shape06,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_crate0,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_crate02,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_crate03,1,1))
    
    {
    path_end()//tres fonctionnel pour stoper ia pret du joueur
    patrol = 0
    if alarm[11] &lt; 0 {
    alarm[11] = (45+random(40))*global.varfpsmax
    }
    //move_bounce_solid(false);
    
    } 
    
    
    
    
    else if (point_distance(x, y, player_x, player_y) &lt; 300)
    {

    }

    if (point_distance(x, y, player_x, player_y) &lt; 50) {//test pour stoper l ia si trop prêt du joueur
        path_end()//tres fonctionnel pour stoper ia pret du joueur
    patrol = 0
    }
    
    
    
    
  
    
    // shoot et experience
    
    if hpmobs &lt; 0 
{
if alarm[0] &lt; 0 {
alarm[0] = 10 * vitessereaction
enemyspeed = 0;
}
}


if stopexp = 0 {
if hpmobs &lt; 0 {

alarm[3] = 1

}
}

clicdroit = 1

// tir par rapport a la distance /// TIR TIR TIR TIR

 if (point_distance(x, y, cibleallie.x, cibleallie.y) &lt; 650+bonusdistguys) &amp;&amp; alarm[9] &lt; 0  //&amp;&amp; tir = 0 
 
 {
 var dir2 = point_direction(x,y,cibleallie.x,cibleallie.y);
if abs(angle_difference(dir2,image_angle)) &lt;= 60 {
if alarm[9] &lt; 0 {
    alarm[9] = choose(1,2,3,4,5) * vitessereaction
    }
    tir = 1
    }
    }
    
    if (point_distance(x, y, player_x, player_y) &gt; 650+bonusdistguys)  {
    tir = 0
    }else{
    
tir = 1
    }




//alarm8 poursuite
if alarm[8] &gt; 0 {
var mx = supermx//(cibleallie.x div 32)*32+16;
var my = supermy//(cibleallie.y div 32)*32+16;

if (mp_grid_path(global.grid, path, x, y, mx, my ,1))  {if poto = 0 {
    path_start(path, enemyspeed *1.15/ global.varfpsmax , path_action_stop, 0);}
if hpmobs &gt; 0 {
if obj_zombie.hp &gt; 0 {//test pour enemi rode apres mort du joueur
 patrol = 0
 
 if (point_distance(x, y, player_x, player_y) &lt; 50) {
if avertissement = 1 {}else{nouvel_angle =  point_direction(x,y,cibleallie.x,cibleallie.y)}//A CHANGER SI BUG IMAGE ANGLE
alarm[10] = -1
}else{
if alarm[10] &lt; 0 {
alarm[10] = 10 
}




}

//if  (point_distance(x, y, player_x, player_y) &lt; 150) { } else {
    path_set_kind(path, 1)
    path_set_precision(path, 8);//test de precision
    if poto = 0 {
    path_start(path, enemyspeed *1.15/ global.varfpsmax , path_action_stop, 0);}
    alarm[1] = -1
    if (point_distance(x, y, player_x, player_y) &lt; 30) {//stoper si trop prêt ,ajouter le 11/10
    path_end()
   // patrol = 1
    }
    
    
    }}}
//VISE LE JOUEUR SI EN VUE ET PAS TROP LOIN POUR POUVOIR TIRER
collivision = cibleallie
 if (point_distance(x, y, player_x, player_y) &lt; 650)  
 
 
 

   &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_wall,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_tankneige,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_house1,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_house2,1,1))
  &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_house3,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_buisson1,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_rocher1,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_tronc,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_shape03,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_shape05,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_shape06,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_crate0,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_crate02,1,1))
 &amp;&amp; (not collision_line(x,y,collivision.x,collivision.y,obj_crate03,1,1)) 
   
   

 
  {
  if avertissement = 1 {}else{nouvel_angle =  point_direction(x,y,cibleallie.x,cibleallie.y)}
  }
}else{
path_end()
patrol = 1
if avertissement = 1 {}else{nouvel_angle=direction}
}
//}
}



if mode2 = 10 {
 dirpart = image_angle
if place_free(x+lengthdir_x(50,dirpart), y+lengthdir_y(50,dirpart))
{
if place_free(x+lengthdir_x(100,dirpart), y+lengthdir_y(100,dirpart)){
if place_free(x+lengthdir_x(150,dirpart), y+lengthdir_y(150,dirpart)){
if place_free(x+lengthdir_x(200,dirpart), y+lengthdir_y(200,dirpart)){
if place_free(x+lengthdir_x(250,dirpart), y+lengthdir_y(250,dirpart)){
if place_free(x+lengthdir_x(300,dirpart), y+lengthdir_y(300,dirpart)){
if place_free(x+lengthdir_x(350,dirpart), y+lengthdir_y(350,dirpart)){
if place_free(x+lengthdir_x(400,dirpart), y+lengthdir_y(400,dirpart)){
if place_free(x+lengthdir_x(450,dirpart), y+lengthdir_y(450,dirpart)){
if place_free(x+lengthdir_x(500,dirpart), y+lengthdir_y(500,dirpart)){
if place_free(x+lengthdir_x(550,dirpart), y+lengthdir_y(650,dirpart)){
if place_free(x+lengthdir_x(600,dirpart), y+lengthdir_y(600,dirpart)){
if place_free(x+lengthdir_x(700,dirpart), y+lengthdir_y(700,dirpart)){

part_type_life(particle1,32,34);//test


}else {
part_type_life(particle1,30,32);
}
}else {
part_type_life(particle1,26,28);
}
}else {
part_type_life(particle1,24,26);
}
}else {
part_type_life(particle1,22,24);
}
}else {
part_type_life(particle1,20,22);
}
}else {
part_type_life(particle1,18,20);
}
}else {
part_type_life(particle1,16,18);
}
}else {
part_type_life(particle1,14,16);
}
}else {
part_type_life(particle1,12,16);
}
}else {
part_type_life(particle1,8,12);
}
}else {
part_type_life(particle1,8,10);
}
}else {
part_type_life(particle1,9,10);
}


}else {
part_type_life(particle1,2,4);
}







if place_free(x+lengthdir_x(50,image_angle), y+lengthdir_y(50,image_angle)){

}else {
part_type_life(particle1,2,4);
}
//part_type_life(particle1,partlng/160,partlng/160);//test distant object



part_type_direction(particle1,image_angle-+random(10),image_angle-+random(10),0,0);


}

//PARALYSIE STUN
if paralyse = 1 {
enemyspeed = 0
paralysetime -= 1
if paralysetime = 0 {
paralyse = 0
paralysetime = 300
}
}else{
if mode2 = 1{enemyspeed = 7+random_range(-1,1)}
if mode2 = 2{enemyspeed = 6+random_range(-1,1)}
if mode2 = 3{enemyspeed = 6.5+random_range(-1,1)}
if mode2 = 4{enemyspeed = 7.5+random_range(-1,1)}
if mode2 = 5{enemyspeed = 5+random_range(-1,1)}
if mode2 = 6{enemyspeed = 8+random_range(-1,1)}
if mode2 = 7{enemyspeed = 7.5+random_range(-1,1)}
if mode2 = 8{enemyspeed = 7+random_range(-1,1)}
if mode2 = 9{enemyspeed = 5+random_range(-1,1)}
if mode2 = 10{enemyspeed = 6+random_range(-1,1)}
if mode2 = 11{enemyspeed = 10.5+random_range(-1,1)}
//if mode = 12{enemyspeed = 8.5}
if mode2 = 13{enemyspeed = 9.5+random_range(-1,1)}
if mode2 = 14{enemyspeed = 7.5+random_range(-1,1)}
if mode2 = 15{enemyspeed = 5.5+random_range(-1,1)}
}

//temps de ralentissement /////
/*
if tempsralent &lt; timechasecombat {
tempsralent += 1
if tempsralent &gt; (timechasecombat-(200+random_range(-100,100))) {

path_end();
if alarm[11] &lt; 0 {
alarm[11] = 25
}}
}else{
tempsralent = 0


}
*/




//eviter de trop ce raprocher du joueur

if not mode2 = 12 {
if (point_distance(x, y, player_x, player_y) &lt; 300) &amp;&amp; alarm[8] &gt; 0{
//move_bounce_solid(true)
path_end();
if alarm[11] &lt; 0 {
//alarm[11] = (5+random(40))*global.varfpsmax
}}
}


//clic joueur
if clicjoueur &gt; 0 {
if clicjoueur = 1 {
alarm[11] = 2*global.varfpsmax
}

if clicjoueur &lt; 30 {
clicjoueur += 1 
//move_bounce_solid(true)
path_end();

}else{
clicjoueur = 0
}


}




if poto = 0 {
 if (point_distance(x, y, player_x, player_y) &gt; 100)  {
if alarm[8] &lt; 800 &amp;&amp; alarm[8] &gt; 700 {
if avertissement = 1 {}else{nouvel_angle =  point_direction(x,y,cibleallie.x,cibleallie.y)}
var mx = supermx//(cibleallie.x div 32)*32+16;
var my = supermy//(cibleallie.y div 32)*32+16;
 // var mx = cibleallie.x+lengthdir_x(40,cibleallie.image_angle) ;
//var my = cibleallie.y+lengthdir_y(40,cibleallie.image_angle);
if (mp_grid_path(global.grid, path, x, y, mx, my ,2))  {
if poto = 0 {
path_start(path, enemyspeed*1.1 / fpsmax , path_action_stop, 1);}
}
}

if alarm[8] &lt; 400 &amp;&amp; alarm[8] &gt; 300 {
if avertissement = 1 {}else{nouvel_angle =  point_direction(x,y,cibleallie.x,cibleallie.y)}
var mx = supermx//(cibleallie.x div 32)*32+16;
var my = supermy//(cibleallie.y div 32)*32+16;
 // var mx = cibleallie.x+lengthdir_x(40,cibleallie.image_angle) ;
//var my = cibleallie.y+lengthdir_y(40,cibleallie.image_angle);
if (mp_grid_path(global.grid, path, x, y, mx, my ,2)) {
if poto = 0 {
path_start(path, enemyspeed*1.1 / fpsmax , path_action_stop, 1);}
}
}
}}

if (point_distance(x, y, player_x, player_y) &lt; 250)  {
path_end();
patrol = 1 }

}//if (point_distance(x, y, player_x, player_y) &lt; 2050) {
}}else{if alarm[8] &gt; 50 {alarm[8] = 50};patrol = 1;avertissement = 0}}else{if alarm[8] &gt; 50 {alarm[8] = 50};patrol = 1;avertissement = 0}









if poto = 0 {if avertissement = 0{
image_angle += sin(degtorad(nouvel_angle - image_angle)) * (11/global.varfpsmax);}}





//LOOOOOT CADO
if escort = 0 {
if karmabas = 0 {

if randomkitheal &lt;= 0 {
if point_distance(x,y,obj_controllerplayer.x,obj_controllerplayer.y) &lt; 650+bonusdistguys  
&amp;&amp; point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; 650+bonusdistguys  
{

choicepack = choose(1,2,3,4,5,6,7)
if choicepack = 1 {
//if obj_zombie.hp &lt; (obj_zombie.maxhp / 3){
randomkitheal = random_range(700,5000) 
with(instance_create(x,y,obj_lootobj)){itemloot = 200}
txtpnjtime = 300;txtpnj = "Need painkiller ?";}
if choicepack = 2 {
if obj_zombie.nowthirst &lt; 50 {
if poto = 0 {randomkitheal = random_range(700,5000) }else{randomkitheal = random_range(6700,13000)}
with(instance_create(x,y,obj_lootobj)){itemloot = 7}
txtpnjtime = 300;txtpnj = "Need water ?";}}
if choicepack = 3 {
if obj_zombie.nowhunger &lt; 50 {
if poto = 0 {randomkitheal = random_range(700,5000) }else{randomkitheal = random_range(6700,13000)}
with(instance_create(x,y,obj_lootobj)){itemloot = 1}
txtpnjtime = 300;txtpnj = "Need food ?";}}
if choicepack = 4 {
if obj_zombie.pile &lt; 40 {
randomkitheal = random_range(700,5000) 
with(instance_create(x,y,obj_lootobj)){itemloot = 4}
txtpnjtime = 300;txtpnj = "Need battery ?";}}
if choicepack = 5 {//need ammo gun
if obj_zombie.ammonow &lt; 40 {
randomkitheal = random_range(700,5000) 
with(instance_create(x,y,obj_lootobj)){itemloot = 597}
txtpnjtime = 300;txtpnj = "Need gun's ammo ?";}}
if choicepack = 6 {//need ammo shootgun
if obj_zombie.ammonow2 &lt; 40 {
randomkitheal = random_range(700,5000) 
with(instance_create(x,y,obj_lootobj)){itemloot = 598}
txtpnjtime = 300;txtpnj = "Need shootgun's ammo ?";}}
if choicepack = 7 {//need ammo assaut
if obj_zombie.ammonow3 &lt; 40 {
randomkitheal = random_range(700,5000) 
with(instance_create(x,y,obj_lootobj)){itemloot = 599}
txtpnjtime = 300;txtpnj = "Need rifle assaut's ammo ?";}}

 }
}else{
randomkitheal -= 1
}
}
}

if poto = 0 {
//CREATION FEUX DE CAMPS ALEAT
if escort = 0 {
if global.interieur = 0 {
if randomfeudecamp &lt;= 0 {

with(instance_create(x+lengthdir_x(110,image_angle),y+lengthdir_y(110,image_angle),obj_firecreate)){
other.instfire = id
}
randomfeudecamp = 100
 txtpnjtime = 600;txtpnj = "Praise the fire"
}else{

if randomfeudecamp &lt; 500 {
 if randomfeudecamp = 499 {txtpnjtime = 600;txtpnj = "I Really Need a Fire"}
if instance_exists(instfire){
//instfire = instance_nearest(x,y,obj_firecreate)
if point_distance(x,y,instfire.x,instfire.y) &lt; 350 {
randomfeudecamp += 1.1
if randomfeudecamp = 450 {
randomfeudecamp = random_range(12000,30000)
txtpnjtime = 600;txtpnj = "Ok i'm fine"
instfire = 0
}
}
}


path_end();
speed = 0
alarm[11] = 10
alarm[1] = 10
}else{if poto = 0 {speed = enemyspeed}}
randomfeudecamp -= 1
}
}else{ randomfeudecamp = random_range(7000,9000)}
}

//ce rechaufer si proche feux
if instance_exists(obj_firecreate){
instfireproche = instance_nearest(x,y,obj_firecreate)
if instfireproche = instfire {}else{//si il n'a pas creer ce feu
if instance_exists(instfireproche){
if point_distance(x,y,instfireproche.x,instfireproche.y) &lt; 650 {
randomfeudecamp += 1.2
}}}}

}



if poto = 1 {
if point_distance(x,y,obj_zombie.x,obj_zombie.y) &gt; 250 {
nouvel_angle = direction
if avertissement = 0{
  image_angle += sin(degtorad(nouvel_angle - image_angle)) * (11/global.varfpsmax);//12
}}
}

if instance_exists(cibleallie){
if point_distance(x,y,cibleallie.x,cibleallie.y) &lt; 650 {
  nouvel_angle =  point_direction(x,y,cibleallie.x,cibleallie.y)
  if avertissement = 0{
  image_angle += sin(degtorad(nouvel_angle - image_angle)) * (11/global.varfpsmax);//12
}alarm[8] = 30
}
}




//esquiver autre ia : 
//if avertissement = 0 {
if randomesquive = 1 {
for (var i = 0; i &lt; 11; i += 1) {

ia1 = 0
objcolliia = obj_enemy2;
nearest = 2
if i = 1 {objcolliia = obj_stalker ; nearest = 2}
if i = 2 {objcolliia = obj_bossnet ; nearest = 1}
if i = 3 {objcolliia = obj_shape03 ; nearest = 1}
if i = 4 {objcolliia = obj_shape05 ; nearest = 1}
if i = 5 {objcolliia = obj_crate02 ; nearest = 1}
if i = 6 {objcolliia = obj_crate03 ; nearest = 1}
if i = 7 {objcolliia = obj_zombie ; nearest = 1}
if i = 8 {objcolliia = obj_enemy2 ; nearest = 1}
if i = 9 {objcolliia = obj_villageois ; nearest = 1}
if i = 10 {objcolliia = obj_crate0 ; nearest = 1}

if i = 1 {ia1 = instance_nth_nearest(x,y,objcolliia,nearest)}else{
ia1 = instance_nearest(x,y,objcolliia)
}

if instance_exists(ia1){
if ia1 = id {}else{
if point_distance(ia1.x,ia1.y,x,y) &lt; 50 {
ia1dir = point_direction(ia1.x,ia1.y,x,y)
//mp_potential_settings(45, 5, 5, 0)
nbrrepeatmx += 1 

for (nbrrepeatmx = 30; nbrrepeatmx &gt; 0 ; nbrrepeatmx -= 1) {
if nbrrepeatmx = 30  or
   nbrrepeatmx = 10  {
randomangleobjechap = random(360)}
mx3 = ia1.x+lengthdir_x(55,ia1dir) 
my3 = ia1.y+lengthdir_y(55,ia1dir) 

}


if (mp_grid_path(global.grid, path, x, y,mx3 , my3 ,2))  {
//path_end();
path_start(path, enemyspeed*0.8 / fpsmax , path_action_stop, 1);
}}}}


}randomesquive = 0;}//}


//ESCORT
if escort &gt; 0 {
if poto = 0 {path_end();speed = 0 ;enemyspeed = 0}
with(obj_stalker){if id = other.id {}else{
if escort = other.escort{
with(other){instance_destroy();}
}
}}
patrol = 0 
}



//POTO !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
//!!!!!!!!!!!!
if karmabas = 0{
if poto = 1 {
 //if point_distance(x,y,cibleallie.x,cibleallie.y) &gt; 150 {
// move_bounce_solid(true)



if hpmobs &lt; maxhpmobs {hpmobs += (0.0002*maxhpmobs)}//recuperation hp
patrol = 0
if poschangepoto = 0 {

nbrrepeatmx = 10
for (nbrrepeatmx = 10; nbrrepeatmx &gt; 0 ; nbrrepeatmx -= 1) {


mx3var0 = obj_zombie.x+-40+random(80)+lengthdir_x(140,obj_zombie.image_angle)
my3var0 = obj_zombie.y+-40+random(80)+lengthdir_y(140,obj_zombie.image_angle) 
if place_meeting(mx3var0,my3var0,all){
}else{mx3 = mx3var0; my3 = my3var0; nbrrepeatmx = 0}}


}else if point_distance(x,y,obj_zombie.x,obj_zombie.y) &gt; 140 {//350 pas trop mal
nbrrepeatmx = 10
for (nbrrepeatmx = 10; nbrrepeatmx &gt; 0 ; nbrrepeatmx -= 1) {


mx3 = obj_zombie.x+lengthdir_x(140,obj_zombie.image_angle) 
my3 = obj_zombie.y+lengthdir_y(140,obj_zombie.image_angle) 

if !(mp_grid_path(global.grid, path, x, y,mx3 , my3 ,1))  {
}else{ nbrrepeatmx = 0}}

}else{

}
if poschangepoto &lt; 100+random(150) {
poschangepoto += 1
}else{poschangepoto = 0}
//pour suivre le joueur si trop loin




alarm[11] = 31
alarm[1] = 31

patrol = 0

var mx = mx3
var my = my3


if obj_intro.i &gt; 0 {
if obj_intro.i = 57 or obj_intro.i = 48{blablaquest = ""}else{if alarmintro &gt; 0 {alarmintro -= 1 ;blablaquest = "";}else{

//chemin de quete
if point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; 350 {
if obj_intro.mx2 &gt; 0 {

var mx = obj_intro.mx2
var my = obj_intro.my2
if obj_intro.stopintro = 1 {
blablaquest = "Suis moi !"}else{
blablaquest = ""}
}}else{alarmintro = 90;blablaquest = ""}}}}



//move_towards_point(obj_zombie.x+lengthdir_x(80,obj_zombie.image_angle),obj_zombie.y+lengthdir_y(180,obj_zombie.image_angle),enemyspeed*0.8)

if point_distance(x,y,obj_zombie.x,obj_zombie.y) &gt; 350 &amp;&amp;
 point_distance(x,y,mx,my) &gt; 30 {

if (mp_grid_path(global.grid, path, x, y,mx , my ,1))  {
path_start(path, enemyspeed*1.3 / fpsmax , path_action_stop, 1);
}}else if point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; 350 &amp;&amp;
 point_distance(x,y,mx,my) &gt; 30 {
if (mp_grid_path(global.grid, path, x, y,mx , my ,1))  {
path_start(path, enemyspeed*1 / fpsmax , path_action_stop, 1);
}}



if point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; 250 {



if alarm[8] &lt; 0 {
nouvel_angle = point_direction(x,y,mouse_x,mouse_y)
}




if visionstopnow = 0 {if avertissement = 0{image_angle += sin(degtorad(nouvel_angle - image_angle)) * (9/global.varfpsmax)}}
//speed = 0
//path_end();
}else{speed = enemyspeed
nouvel_angle = direction

}



if point_distance(x,y,obj_zombie.x,obj_zombie.y) &gt; 1020+bonusdistguys {path_end();
move_towards_point(obj_zombie.x+lengthdir_x(80,obj_zombie.image_angle),obj_zombie.y+lengthdir_y(180,obj_zombie.image_angle),enemyspeed*1.2)
}

if point_distance(x,y,obj_zombie.x,obj_zombie.y) &gt; 250+bonusdistguys  {if visionstopnow = 0 {image_angle += sin(degtorad(nouvel_angle - image_angle)) * (5/global.varfpsmax);}}else{
nouvel_angle = point_direction(x,y,mouse_x,mouse_y)}//8}
if alarm[8] &gt; 0 {if visionstopnow = 0 {image_angle += sin(degtorad(nouvel_angle - image_angle)) * (11/global.varfpsmax);}}//8}

}}else{poto = 0}

///SCRIPT DU BLABLA
//obj_enemy2
avertissement = 0;
if poto = 0 {
 if instance_exists(cibleallie) {
 if cibleallie = instance_nearest(x,y,obj_zombie) {//blablanow = "" ; alarmavertissement = 0
 }else{

 //image_angle = point_direction(x,y,cibleallie.x,cibleallie.y)
 nouvel_angle = point_direction(x,y,cibleallie.x,cibleallie.y)
 image_angle += sin(degtorad(nouvel_angle - image_angle)) * (11/global.varfpsmax);
 if point_distance(x,y,cibleallie.x,cibleallie.y) &lt; 305+randomdistblabla {
 path_end();patrol = 1 ;speed = 0;motion_set(image_angle,0);move_towards_point(0,0,0)
 avertissement = 1;
 
 }
 if cibleallie.avertissement = 0 &amp;&amp; cibleallie.alarmavertissement &gt; 0 {
 
 
   if point_distance(x,y,cibleallie.x,cibleallie.y) &lt; 700 {
 alarmavertissement += 1 }else{avertissement = 0;blablanow = "" ; alarmavertissement = 0}
 //avertissement = 0;

with(obj_nightcycle){

//if other.alarmavertissement &gt; 10 {other.avertissement = 1}
if other.alarmavertissement = 10 {other.blablanow = choose(blabla[41],blabla[42],blabla[43]
,blabla[44],blabla[45],blabla[46],blabla[47],blabla[48],blabla[49],blabla[50])}//surprise
if other.alarmavertissement = 100 {other.blablanow = choose(blabla[51],blabla[52],blabla[53]
,blabla[54],blabla[55],blabla[56],blabla[57],blabla[58],blabla[59],blabla[60])}//who are u //why are u here
if other.alarmavertissement = 250 {other.blablanow = choose(blabla[61],blabla[62],blabla[63]
,blabla[64],blabla[65],blabla[66],blabla[67],blabla[68],blabla[69],blabla[70])}//just come back
if other.alarmavertissement = 350 {other.blablanow = choose(blabla[71],blabla[72],blabla[73]
,blabla[74],blabla[75],blabla[76],blabla[77],blabla[78],blabla[79],blabla[80])}//move now or die
if other.alarmavertissement &gt; 700 {other.blablanow = "";other.alarmavertissement = 0;avertissement = 0;

}}
 
 }else if cibleallie.avertissement = 1 {avertissement = 0;blablanow = "" ; alarmavertissement = 0}
 }
 }//else{avertissement = 0;blablanow = "" ; alarmavertissement = 0}
}else{
blablanow = ""
}

if poto = 0 {
if avertissement = 1 {path_end();patrol = 1 ;speed = 0;motion_set(image_angle,0);move_towards_point(0,0,0);enemyspeed = 0;//x = xprevious ; y = yprevious
}else{avertissement = 0;//blablanow = "" ; alarmavertissement = 0
}}


move_bounce_solid(false);
if obj_intro.demaragedial &gt; 0 {hpmobs = maxhpmobs}

}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///tir de loin

tirdeloin = 1
alarm[6] = 1000
/*
if hpmobs &lt; 0 {


alarm[2] = 1000
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///degat de la balle - dura arme * max dmg ,min dmg

if hpmobs &gt; 0
{ hpmobs -= irandom_range(obj_zombie.mindmg * obj_zombie.minarme,obj_zombie.maxdmg * obj_zombie.maxarme) / 3 * (global.duraarme/2)

//part_emitter_region(partblood_sys,partblood_emit,x,x,y,y,1,1);
//part_emitter_burst(partblood_sys,partblood_emit,partblood,20);
}



// Amount of blood
var count = random_range(4, 32);

// Left-mouse click

      //  for (var i = 0; i &lt; count; i++) {
        // Spawn blood within an 8x8 square around the mouse cursor
        instance_create(x , y , oBlood);
  //   }
    
    // Screenshake
    //alarm[0] = 4;
    shake    = true;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_bullet">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///tir de loin

tirdeloin = 1
alarm[6] = 1000
/*
if hpmobs &lt; 0 {


alarm[2] = 1000
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if poto = 0 {
with(other){instance_destroy();}
toucherparmoi = 1
obj_bigstats.touchbulletstats +=1

if hpmobs &gt; 0
{ 

var portebullet = other.portebullet/150

if portebullet &gt; 1 {portebullet = 1}
dgtaffichage = (irandom_range(obj_zombie.mindmg * obj_zombie.minarme,obj_zombie.maxdmg * obj_zombie.maxarme) / 3  * obj_zombie.weapon3dmg * (global.duraarme/2) * other.damagegun * (obj_armorloot.armortotalgeardps*0.5)  * obj_zombie.nanodps  * obj_zombie.talentbonusdegat)/(1+(armurepoto/10))*portebullet;//*2
hpmobs -= dgtaffichage
//part_emitter_region(partblood_sys,partblood_emit,x,x,y,y,1,1);
//part_emitter_burst(partblood_sys,partblood_emit,partblood,20);
}

if hpmobs &gt; 0
{with(obj_stalker){
if id = other.id{}else{
if point_distance(x,y,other.x,other.y) &lt; 900 {
if obj_zombie.karmaneg &gt; 0 {alarm[8] = 500}
}
}}}



// Amount of blood
var count = random_range(4, 32);

// Left-mouse click

      //  for (var i = 0; i &lt; count; i++) {
        // Spawn blood within an 8x8 square around the mouse cursor
        instance_create(x , y , oBlood);
  //   }
    
    // Screenshake
    //alarm[0] = 4;
    shake    = true;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_shoot">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///tir de loin

tirdeloin = 1
alarm[6] = 1000
/*
if hpmobs &lt; 0 {


alarm[2] = 1000
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if poto = 0 {
with(other){instance_destroy();}
toucherparmoi = 1
obj_bigstats.touchbulletstats +=1

if hpmobs &gt; 0
{ 

var portebullet = other.portebullet/150

if portebullet &gt; 1 {portebullet = 1}
dgtaffichage = irandom_range(obj_zombie.mindmg * obj_zombie.minarme,obj_zombie.maxdmg * obj_zombie.maxarme) / 10  * obj_zombie.weapon2dmg * (global.duraarme2/2)  *  other.damageshoot * (obj_armorloot.armortotalgeardps*1.5)  * obj_zombie.nanodps  * obj_zombie.talentbonusdegat/(1+(armurepoto/10))*portebullet;
hpmobs -= dgtaffichage
//part_emitter_region(partblood_sys,partblood_emit,x,x,y,y,1,1);
//part_emitter_burst(partblood_sys,partblood_emit,partblood,20);
}

if hpmobs &gt; 0
{with(obj_stalker){
if id = other.id{}else{
if point_distance(x,y,other.x,other.y) &lt; 900 {
if obj_zombie.karmaneg &gt; 0 {alarm[8] = 500}
}
}}}

// Amount of blood
var count = random_range(4, 32);

// Left-mouse click

      //  for (var i = 0; i &lt; count; i++) {
        // Spawn blood within an 8x8 square around the mouse cursor
        instance_create(x , y , oBlood);
  //   }
    
    // Screenshake
    //alarm[0] = 4;
    shake    = true;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_bulletassaut">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///tir de loin

tirdeloin = 1
alarm[6] = 1000
/*
if hpmobs &lt; 0 {


alarm[2] = 1000
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if poto = 0 {
toucherparmoi = 1
with(other){instance_destroy();}

obj_bigstats.touchbulletstats +=1

var portebullet = other.portebullet/150

if portebullet &gt; 1 {portebullet = 1}


if hpmobs &gt; 0
{ dgtaffichage = irandom_range(obj_zombie.mindmg * obj_zombie.minarme,obj_zombie.maxdmg * obj_zombie.maxarme) / 5  * obj_zombie.weapon3dmg * (global.duraarme3/2) *  other.damageassaut * (obj_armorloot.armortotalgeardps*1.5) * obj_zombie.nanodps * obj_zombie.talentbonusdegat/(1+(armurepoto/10))*portebullet;
hpmobs -= dgtaffichage
//part_emitter_region(partblood_sys,partblood_emit,x,x,y,y,1,1);
//part_emitter_burst(partblood_sys,partblood_emit,partblood,20);
}

if hpmobs &gt; 0
{with(obj_stalker){
if id = other.id{}else{
if point_distance(x,y,other.x,other.y) &lt; 900 {
if obj_zombie.karmaneg &gt; 0 {alarm[8] = 500}
}
}}}

// Amount of blood
var count = random_range(4, 32);

// Left-mouse click

      //  for (var i = 0; i &lt; count; i++) {
        // Spawn blood within an 8x8 square around the mouse cursor
        instance_create(x , y , oBlood);
  //   }
    
    // Screenshake
    //alarm[0] = 4;
    shake    = true;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_bulletassautnet">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///tir de loin

tirdeloin = 1
alarm[6] = 1000
/*
if hpmobs &lt; 0 {


alarm[2] = 1000
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with(other){instance_destroy();}
if hpmobs &gt; 0
{


var minarmenet = other.minarme;
var maxarmenet = other.maxarme;
var duraarmenet3 = other.duraarme3;
var weapon3dmgnet = other.weapon3dmg;
var assautdamagenet = other.assautdamage;
var dpsnanonet = other.dpsnano;

var portebullet = other.portebullet/150

if portebullet &gt; 1 {portebullet = 1}

 
  
    hpmobs -= 1*(irandom_range(minarmenet,maxarmenet))*(duraarmenet3*0.1* weapon3dmgnet)* assautdamagenet * (other.armortotalgeardps*0.5)  * dpsnanonet/(1+(armurepoto/10))*portebullet//



//part_emitter_region(partblood_sys,partblood_emit,x,x,y,y,1,1);
//part_emitter_burst(partblood_sys,partblood_emit,partblood,20);
}



// Amount of blood
var count = random_range(4, 32);

// Left-mouse click

      //  for (var i = 0; i &lt; count; i++) {
        // Spawn blood within an 8x8 square around the mouse cursor
        instance_create(x , y , oBlood);
  //   }
    
    // Screenshake
   // alarm[0] = 4;
    shake    = true;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_bulletnet">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///tir de loin

tirdeloin = 1
alarm[6] = 1000
/*
if hpmobs &lt; 0 {


alarm[2] = 1000
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with(other){instance_destroy();}
if hpmobs &gt; 0
{


var minarmenet = other.minarme;
var maxarmenet = other.maxarme;
var duraarmenet = other.duraarme;
var weapon1dmgnet = other.weapon1dmg;
var gundamagenet = other.gundamage;
var dpsnanonet = other.dpsnano;

var portebullet = other.portebullet/150

if portebullet &gt; 1 {portebullet = 1}

 
  
    hpmobs -= (1*(irandom_range(minarmenet,maxarmenet))*(duraarmenet*0.1* weapon1dmgnet)* gundamagenet * (other.armortotalgeardps*0.5) * dpsnanonet)/(1+(armurepoto/10))*portebullet//*2//




//part_emitter_region(partblood_sys,partblood_emit,x,x,y,y,1,1);
//part_emitter_burst(partblood_sys,partblood_emit,partblood,20);
}



// Amount of blood
var count = random_range(4, 32);

// Left-mouse click

      //  for (var i = 0; i &lt; count; i++) {
        // Spawn blood within an 8x8 square around the mouse cursor
        instance_create(x , y , oBlood);
  //   }
    
    // Screenshake
   // alarm[0] = 4;
    shake    = true;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_shootnet">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///tir de loin

tirdeloin = 1
alarm[6] = 1000
/*
if hpmobs &lt; 0 {


alarm[2] = 1000
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with(other){instance_destroy();}
if hpmobs &gt; 0
{


var minarmenet = other.minarme;
var maxarmenet = other.maxarme;
var duraarmenet2 = other.duraarme2;
var weapon2dmgnet = other.weapon2dmg;
var shootdamagenet = other.shootdamage;
var dpsnanonet = other.dpsnano;

var portebullet = other.portebullet/150

if portebullet &gt; 1 {portebullet = 1}

 
  
    hpmobs -= 1*(irandom_range(minarmenet,maxarmenet))*(duraarmenet2*0.1* weapon2dmgnet)* shootdamagenet * (other.armortotalgeardps*0.5)  * dpsnanonet/(1+(armurepoto/10))*portebullet//



//part_emitter_region(partblood_sys,partblood_emit,x,x,y,y,1,1);
//part_emitter_burst(partblood_sys,partblood_emit,partblood,20);
}



// Amount of blood
var count = random_range(4, 32);

// Left-mouse click

      //  for (var i = 0; i &lt; count; i++) {
        // Spawn blood within an 8x8 square around the mouse cursor
        instance_create(x , y , oBlood);
  //   }
    
    // Screenshake
   // alarm[0] = 4;
    shake    = true;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*clicjoueur = 1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if poto = 1 {
x = obj_zombie.x
y = obj_zombie.y
roomstart = 1
}

if mode2 = 10 {//LANCE FLAME
part_type_destroy(particle1);

part_system_destroy(Sname);
}


modeheal = 0
idsoin = 0
idsointime = 3000
idsointime2 = 300
stophealnow = 0
stophealnowtime = random_range(2000,2700)

if poto = 0 {

instance_destroy();
}
 //instance_destroy();
 
 
 
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if poto = 1 {
 if instance_exists(obj_engine){
 with(instance_create(x,y,obj_light_torchstalker2)){
 other.torchid = id
 parent = other.id
 sl_light_xscale = 2.3//2.7
sl_light_yscale = 2.3
 }
}
}



if not instance_exists(obj_grid){
instance_create(x,y,obj_grid)
}


//CREA 




</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//healgun du stalker
//if escort = 0 {
if alarm[2] &gt; 0 &amp;&amp; poto = 0{}else{
 if escort = 1 { nameia = "Ltnt. Karmac"}

if instance_exists(cibleallie){
if modeheal &gt; 0 {
if cibleallie = instance_nearest(x,y,obj_enemy2) {}else{ 
var dir3 = point_direction(x,y,cibleallie.x,cibleallie.y);
if abs(angle_difference(dir3,image_angle)) &lt;= 60 {
 if (point_distance(x, y, cibleallie.x, cibleallie.y) &lt; 550)  
 {
 loadsprite2 = spr_healrecu2
loadframe2 += 1
if anglealet &gt; 5+random(20) {descenteangle = 1}
if anglealet &lt; -5-random(20) {descenteangle = 0}
if descenteangle = 0 {anglealet += random(5)}else{anglealet -= random(5)}
draw_curvehealgun(x+lengthdir_x(0,image_angle-30),y+lengthdir_y(30,image_angle-30)
,cibleallie.x,cibleallie.y,image_angle+anglealet,300)
draw_lightning(cibleallie.x,cibleallie.y,cibleallie.x+lengthdir_x(30,random(360)),
cibleallie.y+lengthdir_y(30,random(360)), 1, 12, 1,34,c_green)
//draw_sprite_ext(loadsprite2,loadframe2,cibleallie.x,cibleallie.y,1,1,image_angle,c_white,1)
}}}}}


 //HEAL GUN
   if obj_zombie.healgunshot &gt; 0 {
var dir3 = point_direction(obj_zombie.x,obj_zombie.y,x,y);
if abs(angle_difference(dir3,obj_zombie.image_angle)) &lt;= 60 {
 if (point_distance(x, y, obj_zombie.x, obj_zombie.y) &lt; 550)  
 {
 if hpmobs &lt; maxhpmobs {//quete de soin
 if ds_grid_get(obj_quest.questgrid,10,52) &gt;= 1 {
 if ds_grid_get(obj_quest.questgrid,10,52) &lt; 2 {
 ds_grid_add(obj_quest.questgrid,10,52,0.0001)}
 if ds_grid_get(obj_quest.questgrid,10,52) &gt; 2 {
 obj_zombie.karma += ds_grid_get(obj_quest.questgrid,5, 52)
ds_grid_set(obj_quest.questgrid, 10, 52,2)//VALIDER LA QUETE
ds_grid_set(obj_quest.questgrid, 19, 52,4)//la mêttre dans les quetes fini
questinfovar = ds_grid_get(obj_quest.questgrid,3,52)
with(instance_create(x,y,obj_questinfo)){
nbrquestinfo = instance_number(obj_questinfo) 
alarm[1] = 1+(200*nbrquestinfo)
questinfovar = other.questinfovar
quest = 52
finished = 1
}
 }}
 hpmobs += (maxhpmobs /1000 )/global.varfpsmax
 //obj_quest.questask[4] += 0.01
 }
// if drawhealgun = 1 {
//loadsprite2 = spr_healrecu1

//loadsprite2 = spr_healrecu2
//loadframe2 += 1


//draw_sprite_ext(loadsprite2,loadframe2,x+lengthdir_x(0,image_angle),y+lengthdir_y(0,image_angle),1,1,image_angle,c_white,1)

//}
 


 }}} 
 
/*  //TOUT CA DANS NIGHTCYCLE !!
//obj_nightcycle
if karmabas = 0 {
 idme = id 
if position_meeting(mouse_x,mouse_y,idme){
draw_set_font(fnt_little);
draw_set_halign(fa_center);
draw_set_valign(fa_top);
draw_set_color(c_yellow)

draw_text(x,y - 30,nameia)
draw_healthbar(x-45 ,y + 60,x+45,y + 67,(hpmobs/maxhpmobs)*100,c_black,c_red,c_white,0,true,false)

}}*/ //TOUT CA DANS NIGHTCYCLE !!


if alarm[8] &gt; 0 {
framepied = 1.3
}else{
framepied = 1
}
if not xxmovestep = 0 {
movepiedvitessetest += (xxmovestep /4)
}else
if not yymovestep = 0 {
movepiedvitessetest += (yymovestep /4)
}else{
movepiedvitessetest = 0
}
draw_sprite_ext(spr_walk,movepiedvitessetest,x,y+lengthdir_y(8,image_angle-40),0.85,0.85,image_angle,c_white,1)
//draw_text(x,y-150,string(alarm[0]))
if escort = 0 {
if mode2 = 31 or mode2 = 6 or mode2 = 12 or mode2 = 13 or mode2 = 14{//GUN
//sprite_index = spr_shadowmob
sprite_index = spr_mobfin1
image_index = animwalk
draw_sprite_ext(spr_mobfin1,animwalk,x,y,1.1,1.1,image_angle,c_white,1)
}
if mode2 =14 or mode2 = 8 {//SHOOTGUN
sprite_index = spr_mobfin4
image_index = animwalk
draw_sprite_ext(spr_mobfin4,animwalk,x,y,1.1,1.1,image_angle,c_white,1)
}
if mode2 =33 or mode2 = 32 or mode2 = 7 or mode2 = 16{//assaut
sprite_index = spr_stalker
image_xscale = 1
image_yscale = 1
image_index = animwalk/2
draw_sprite_ext(spr_stalker,animwalk/2,x,y,1.1,1.1,image_angle,c_white,1)
}
if mode2 =5 or mode2 = 9 or mode2 = 15{//TANKGUYS
sprite_index = spr_mobfin3
image_index = animwalk
draw_sprite_ext(spr_mobfin3,animwalk,x,y,1.1,1.1,image_angle,c_white,1)
}

if mode2 = 10{//LANCEFLAMME
sprite_index = spr_mobfin5
image_index = animwalk
draw_sprite_ext(spr_mobfin5,animwalk,x,y,1.1,1.1,image_angle,c_white,1)
}
}else{
if mode3 = 1 {sprite_index = spr_mineur}
if mode3 = 2 {sprite_index = spr_mineur2}
if mode3 = 3 {sprite_index = spr_mineur3}
if mode3 = 4 {sprite_index = spr_bigprawler}
if mode3 = 5 {sprite_index = spr_prawler}
if mode3 = 6 {sprite_index = spr_npc2}
if mode3 = 7 {sprite_index = spr_npc3}
if mode3 = 8 {sprite_index = spr_npc4}
if mode3 = 9 {sprite_index = spr_npc5}
if mode3 = 10 {sprite_index = spr_npc6}
if mode3 = 11 {sprite_index = spr_npc7}
if mode3 = 12 {sprite_index = spr_npc9}
if mode3 = 13 {sprite_index = spr_npc10}
sprite_index = sprite_index
image_index = animwalk
draw_sprite_ext(sprite_index,animwalk,x,y,1,1,image_angle,c_white,1)

}


//HEAD
if aterre &gt; 0  or mode3 &gt; 5 {}else{
if headskin = 1 {
draw_sprite_ext(spr_head1,animwalk,x,y,0.75,0.75,image_angle,c_white,1)}
if headskin = 2 {
draw_sprite_ext(spr_head2,animwalk,x,y,0.8,0.8,image_angle,c_white,1)}
if headskin = 3 {
draw_sprite_ext(spr_head3,animwalk,x,y,0.7,0.7,image_angle,c_white,1)}
if headskin = 4 {
draw_sprite_ext(spr_head4,animwalk,x,y,0.75,0.75,image_angle,c_white,1)}
if headskin = 5 {
draw_sprite_ext(spr_head5,animwalk,x,y,0.65,0.65,image_angle,c_white,1)}
if headskin = 6 {
draw_sprite_ext(spr_head6,animwalk,x,y,0.7,0.7,image_angle,c_white,1)}
if headskin = 7 {
draw_sprite_ext(spr_head7,animwalk,x,y,0.6,0.6,image_angle,c_white,1)}
if headskin = 8 {
draw_sprite_ext(spr_head8,animwalk,x,y,0.7,0.7,image_angle,c_white,1)}
if headskin = 9 {
draw_sprite_ext(spr_head9,animwalk,x,y,0.65,0.65,image_angle,c_white,1)}
if headskin = 10 {
draw_sprite_ext(spr_head10,animwalk,x,y,0.75,0.75,image_angle,c_white,1)}
if headskin = 11 {
draw_sprite_ext(spr_head11,animwalk,x,y,0.70,0.70,image_angle,c_white,1)}
if headskin = 12 {
draw_sprite_ext(spr_head12,animwalk,x,y,0.70,0.70,image_angle,c_white,1)}
if headskin = 13 {
draw_sprite_ext(spr_head13,animwalk,x,y,0.70,0.70,image_angle,c_white,1)}
if headskin = 14 {
draw_sprite_ext(spr_head14,animwalk,x,y,0.65,0.65,image_angle,c_white,1)}
if headskin = 15 {
draw_sprite_ext(spr_head15,animwalk,x,y,0.65,0.65,image_angle,c_white,1)}
if headskin = 16 {
draw_sprite_ext(spr_head16,animwalk,x,y,0.65,0.65,image_angle,c_white,1)}
if headskin = 17 {
draw_sprite_ext(spr_head17,animwalk,x,y,0.65,0.65,image_angle,c_white,1)}
if headskin = 18 {
draw_sprite_ext(spr_head18,animwalk,x,y,0.70,0.70,image_angle,c_white,1)}
}


//WEAPON
if escort = 0 {
if mode2 =5 or mode2 = 9 or mode2 = 15{//TANKGUYS
draw_sprite_ext(spr_weaponprawler1,0,x,y,1,1,image_angle,c_white,1)}else
if mode2 =32 or mode2 = 8 {//SHOOTGUN
draw_sprite_ext(spr_weaponprawler4,0,x,y,1,1,image_angle,c_white,1)}else
if mode2 =33 or mode2 = 4 or mode2 = 7 or mode2 = 16{//assaut
draw_sprite_ext(spr_weaponprawler2,0,x,y,1,1,image_angle,c_white,1)}else
if mode2 = 1 or mode2 = 6 or mode2 = 12 or mode2 = 13 or mode2 = 14{//GUN
draw_sprite_ext(spr_weaponprawler3,0,x,y,1,1,image_angle,c_white,1)}else
if mode2 = 10{//LANCE FLAME
draw_sprite_ext(spr_weaponprawler5,0,x,y,1,1,image_angle,c_white,1)}else
{draw_sprite_ext(spr_weaponprawler3,0,x,y,1,1,image_angle,c_white,1)}
}


//draw_self();

future_x = lerp(x, x+hspeed, room_speed);

future_y = lerp(y, y+vspeed, room_speed);


//draw pied
animwalk += 1

if point_distance(x,y,future_x,future_y) &lt; 5 {
//animwalk = 0

}



//draw degat
draw_set_font(fnt_little);
draw_set_halign(fa_center);
draw_set_valign(fa_top);
draw_set_color(c_yellow)



if dgtaffichage &gt; 0 {
if dgtaffichagecount &lt; 160 {
draw_text(x,y - 30,dgtaffichage)
dgtaffichagecount += 1
}else{
dgtaffichage = 0
dgtaffichagecount = 0
}
}



 //LAMPE AMI
 if escort = 0 {
 if instance_exists(obj_engine){

     sprite = spr_light01; // Lumière orange
    scale_x  = 0.1;
    scale_y  = 0.1;
    angle  = direction;
    color  = c_blue;
    alpha  = 1;
    //if obj_zombie.lowgpu2 = 3 {}else{
 SL_draw_sprite_light(sprite,0,x-lengthdir_x(11,image_angle),y-lengthdir_y(7,image_angle),scale_x,scale_y,angle,color,alpha);
 //}
 
}}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>-1</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>-1</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
