<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_crate02</spriteName>
  <solid>-1</solid>
  <visible>-1</visible>
  <depth>20</depth>
  <persistent>0</persistent>
  <parentName>obj_environment</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>xpush = x
ypush = y

xlerp = x
ylerp = y

hp = 2


path = path_add();
mx3 = 0
my3 = 0
enemyspeed = 5
nbrrepeatmx = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>audio_play_sound_at(snd_explosioncaisse, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);
mp_grid_clear_rectangle(global.grid, x-39, y-39, x+39, y+39);


if room = room139 {
if floor(ds_grid_get(obj_quest.questgrid,10,55)) = 1 {
ds_grid_add(obj_quest.questgrid,10,55,0.2)
quest = 55
if ds_grid_get(obj_quest.questgrid, 10 , quest) &gt;= 2 {
splitquest = 0
questinfovar = ds_grid_get(obj_quest.questgrid,3,quest)
with(instance_create(x,y,obj_questinfo)){
questinfovar = other.questinfovar
finished = 1
quest = other.quest
}
obj_zombie.karma += ds_grid_get(obj_quest.questgrid,5, quest)
ds_grid_set(obj_quest.questgrid, 10, quest,2)//VALIDER LA QUETE
ds_grid_set(obj_quest.questgrid, 19, quest,4)//la mêttre dans les quetes fini
if quest &gt;= 250 {ds_grid_set(obj_quest.questgrid, 10, quest+1,1)}//ajouter la prochainequestprincipal

    with(obj_infoloot){//ET EN DONNER L INFO
ds_map_add(lootinfods,string(0),"Quest finished : "
+string(ds_grid_get(obj_quest.questgrid,3, other.quest)))
alarmloot[0] = 800
ds_map_add(lootinfods,string(1),"Reward K : "
+string(ds_grid_get(obj_quest.questgrid,5, other.quest)))
alarmloot[1] = 800   
    }
    }
}
}


if room = room6 {
if floor(ds_grid_get(obj_quest.questgrid,10,261)) = 1 {
ds_grid_add(obj_quest.questgrid,10,261,0.05)
quest = 261
if ds_grid_get(obj_quest.questgrid, 10 , quest) &gt;= 2 {
splitquest = 0
questinfovar = ds_grid_get(obj_quest.questgrid,3,quest)
with(instance_create(x,y,obj_questinfo)){
nbrquestinfo = instance_number(obj_questinfo) 
alarm[1] = 1+(200*nbrquestinfo)
questinfovar = other.questinfovar
finished = 1
quest = other.quest
}
with(instance_create(obj_zombie.x,obj_zombie.y,obj_lootobj)){itemloot = ds_grid_get(obj_quest.questgrid,6, other.quest)}
if ds_grid_get(obj_quest.questgrid,32, quest) = "" {}else{
obj_nightcycle.walkienow = ds_grid_get(obj_quest.questgrid,32, quest)}
obj_zombie.karma += ds_grid_get(obj_quest.questgrid,5, quest)
ds_grid_set(obj_quest.questgrid, 10, quest,2)//VALIDER LA QUETE
ds_grid_set(obj_quest.questgrid, 19, quest,4)//la mêttre dans les quetes fini
//if quest &gt;= 250 {ds_grid_set(obj_quest.questgrid, 10, quest+1,1)}//ajouter la prochainequestprincipal
if ds_grid_get(obj_quest.questgrid, 30, quest) = "" or ds_grid_get(obj_quest.questgrid, 30, quest) &lt;= 0 {}else{ 
questinfovar = ds_grid_get(obj_quest.questgrid,3,quest+1)
with(instance_create(x,y,obj_questinfo)){
nbrquestinfo = instance_number(obj_questinfo) 
alarm[1] = 1+(200*nbrquestinfo)
questinfovar = other.questinfovar
finished = 0
}
ds_grid_set(obj_quest.questgrid, 10, ds_grid_get(obj_quest.questgrid, 30, quest),1)}
    with(obj_infoloot){//ET EN DONNER L INFO
ds_map_add(lootinfods,string(0),"Quest finished : "
+string(ds_grid_get(obj_quest.questgrid,3, other.quest)))
alarmloot[0] = 800
ds_map_add(lootinfods,string(1),"Reward K : "
+string(ds_grid_get(obj_quest.questgrid,5, other.quest)))
alarmloot[1] = 800   
    }
    }
}
}


if room = room11 {
if floor(ds_grid_get(obj_quest.questgrid,10,261)) = 1 {
ds_grid_add(obj_quest.questgrid,10,261,0.05)
quest = 50
if ds_grid_get(obj_quest.questgrid, 10 , quest) &gt;= 2 {
splitquest = 0
questinfovar = ds_grid_get(obj_quest.questgrid,3,quest)
with(instance_create(x,y,obj_questinfo)){
nbrquestinfo = instance_number(obj_questinfo) 
alarm[1] = 1+(200*nbrquestinfo)
questinfovar = other.questinfovar
finished = 1
quest = other.quest
}
with(instance_create(obj_zombie.x,obj_zombie.y,obj_lootobj)){itemloot = ds_grid_get(obj_quest.questgrid,6, other.quest)}
if ds_grid_get(obj_quest.questgrid,32, quest) = "" {}else{
obj_nightcycle.walkienow = ds_grid_get(obj_quest.questgrid,32, quest)}
obj_zombie.karma += ds_grid_get(obj_quest.questgrid,5, quest)
ds_grid_set(obj_quest.questgrid, 10, quest,2)//VALIDER LA QUETE
ds_grid_set(obj_quest.questgrid, 19, quest,4)//la mêttre dans les quetes fini
//if quest &gt;= 250 {ds_grid_set(obj_quest.questgrid, 10, quest+1,1)}//ajouter la prochainequestprincipal
if ds_grid_get(obj_quest.questgrid, 30, quest) = "" or ds_grid_get(obj_quest.questgrid, 30, quest) &lt;= 0 {}else{ 
questinfovar = ds_grid_get(obj_quest.questgrid,3,quest+1)
with(instance_create(x,y,obj_questinfo)){
nbrquestinfo = instance_number(obj_questinfo) 
alarm[1] = 1+(200*nbrquestinfo)
questinfovar = other.questinfovar
finished = 0
}
ds_grid_set(obj_quest.questgrid, 10, ds_grid_get(obj_quest.questgrid, 30, quest),1)}
    with(obj_infoloot){//ET EN DONNER L INFO
ds_map_add(lootinfods,string(0),"Quest finished : "
+string(ds_grid_get(obj_quest.questgrid,3, other.quest)))
alarmloot[0] = 800
ds_map_add(lootinfods,string(1),"Reward K : "
+string(ds_grid_get(obj_quest.questgrid,5, other.quest)))
alarmloot[1] = 800   
    }
    }
}
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//esquiver autre ia : 
//if obj_zombie.zombie_dx &gt; obj_zombie.zombie_dx 
uiii = 0
if point_distance(x,y,obj_controllerplayer.x,obj_controllerplayer.y) &lt; 500 {
uiii = 1 
}
if instance_exists(obj_enemy2){with(obj_enemy2){
if point_distance(x,y,other.x,other.y) &lt; 500 {
other.uiii = 1 
}}}
if instance_exists(obj_stalker){with(obj_stalker){
if point_distance(x,y,other.x,other.y) &lt; 500 {
other.uiii = 1 
}}}
if instance_exists(obj_ephemere){with(obj_ephemere){
if point_distance(x,y,other.x,other.y) &lt; 500 {
other.uiii = 1 
}}}
if instance_exists(obj_villageois){with(obj_villageois){
if point_distance(x,y,other.x,other.y) &lt; 500 {
other.uiii = 1 
}}}
if uiii = 1 {
with(obj_zombie){
other.enemyspeed = ((zombie_speed*3.4/ global.varfpsmax * movedash * moveexo * movegliss * movechat * movetalent * obj_bar.nowalchivitesse * vitessepush * superdash)/(obj_armorloot.vitessepoids))*1.5}

fpsmax = global.varfpsmax
for (var i = 0; i &lt; 11; i += 1) {

ia1 = 0
objcolliia = obj_enemy2;
nearest = 2
if i = 1 {objcolliia = obj_crate02 ; nearest = 2}
if i = 2 {objcolliia = obj_bossnet ; nearest = 1}
if i = 3 {objcolliia = obj_shape03 ; nearest = 1}
if i = 4 {objcolliia = obj_stalker ; nearest = 1}
if i = 5 {objcolliia = obj_shape05 ; nearest = 1}
if i = 6 {objcolliia = obj_crate03 ; nearest = 1}
if i = 7 {objcolliia = obj_zombie ; nearest = 1}
if i = 8 {objcolliia = obj_enemy2 ; nearest = 1}
if i = 9 {objcolliia = obj_villageois ; nearest = 1}
if i = 10 {objcolliia = obj_crate0 ; nearest = 1}
//if i = 11 {objcolliia = obj_wall ; nearest = 1}
//if i = 12 {objcolliia = obj_villageois ; nearest = 1}

if i = 1 {ia1 = instance_nth_nearest(x,y,objcolliia,nearest)}else{
ia1 = instance_nearest(x,y,objcolliia)
}

if instance_exists(ia1){
if ia1 = id {}else{
var inst; 
 inst = collision_rectangle(x-83, y+83,x+83, y-83, ia1, true, true); 
  //inst = collision_circle(x, y,30, ia1, true, true); 
 if inst != noone {
//if point_distance(ia1.x,ia1.y,x,y) &lt; 60 {
ia1dir = point_direction(ia1.x,ia1.y,x,y)
//mp_potential_settings(45, 5, 5, 0)
nbrrepeatmx += 1 

mx3 = x+lengthdir_x(9,ia1dir) 
my3 = y+lengthdir_y(9,ia1dir) 


if (mp_grid_path(global.grid, path, x, y,mx3 , my3 ,2))  {
path_start(path, enemyspeed , path_action_stop, 1);
}}}}


}
}

mp_grid_add_rectangle(global.grid, x-45, y-45, x+45, y+45);
//mp_grid_add_instances(global.grid, id,true);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>mp_grid_clear_rectangle(global.grid, x-45, y-45, x+45, y+45);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_flammeplayer">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if hp &lt; 1 {
with instance_create(other.x+-random(10),other.y+-random(10),obj_tachesolburn){
}
instance_create(other.x,other.y,obj_fumeecaisse1)
instance_create(other.x,other.y,obj_fumeecaisse2)

instance_destroy();
   
}else{





}
hp -= 0.01
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
xvisi = lerp(x,xlerp, 0.01);//60
yvisi = lerp(y,ylerp, 0.01);//60
draw_sprite(spr_crate02,0,xvisi,yvisi)
xlerp = x
ylerp = y

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
