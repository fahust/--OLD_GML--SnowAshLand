<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-1000005</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>alarm[0] = 300
modechat = 1
chatrecu = ""
chatvisible = ""
chatreculast = ""
chatrecu2 = ""
endclean = 0
modechat9 = 0

global.history = ""



imagespeed2 = 0
imagespeed3 = 0
demaragepralax = 0
imagespeed = 0

helpmessage = "&lt; /all &gt; 
&lt; /grp &gt; 
&lt; /job &gt; 
&lt; /gld &gt; 
&lt; /$ 'money' /@ 'idplayer' &gt; 
&lt; /! 'pricecontrat' /@ 'idplayer' /t 'time' &gt; 
&lt; /? 'information' /c 'channelvote' &gt; 
&lt; /= 'information' /c 'channelvote' /v '0 or 1' &gt; 
&lt; /* 'invit' /@ 'idplayer' &gt; 
&lt; /+ 'invit' /@ 'idplayer' &gt; 
DONT FORGET SPACE"

infomessage = "&lt; /all &gt; to talk at all servers
&lt; /grp &gt; to talk at your team now
&lt; /job &gt; to talk jobs with other players
&lt; /gld &gt; to talk at your guilds
&lt; /$ 'money' /@ 'idplayer' &gt; to send money at player
&lt; /! 'pricecontrat' /@ 'idplayer' /= 'time' &gt; send contract
&lt; /- 'information' /c 'channelvote' &gt; to launch survey  0-10 channel
&lt; /# 'information' /c 'channelvote' /t '0 or 1' &gt; to answer vote
&lt; /* 'invit' /@ 'idplayer' &gt; to invit in team
&lt; /+ 'invit or create' /@ 'idplayer' &gt; to invit in guild
DONT FORGET SPACE"

chatrecuvarteam = ""
chatrecuvarteam1 = ""
chatrecuvarteam2 = ""
chatrecuvarteam3 = ""
chatrecuvarteam4 = ""

chatgrid = ds_grid_create(500, 8);
ds_grid_resize(chatgrid, 500, 8);
ds_grid_clear(chatgrid, "");

ini_open("chat.ini");
ds_grid_read(chatgrid, ini_read_string("chatgrid", "grid", ""));
//ds_grid_read(questgrid, ini_read_string("quest", "grid", ""));
ini_close();


/*p = 1
repeat(8){

chatadd[0,p] = ""
chatadd[1,p] = ""
chatadd[2,p] = ""
chatadd[3,p] = ""
chatadd[4,p] = ""
chatadd[5,p] = ""
chatadd[6,p] = ""
chatadd[7,p] = ""
chatadd[8,p] = ""
chatadd[9,p] = ""
chatadd[10,p] = ""
chatadd[11,p] = ""
chatadd[12,p] = ""
chatadd[13,p] = ""
chatadd[14,p] = ""
chatadd[15,p] = ""
chatadd[16,p] = ""
chatadd[17,p] = ""
chatadd[18,p] = ""
chatadd[19,p] = ""
chatadd[20,p] = ""
chatadd[21,p] = ""
chatadd[22,p] = ""
chatadd[23,p] = ""
chatadd[24,p] = ""
chatadd[25,p] = ""
chatadd[26,p] = ""
chatadd[27,p] = ""
chatadd[28,p] = ""
chatadd[29,p] = ""
chatadd[30,p] = ""
chatadd[31,p] = ""
chatadd[32,p] = ""
chatadd[33,p] = ""
chatadd[34,p] = ""
chatadd[35,p] = ""
chatadd[36,p] = ""
chatadd[37,p] = ""
chatadd[38,p] = ""
chatadd[39,p] = ""
chatadd[40,p] = ""
chatadd[41,p] = ""
chatadd[42,p] = ""
chatadd[43,p] = ""
chatadd[44,p] = ""
chatadd[45,p] = ""
chatadd[46,p] = ""
chatadd[47,p] = ""
chatadd[48,p] = ""
chatadd[49,p] = ""
chatadd[50,p] = ""
chatadd[51,p] = ""
chatadd[52,p] = ""
chatadd[53,p] = ""
chatadd[54,p] = ""
chatadd[55,p] = ""
chatadd[56,p] = ""
chatadd[57,p] = ""
chatadd[58,p] = ""
chatadd[59,p] = ""
chatadd[60,p] = ""
chatadd[61,p] = ""
chatadd[62,p] = ""
chatadd[63,p] = ""
chatadd[64,p] = ""
chatadd[65,p] = ""
chatadd[66,p] = ""
chatadd[67,p] = ""
chatadd[68,p] = ""
chatadd[69,p] = ""
chatadd[70,p] = ""
chatadd[71,p] = ""
chatadd[72,p] = ""
chatadd[73,p] = ""
chatadd[74,p] = ""
chatadd[75,p] = ""
chatadd[76,p] = ""
chatadd[77,p] = ""
chatadd[78,p] = ""
chatadd[79,p] = ""
chatadd[80,p] = ""
chatadd[81,p] = ""
chatadd[82,p] = ""
chatadd[83,p] = ""
chatadd[84,p] = ""
chatadd[85,p] = ""
chatadd[86,p] = ""
chatadd[87,p] = ""
chatadd[88,p] = ""
chatadd[89,p] = ""
chatadd[90,p] = ""
chatadd[91,p] = ""
chatadd[92,p] = ""
chatadd[93,p] = ""
chatadd[94,p] = ""
chatadd[95,p] = ""
chatadd[96,p] = ""
chatadd[97,p] = ""
chatadd[98,p] = ""
chatadd[99,p] = ""
chatadd[100,p] = ""
//chatadd[50,p] = ""
p += 1
}*/
/*
chatadd[0,2] = ""
chatadd[1,2] = ""
chatadd[2,2] = ""
chatadd[3,2] = ""
chatadd[4,2] = ""
chatadd[5,2] = ""
chatadd[6,2] = ""
chatadd[7,2] = ""
chatadd[8,2] = ""
chatadd[9,2] = ""
chatadd[10,2] = ""

chatadd[0,3] = ""
chatadd[1,3] = ""
chatadd[2,3] = ""
chatadd[3,3] = ""
chatadd[4,3] = ""
chatadd[5,3] = ""
chatadd[6,3] = ""
chatadd[7,3] = ""
chatadd[8,3] = ""
chatadd[9,3] = ""
chatadd[10,3] = ""

chatadd[0,4] = ""
chatadd[1,4] = ""
chatadd[2,4] = ""
chatadd[3,4] = ""
chatadd[4,4] = ""
chatadd[5,4] = ""
chatadd[6,4] = ""
chatadd[7,4] = ""
chatadd[8,4] = ""
chatadd[9,4] = ""
chatadd[10,4] = ""
*/

lightcrash = 0


cuivre = 0
fer = 0
acier = 0
wood = 0
aluminium = 0
gunpowder = 0
tissu = 0
adhesif = 0
cablage = 0
vis = 0
engrenage = 0
kevlar = 0
materium = 0
payeretat = 0
negatif = 0

population = 1000

envoiventeserveur = 0

ilaunch = 0
alarmlaunch = 1

colortext2 = make_color_rgb(150,135,131)

//PRIS DANS OBJ ZOMBIE STEP TOUT LES FIN DE JOURS

leaderidrecu = 0
leaderid2recu = 0
leadersecuriterecu = 0 //id du  ministre securite
leadereconomierecu  = 0//id du ministre economie
leaderconfortrecu  = 0//id du ministre confort

//reserve de ressources de l'état
economierecu  = floor(random_range(5000000,200000000))//richesse de l'état

acierrecu  = floor(random_range(50000,200000))
ferrecu  = floor(random_range(50000,200000))//
cuivrerecu = floor(random_range(50000,200000))//
aluminiumrecu = floor(random_range(50000,200000))
gunpowderrecu = floor(random_range(50000,200000))//
woodrecu = floor(random_range(50000,200000))
tissurecu = floor(random_range(50000,200000))
adhesifrecu = floor(random_range(50000,200000))
cablagerecu = floor(random_range(50000,200000))
visrecu = floor(random_range(50000,200000))
engrenagerecu = floor(random_range(50000,200000))
kevlarrecu = floor(random_range(50000,200000))
materiumrecu = floor(random_range(50000,200000))

//taxe 
taxeressourcerecu = 0
taxebarmanrecu = 120//TAXE job 1
taxeforgeronrecu = 220//TAXE job 2
taxeloyerrecu = 3
taxeelectriciterecu  = 3
taxebanquerecu = 3//TAXE job 3

taxesecurityrecu = 3
taxeeducationrecu = 3
taxeguildrecu = 3
taxefortunerecu = 3
taxejailrecu = 3
taxeterritoryrecu = 3



//BUDGET 
budgetelectriciterecu  = 1660
budgetconfortrecu  = 1200
budgeteaurecu  = 1450
budgetnourriturerecu  = 2100

salairepolicerecu = 150//SALAIRE job I
salaireminierrecu  = 250//SALAIRE job II

confortpeuplerecu  = 0//%


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///RALENTIT LES FLECHES
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>chatadd[0,3] = helpmessage
chatadd[1,3] = ""
chatadd[2,3] = ""
chatadd[3,3] = ""
chatadd[4,3] = ""
chatadd[5,3] = ""
chatadd[6,3] = ""
chatadd[7,3] = ""
chatadd[8,3] = ""
chatadd[9,3] = ""
chatadd[10,3] = ""
/*save 27 4 18
if chatrecu = "" {}else{


poscheckerbeta = string_pos(":", chatrecu)
linechat1 = string_char_at(chatrecu, poscheckerbeta+2)
linechat2 = string_char_at(chatrecu, poscheckerbeta+3)
//poschecker = string_pos("/", chatrecu)
//linechat1 = string_char_at(chatrecu, poschecker)
//if poschecker = 0 {//}else{ // if linechat1 = "/"
if linechat1 = "/" or linechat2 = "/"{
if linechat2 = "/" {
linechat2 = string_char_at(chatrecu, poscheckerbeta+4);
linechat3 = string_char_at(chatrecu, poscheckerbeta+5);
linechat4 = string_char_at(chatrecu, poscheckerbeta+6);
}else{
linechat2 = string_char_at(chatrecu, poscheckerbeta+3);
linechat3 = string_char_at(chatrecu, poscheckerbeta+4);
linechat4 = string_char_at(chatrecu, poscheckerbeta+5);}

lastlinecode = linechat2+linechat3+linechat4
lastlinecode2 = linechat2

//if linechat3 = "t" {}


modechatrecu = 0
commande = 0
if lastlinecode = "all" {modechatrecu = 1}
if lastlinecode = "grp" {modechatrecu = 2}
if lastlinecode = "job" {modechatrecu = 3}
if lastlinecode = "gld" {modechatrecu = 4}
if lastlinecode2 = "$" {modechatrecu = 3;commande = 1;}//envoi d argent
if lastlinecode2 = "c" {modechatrecu = 3;commande = 2;}//contrat
if lastlinecode2 = "v" {modechatrecu = 3;commande = 3;}//vote
if lastlinecode2 = "t" {modechatrecu = 3;commande = 4;}//invit team
if lastlinecode2 = "g" {modechatrecu = 3;commande = 5;}//invit guild

//if chatrecu = "/help"{commande = -1;modechatrecu = 3; }


stopadd = 0//compter si y a 0 espace
//compter si le recu est bien dans un des chat de joueur team
if modechatrecu = 2 {if chatrecu2 = chatrecuvarteam2 or chatrecu2 = chatrecuvarteam1
or chatrecu2 = chatrecuvarteam3 or chatrecu2 = chatrecuvarteam4{
if chatrecu2 = "" {//stopadd = 1
}}else{stopadd = 1}}

if commande = 0 {chatrecu = string_delete(chatrecu, poscheckerbeta+2, 4); }

//olgt = string_length(chatrecu)//compter si y a 0 espace
//if olgt &gt; 30 {ocount = string_count( " ", chatrecu ); //compter si y a 0 espace
//if ocount &lt; 1 {stopadd = 1}}//compter si y a 0 espace//if ocount &lt; 4





if stopadd = 0 {
if modechatrecu = 0{}else{

//if chatreculast = chatrecu {}else{

//price end
//strvar2 = chatrecu
//strvar3 = chatrecu
//strvar4 = chatrecu
//strvar = string_delete(strvar, 1, poscheckerbeta+3);//suppr jusqua /$ 
if commande &gt; 0 {
infocom1 = "$"
infocom2 = "@"
infocom3 = "="


poschecker2 = string_pos(infocom1, chatrecu)//objet 1
poschecker4 = string_pos(infocom2, chatrecu)
poschecker3 = string_pos(infocom3, chatrecu)
//strvar = string_delete(strvar, 1, poschecker2);
strvar = ""
strvar = string_copy(chatrecu, poschecker2+1, poschecker4-2-poschecker2);
//poschecker5 = string_pos("@", strvar)
//lgthvar3 = string_length(strvar)
//strvar = string_delete(strvar, poschecker5-2, 20);
//string_digits( strvar );
//price end



if poschecker2 &gt; 0 &amp;&amp; poschecker4 &gt; 0{
linechat1var = string_char_at(chatrecu, poschecker2);
//linechat2var = string_char_at(chatrecu, poschecker3+2);
//lastlinecode3 = linechat1var//+linechat2var
//lastlinecode2 = linechat2
//choisir la commande selon les char
modechatrecu2 = 0
if linechat1var = infocom1 {modechatrecu2 = 1}
if modechatrecu2 = 1 {
lgthvar = string_length(chatrecu)
//lgthvar2 = lgthvar-poschecker4
destinataire = ""
destinataire = string_copy(chatrecu, poschecker4+1, lgthvar);
//destinataire = real(destinataire)


//message d envoi $
varname = ""
varname = string_copy(chatrecu, 1,poscheckerbeta-2 );
//chatrecu = string_insert(" has send ", chatrecu, poschecker2 );

if commande = 1 {chatrecu = varname+" has send "+strvar+" @ "+destinataire}
if commande = 2 {chatrecu = varname+" has employed "+strvar+" @ "+destinataire}
if commande = 3 {chatrecu = varname+" has vote "+strvar+" @ "+destinataire}
if commande = 4 {chatrecu = varname+" has invit "+strvar+" @ "+destinataire}
if commande = 5 {chatrecu = varname+" has invit "+strvar+" @ "+destinataire}

if commande = 1 {
if real(destinataire) = obj_zombie.idfixe {
if obj_zombie.karma &gt; 0 {obj_zombie.karma += real(strvar)}else{obj_zombie.karmaneg += real(strvar)}}
}}


}else{chatrecu = "" }}
endclean = 0

if chatadd[0,3] = helpmessage {if chatadd[3,3] = "" {}else{ chatadd[0,3] = ""}}//suprr du message d help si recu d autres message depuis


if chatadd[0,modechatrecu] = "" {chatadd[0,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
}else if chatadd[1,modechatrecu] = "" {chatadd[1,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[2,modechatrecu] = "" {chatadd[2,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[3,modechatrecu] = "" {chatadd[3,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[4,modechatrecu] = "" {chatadd[4,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[5,modechatrecu] = "" {chatadd[5,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[6,modechatrecu] = "" {chatadd[6,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[7,modechatrecu] = "" {chatadd[7,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[8,modechatrecu] = "" {chatadd[8,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[9,modechatrecu] = "" {chatadd[9,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[10,modechatrecu] = "" {chatadd[10,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else {
chatadd[0,modechatrecu] = chatadd[1,modechatrecu];
chatadd[1,modechatrecu] = chatadd[2,modechatrecu];
chatadd[2,modechatrecu] = chatadd[3,modechatrecu];
chatadd[3,modechatrecu] = chatadd[4,modechatrecu];
chatadd[4,modechatrecu] = chatadd[5,modechatrecu];
chatadd[5,modechatrecu] = chatadd[6,modechatrecu];
chatadd[6,modechatrecu] = chatadd[7,modechatrecu];
chatadd[7,modechatrecu] = chatadd[8,modechatrecu];
chatadd[8,modechatrecu] = chatadd[9,modechatrecu];
chatadd[9,modechatrecu] = chatadd[10,modechatrecu];
chatadd[10,modechatrecu] = chatrecu;
endclean = 1
//chatreculast = chatrecu 
}

//}
}}
}

//strlgth = string_length(chatrecu)+string_length(chatvisible)

//chatvisible = string_insert("#" +string(chatrecu), chatvisible, strlgth+1);
if endclean = 1 {
chatrecu2 = ""
chatrecu = ""
chatrecuvarteam1 = ""
chatrecuvarteam2 = ""
chatrecuvarteam3 = ""
chatrecuvarteam4 = ""
destinataire = ""
strvar = ""
strvar2 = ""
strvar3 = ""
strvar4 = ""
varname = ""}
}

chatvisible = chatadd[0,modechat]+"#"+chatadd[1,modechat]+"#"+chatadd[2,modechat]
+"#"+chatadd[3,modechat]+"#"+chatadd[4,modechat]+"#"+chatadd[5,modechat]+"#"+chatadd[6,modechat]
+"#"+chatadd[7,modechat]+"#"+chatadd[8,modechat]+"#"+chatadd[9,modechat]+"#"+chatadd[10,modechat]
//hh = string_height_ext(chatvisible, -1, 100);



//draw_set_halign(300);
//draw_set_valign(54);

//draw_text_ext(view_xview+ 32, 32, chatvisible, -1, 100);
//draw_text_ext(32, 32 + hh, chatvisible, -1, 100);


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if alarmlaunch = 1 {
alarmlaunch = 0
}else{
alarmlaunch = 1
}

alarm[0] = 300
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if keyboard_check_pressed(ord(obj_zombie.keyeconomie)){
if obj_zombie.chatlaunch = 0 &amp;&amp; obj_buttonguilde.chatlaunch2 = 0{
if ilaunch = 0 {
///EXIT TOUT AUTRE MENU
if instance_exists(obj_hudoffbutton) {if obj_hudoff.hudoff = 1 {obj_hudoff.hudoff = 0
if instance_exists(obj_hudoffbutton){with(obj_hudoffbutton){instance_destroy();}}}}

if obj_armorloot.ilaunch &gt; 0 {obj_armorloot.alarm[1] = 1}

//if obj_economie.ilaunch = 1 {obj_economie.ilaunch = 0
//if instance_exists(obj_buttoneconomie){with(obj_buttoneconomie){instance_destroy();}}}

if showinv = true {showinv = false ;obj_inventory.showinv3 = false}

if showmap = true {showmap = false}

if showquest = true{with(obj_quest){if showquest = true {showquest = false}questpannel = 0;}}
///EXIT TOUT AUTRE MENU FIN
if obj_zombie.idfixe = obj_economie.leaderidrecu {
with(instance_create(x,y,obj_buttoneconomie)){mode = 1}
with(instance_create(x,y,obj_buttoneconomie)){mode = 2}
with(instance_create(x,y,obj_buttoneconomie)){mode = 3}
with(instance_create(x,y,obj_buttoneconomie)){mode = 4}
with(instance_create(x,y,obj_buttoneconomie)){mode = 5}
with(instance_create(x,y,obj_buttoneconomie)){mode = 6}
with(instance_create(x,y,obj_buttoneconomie)){mode = 7}
with(instance_create(x,y,obj_buttoneconomie)){mode = 8}
with(instance_create(x,y,obj_buttoneconomie)){mode = 9}
with(instance_create(x,y,obj_buttoneconomie)){mode = 10}
with(instance_create(x,y,obj_buttoneconomie)){mode = 11}
with(instance_create(x,y,obj_buttoneconomie)){mode = 12}
with(instance_create(x,y,obj_buttoneconomie)){mode = 13}
with(instance_create(x,y,obj_buttoneconomie)){mode = 14}
with(instance_create(x,y,obj_buttoneconomie)){mode = 15}
with(instance_create(x,y,obj_buttoneconomie)){mode = 16}
with(instance_create(x,y,obj_buttoneconomie)){mode = 17}
with(instance_create(x,y,obj_buttoneconomie)){mode = 18}
with(instance_create(x,y,obj_buttoneconomie)){mode = 19}
with(instance_create(x,y,obj_buttoneconomie)){mode = 20}
with(instance_create(x,y,obj_buttoneconomie)){mode = 21}
with(instance_create(x,y,obj_buttoneconomie)){mode = 22}
with(instance_create(x,y,obj_buttoneconomie)){mode = 23}
}
//with(instance_create(x,y,obj_buttoneconomie)){mode = 1}
ilaunch = 1 
}else{
if instance_exists(obj_buttoneconomie){with(obj_buttoneconomie){instance_destroy();}}
ilaunch = 0
}
}
}


/*
//price end
strvar = string_delete(chatrecu, poschecker, 2);
poschecker2 = string_pos(":", chatrecu)
strvar = string_delete(strvar, 1, poschecker2);
string_digits( strvar );
//price end

poschecker3 = string_pos("/", strvar)
if poschecker3 &gt; 0 {
linechat1var = string_char_at(chatrecu, poschecker3+1);
linechat2var = string_char_at(chatrecu, poschecker3+2);
lastlinecode3 = linechat1var+linechat2var
//lastlinecode2 = linechat2
//choisir la commande selon les char
modechatrecu2 = 0
if lastlinecode3 = "to" {modechatrecu2 = 1}
if modechatrecu2 = 1 {
lgthvar = string_length(chatrecu)
destinataire = string_copy(chatrecu, poschecker3, lgthvar);
destinataire = real(destinataire)


//message d envoi $
chatrecu = string_delete(chatrecu, poschecker2,1 );
chatrecu = string_insert(" has send ", chatrecu, poschecker2 );



if destinataire = obj_zombie.idfixe {
if obj_zombie.karma &gt; 0 {obj_zombie.karma += real(strvar)}else{obj_zombie.karmaneg += real(strvar)}}
}
}*/
if instance_exists(oOtherClient){
with(obj_team){
if instance_exists(joueur1) &amp;&amp; !joueur1 = 0 {
if joueur1.chatlinenow = "" {}else{
obj_economie.chatrecu2 = joueur1.chatlinenow
obj_economie.chatrecuvarteam1 = obj_economie.chatrecu2
//joueur1.chatlinenow = ""
//joueur1.chatline = ""
}}
if instance_exists(joueur2) &amp;&amp; !joueur2 = 0 {
if joueur2.chatlinenow = "" {}else{
obj_economie.chatrecu2 = joueur2.chatlinenow
obj_economie.chatrecuvarteam2 = obj_economie.chatrecu2
//joueur2.chatlinenow = ""
//joueur2.chatline = ""
}}
if instance_exists(joueur3) &amp;&amp; !joueur3 = 0 {
if joueur3.chatlinenow = "" {}else{
obj_economie.chatrecu2 = joueur3.chatlinenow
obj_economie.chatrecuvarteam3 = obj_economie.chatrecu2
//joueur3.chatlinenow = ""
//joueur3.chatline = ""
}}
if instance_exists(joueur4) &amp;&amp; !joueur4 = 0 {
if joueur4.chatlinenow = "" {}else{
obj_economie.chatrecu2 = joueur4.chatlinenow
obj_economie.chatrecuvarteam4 = obj_economie.chatrecu2
//joueur4.chatlinenow = ""
//joueur4.chatline = ""
}}


}}


/*//SUPER SAVE 26 4 18
if chatrecu = "" {}else{


poschecker = string_pos("/", chatrecu)
if poschecker = 0 {}else{
linechat2 = string_char_at(chatrecu, poschecker+1);
linechat3 = string_char_at(chatrecu, poschecker+2);
linechat4 = string_char_at(chatrecu, poschecker+3);

lastlinecode = linechat2+linechat3+linechat4

//if linechat3 = "t" {}


modechatrecu = 0
if lastlinecode = "all" {modechatrecu = 1}
if lastlinecode = "grp" {modechatrecu = 2}
if lastlinecode = "job" {modechatrecu = 3}
if lastlinecode = "gld" {modechatrecu = 4}

stopadd = 0//compter si y a 0 espace
//compter si le recu est bien dans un des chat de joueur team
if modechatrecu = 2 {if chatrecu2 = chatrecuvarteam2 or chatrecu2 = chatrecuvarteam1
or chatrecu2 = chatrecuvarteam3 or chatrecu2 = chatrecuvarteam4{
if chatrecu2 = "" {stopadd = 1}}else{stopadd = 1}}

chatrecu = string_delete(chatrecu, poschecker, 4); 

olgt = string_length(chatrecu)//compter si y a 0 espace
if olgt &gt; 30 {ocount = string_count( " ", chatrecu ); //compter si y a 0 espace
if ocount &lt; 4 {stopadd = 1}}//compter si y a 0 espace





if stopadd = 0 {
if modechatrecu = 0{}else{

if chatreculast = chatrecu {}else{
chatreculast = chatrecu 
if chatadd[0,modechatrecu] = "" {chatadd[0,modechatrecu] = chatrecu}else
if chatadd[1,modechatrecu] = "" {chatadd[1,modechatrecu] = chatrecu}else
if chatadd[2,modechatrecu] = "" {chatadd[2,modechatrecu] = chatrecu}else
if chatadd[3,modechatrecu] = "" {chatadd[3,modechatrecu] = chatrecu}else
if chatadd[4,modechatrecu] = "" {chatadd[4,modechatrecu] = chatrecu}else
if chatadd[5,modechatrecu] = "" {chatadd[5,modechatrecu] = chatrecu}else
if chatadd[6,modechatrecu] = "" {chatadd[6,modechatrecu] = chatrecu}else
if chatadd[7,modechatrecu] = "" {chatadd[7,modechatrecu] = chatrecu}else
if chatadd[8,modechatrecu] = "" {chatadd[8,modechatrecu] = chatrecu}else
if chatadd[9,modechatrecu] = "" {chatadd[9,modechatrecu] = chatrecu}else
if chatadd[10,modechatrecu] = "" {chatadd[10,modechatrecu] = chatrecu}else
{
chatadd[0,modechatrecu] = chatadd[1,modechatrecu];
chatadd[1,modechatrecu] = chatadd[2,modechatrecu];
chatadd[2,modechatrecu] = chatadd[3,modechatrecu];
chatadd[3,modechatrecu] = chatadd[4,modechatrecu];
chatadd[4,modechatrecu] = chatadd[5,modechatrecu];
chatadd[5,modechatrecu] = chatadd[6,modechatrecu];
chatadd[6,modechatrecu] = chatadd[7,modechatrecu];
chatadd[7,modechatrecu] = chatadd[8,modechatrecu];
chatadd[8,modechatrecu] = chatadd[9,modechatrecu];
chatadd[9,modechatrecu] = chatadd[10,modechatrecu];
chatadd[10,modechatrecu] = chatrecu;
}}}}
}

//strlgth = string_length(chatrecu)+string_length(chatvisible)

//chatvisible = string_insert("#" +string(chatrecu), chatvisible, strlgth+1);
chatrecu2 = ""
chatrecu = ""
chatrecuvarteam1 = ""
chatrecuvarteam2 = ""
chatrecuvarteam3 = ""
chatrecuvarteam4 = ""
}

chatvisible = chatadd[0,modechat]+"#"+chatadd[1,modechat]+"#"+chatadd[2,modechat]
+"#"+chatadd[3,modechat]+"#"+chatadd[4,modechat]+"#"+chatadd[5,modechat]+"#"+chatadd[6,modechat]
+"#"+chatadd[7,modechat]+"#"+chatadd[8,modechat]+"#"+chatadd[9,modechat]+"#"+chatadd[10,modechat]

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_wall">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*if stopadd = 0 {
if chatadd[0,modechatrecu] = "" {chatadd[0,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
}else if chatadd[1,modechatrecu] = "" {chatadd[1,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[2,modechatrecu] = "" {chatadd[2,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[3,modechatrecu] = "" {chatadd[3,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[4,modechatrecu] = "" {chatadd[4,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[5,modechatrecu] = "" {chatadd[5,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[6,modechatrecu] = "" {chatadd[6,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[7,modechatrecu] = "" {chatadd[7,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[8,modechatrecu] = "" {chatadd[8,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[9,modechatrecu] = "" {chatadd[9,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[10,modechatrecu] = "" {chatadd[10,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[11,modechatrecu] = "" {chatadd[11,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[12,modechatrecu] = "" {chatadd[12,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[13,modechatrecu] = "" {chatadd[13,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[14,modechatrecu] = "" {chatadd[14,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[15,modechatrecu] = "" {chatadd[15,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[16,modechatrecu] = "" {chatadd[16,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[17,modechatrecu] = "" {chatadd[17,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[18,modechatrecu] = "" {chatadd[18,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[19,modechatrecu] = "" {chatadd[19,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[20,modechatrecu] = "" {chatadd[20,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
  }else if chatadd[21,modechatrecu] = "" {chatadd[21,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[22,modechatrecu] = "" {chatadd[22,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[23,modechatrecu] = "" {chatadd[23,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[24,modechatrecu] = "" {chatadd[24,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[25,modechatrecu] = "" {chatadd[25,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[26,modechatrecu] = "" {chatadd[26,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[27,modechatrecu] = "" {chatadd[27,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[28,modechatrecu] = "" {chatadd[28,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[29,modechatrecu] = "" {chatadd[29,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[30,modechatrecu] = "" {chatadd[30,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
  }else if chatadd[31,modechatrecu] = "" {chatadd[31,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[32,modechatrecu] = "" {chatadd[32,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[33,modechatrecu] = "" {chatadd[33,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[34,modechatrecu] = "" {chatadd[34,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[35,modechatrecu] = "" {chatadd[35,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[36,modechatrecu] = "" {chatadd[36,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[37,modechatrecu] = "" {chatadd[37,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[38,modechatrecu] = "" {chatadd[38,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[39,modechatrecu] = "" {chatadd[39,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[40,modechatrecu] = "" {chatadd[40,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
  }else if chatadd[41,modechatrecu] = "" {chatadd[41,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[42,modechatrecu] = "" {chatadd[42,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[43,modechatrecu] = "" {chatadd[43,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[44,modechatrecu] = "" {chatadd[44,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[45,modechatrecu] = "" {chatadd[45,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[46,modechatrecu] = "" {chatadd[46,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[47,modechatrecu] = "" {chatadd[47,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[48,modechatrecu] = "" {chatadd[48,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[49,modechatrecu] = "" {chatadd[49,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[50,modechatrecu] = "" {chatadd[50,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 
 }else {
chatadd[0,modechatrecu] = chatadd[1,modechatrecu];//visible
chatadd[1,modechatrecu] = chatadd[2,modechatrecu];
chatadd[2,modechatrecu] = chatadd[3,modechatrecu];
chatadd[3,modechatrecu] = chatadd[4,modechatrecu];
chatadd[4,modechatrecu] = chatadd[5,modechatrecu];
chatadd[5,modechatrecu] = chatadd[6,modechatrecu];
chatadd[6,modechatrecu] = chatadd[7,modechatrecu];
chatadd[7,modechatrecu] = chatadd[8,modechatrecu];
chatadd[8,modechatrecu] = chatadd[9,modechatrecu];
chatadd[9,modechatrecu] = chatadd[10,modechatrecu];//visible
chatadd[10,modechatrecu] = chatadd[11,modechatrecu];
chatadd[11,modechatrecu] = chatadd[12,modechatrecu];
chatadd[12,modechatrecu] = chatadd[13,modechatrecu];
chatadd[13,modechatrecu] = chatadd[14,modechatrecu];
chatadd[14,modechatrecu] = chatadd[15,modechatrecu];
chatadd[15,modechatrecu] = chatadd[16,modechatrecu];
chatadd[16,modechatrecu] = chatadd[17,modechatrecu];
chatadd[17,modechatrecu] = chatadd[18,modechatrecu];
chatadd[18,modechatrecu] = chatadd[19,modechatrecu];
chatadd[19,modechatrecu] = chatadd[20,modechatrecu];
chatadd[20,modechatrecu] = chatadd[21,modechatrecu];
chatadd[21,modechatrecu] = chatadd[22,modechatrecu];
chatadd[22,modechatrecu] = chatadd[23,modechatrecu];
chatadd[23,modechatrecu] = chatadd[24,modechatrecu];
chatadd[24,modechatrecu] = chatadd[25,modechatrecu];
chatadd[25,modechatrecu] = chatadd[26,modechatrecu];
chatadd[26,modechatrecu] = chatadd[27,modechatrecu];
chatadd[27,modechatrecu] = chatadd[28,modechatrecu];
chatadd[28,modechatrecu] = chatadd[29,modechatrecu];
chatadd[29,modechatrecu] = chatadd[30,modechatrecu];
chatadd[30,modechatrecu] = chatadd[31,modechatrecu];
chatadd[31,modechatrecu] = chatadd[32,modechatrecu];
chatadd[32,modechatrecu] = chatadd[33,modechatrecu];
chatadd[33,modechatrecu] = chatadd[34,modechatrecu];
chatadd[34,modechatrecu] = chatadd[35,modechatrecu];
chatadd[35,modechatrecu] = chatadd[36,modechatrecu];
chatadd[36,modechatrecu] = chatadd[37,modechatrecu];
chatadd[37,modechatrecu] = chatadd[38,modechatrecu];
chatadd[38,modechatrecu] = chatadd[39,modechatrecu];
chatadd[39,modechatrecu] = chatadd[40,modechatrecu];
chatadd[40,modechatrecu] = chatadd[41,modechatrecu];
chatadd[41,modechatrecu] = chatadd[42,modechatrecu];
chatadd[42,modechatrecu] = chatadd[43,modechatrecu];
chatadd[43,modechatrecu] = chatadd[44,modechatrecu];
chatadd[44,modechatrecu] = chatadd[45,modechatrecu];
chatadd[45,modechatrecu] = chatadd[46,modechatrecu];
chatadd[46,modechatrecu] = chatadd[47,modechatrecu];
chatadd[47,modechatrecu] = chatadd[48,modechatrecu];
chatadd[48,modechatrecu] = chatadd[49,modechatrecu];
chatadd[49,modechatrecu] = chatadd[50,modechatrecu];
chatadd[50,modechatrecu] = chatrecu;

//chatreculast = chatrecu 
}
}//if stopadd = 0 { DEUXIEME POUR EMPECHER SI LE 3 EME OBJ OU AUTRES N EST PAS PRESENT












































if stopadd = 0 {
if chatadd[50,modechatrecu] = "" {chatadd[50,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
}else if chatadd[49,modechatrecu] = "" {chatadd[49,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[48,modechatrecu] = "" {chatadd[48,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[47,modechatrecu] = "" {chatadd[47,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[46,modechatrecu] = "" {chatadd[46,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[45,modechatrecu] = "" {chatadd[45,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[44,modechatrecu] = "" {chatadd[44,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[43,modechatrecu] = "" {chatadd[43,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[42,modechatrecu] = "" {chatadd[42,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[41,modechatrecu] = "" {chatadd[41,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[40,modechatrecu] = "" {chatadd[40,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[39,modechatrecu] = "" {chatadd[39,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[38,modechatrecu] = "" {chatadd[38,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[37,modechatrecu] = "" {chatadd[37,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[36,modechatrecu] = "" {chatadd[36,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[35,modechatrecu] = "" {chatadd[35,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[34,modechatrecu] = "" {chatadd[34,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[33,modechatrecu] = "" {chatadd[33,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[32,modechatrecu] = "" {chatadd[32,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[31,modechatrecu] = "" {chatadd[31,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[30,modechatrecu] = "" {chatadd[30,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
  }else if chatadd[29,modechatrecu] = "" {chatadd[29,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[28,modechatrecu] = "" {chatadd[28,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[27,modechatrecu] = "" {chatadd[27,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[26,modechatrecu] = "" {chatadd[26,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[25,modechatrecu] = "" {chatadd[25,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[24,modechatrecu] = "" {chatadd[24,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[23,modechatrecu] = "" {chatadd[23,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[22,modechatrecu] = "" {chatadd[22,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[21,modechatrecu] = "" {chatadd[21,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[20,modechatrecu] = "" {chatadd[20,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
  }else if chatadd[19,modechatrecu] = "" {chatadd[19,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[18,modechatrecu] = "" {chatadd[18,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[17,modechatrecu] = "" {chatadd[17,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[16,modechatrecu] = "" {chatadd[16,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[15,modechatrecu] = "" {chatadd[15,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[14,modechatrecu] = "" {chatadd[14,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[13,modechatrecu] = "" {chatadd[13,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[12,modechatrecu] = "" {chatadd[12,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[11,modechatrecu] = "" {chatadd[11,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[10,modechatrecu] = "" {chatadd[10,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
  }else if chatadd[9,modechatrecu] = "" {chatadd[9,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[8,modechatrecu] = "" {chatadd[8,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[7,modechatrecu] = "" {chatadd[7,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[6,modechatrecu] = "" {chatadd[6,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[5,modechatrecu] = "" {chatadd[5,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[4,modechatrecu] = "" {chatadd[4,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[3,modechatrecu] = "" {chatadd[3,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[2,modechatrecu] = "" {chatadd[2,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[1,modechatrecu] = "" {chatadd[1,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[0,modechatrecu] = "" {chatadd[0,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 
 }else {
chatadd[50,modechatrecu] = chatadd[49,modechatrecu];//visible
chatadd[49,modechatrecu] = chatadd[48,modechatrecu];
chatadd[48,modechatrecu] = chatadd[47,modechatrecu];
chatadd[47,modechatrecu] = chatadd[46,modechatrecu];
chatadd[46,modechatrecu] = chatadd[45,modechatrecu];
chatadd[45,modechatrecu] = chatadd[44,modechatrecu];
chatadd[44,modechatrecu] = chatadd[43,modechatrecu];
chatadd[43,modechatrecu] = chatadd[42,modechatrecu];
chatadd[42,modechatrecu] = chatadd[41,modechatrecu];
chatadd[41,modechatrecu] = chatadd[40,modechatrecu];//visible
chatadd[40,modechatrecu] = chatadd[39,modechatrecu];
chatadd[39,modechatrecu] = chatadd[38,modechatrecu];
chatadd[38,modechatrecu] = chatadd[37,modechatrecu];
chatadd[37,modechatrecu] = chatadd[36,modechatrecu];
chatadd[36,modechatrecu] = chatadd[35,modechatrecu];
chatadd[35,modechatrecu] = chatadd[34,modechatrecu];
chatadd[34,modechatrecu] = chatadd[33,modechatrecu];
chatadd[33,modechatrecu] = chatadd[32,modechatrecu];
chatadd[32,modechatrecu] = chatadd[31,modechatrecu];
chatadd[31,modechatrecu] = chatadd[30,modechatrecu];
chatadd[30,modechatrecu] = chatadd[29,modechatrecu];
chatadd[29,modechatrecu] = chatadd[28,modechatrecu];
chatadd[28,modechatrecu] = chatadd[27,modechatrecu];
chatadd[27,modechatrecu] = chatadd[26,modechatrecu];
chatadd[26,modechatrecu] = chatadd[25,modechatrecu];
chatadd[25,modechatrecu] = chatadd[24,modechatrecu];
chatadd[24,modechatrecu] = chatadd[23,modechatrecu];
chatadd[23,modechatrecu] = chatadd[22,modechatrecu];
chatadd[22,modechatrecu] = chatadd[21,modechatrecu];
chatadd[21,modechatrecu] = chatadd[20,modechatrecu];
chatadd[20,modechatrecu] = chatadd[19,modechatrecu];
chatadd[19,modechatrecu] = chatadd[18,modechatrecu];
chatadd[18,modechatrecu] = chatadd[17,modechatrecu];
chatadd[17,modechatrecu] = chatadd[16,modechatrecu];
chatadd[16,modechatrecu] = chatadd[15,modechatrecu];
chatadd[15,modechatrecu] = chatadd[14,modechatrecu];
chatadd[14,modechatrecu] = chatadd[13,modechatrecu];
chatadd[13,modechatrecu] = chatadd[12,modechatrecu];
chatadd[12,modechatrecu] = chatadd[11,modechatrecu];
chatadd[11,modechatrecu] = chatadd[10,modechatrecu];
chatadd[10,modechatrecu] = chatadd[9,modechatrecu];
chatadd[9,modechatrecu] = chatadd[8,modechatrecu];
chatadd[8,modechatrecu] = chatadd[7,modechatrecu];
chatadd[7,modechatrecu] = chatadd[6,modechatrecu];
chatadd[6,modechatrecu] = chatadd[5,modechatrecu];
chatadd[5,modechatrecu] = chatadd[4,modechatrecu];
chatadd[4,modechatrecu] = chatadd[3,modechatrecu];
chatadd[3,modechatrecu] = chatadd[2,modechatrecu];
chatadd[2,modechatrecu] = chatadd[1,modechatrecu];
chatadd[1,modechatrecu] = chatadd[0,modechatrecu];
chatadd[0,modechatrecu] = chatrecu;

//chatreculast = chatrecu 
}
}//if stopadd = 0 { DEUXIEME POUR EMPECHER SI LE 3 EME OBJ OU AUTRES N EST PAS PRESENT


chatvisible = chatadd[10+modechat9,modechat]+"#"+chatadd[9+modechat9,modechat]+"#"+chatadd[8+modechat9,modechat]
+"#"+chatadd[7+modechat9,modechat]+"#"+chatadd[6+modechat9,modechat]+"#"+chatadd[5+modechat9,modechat]+"#"+chatadd[4+modechat9,modechat]
+"#"+chatadd[3+modechat9,modechat]+"#"+chatadd[2+modechat9,modechat]+"#"+chatadd[1+modechat9,modechat]+"#"+chatadd[0+modechat9,modechat]

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="5" enumb="40">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if alarm[2] &lt; 0 {alarm[2] = 5
obj_nightcycle.alarm[6] = 500
if modechat9 &gt; 0 {modechat9 -= 1}else{//modechat9 = 40
}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="5" enumb="38">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if alarm[2] &lt; 0 {alarm[2] = 5
obj_nightcycle.alarm[6] = 500
if modechat9 &lt; 390 {modechat9 += 1}else{//modechat9 = 0
}
}

/*with(instance_create(obj_zombie.x,obj_zombie.y,obj_teleport1)){
new_room = room105;
new_x = 2528;
new_y = 2560;
}*/
//room_goto(room105)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>ds_grid_clear(chatgrid, -1);
ds_grid_destroy(chatgrid);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// GRADE !!! ET CHAT !!!!!CHAT DES OTHERCLIENT DANS obj_textnetdepth

//if instance_exists(oOtherClient){

//GRADE ET METIER


if obj_zombie.gradedon = 1 {
//draw_set_color(c_blue);
obj_bigstats.gradestats = "PRESIDENT"
//draw_text(obj_zombie.x, obj_zombie.y-104, "PRESIDENT");
}
//GRADE
if obj_zombie.grademetier &gt; 12 {
obj_zombie.grademetier = 0
}

if obj_zombie.grademetier = 1 {
//draw_set_color(c_blue);
//draw_text(obj_zombie.x, obj_zombie.y-74, "BANQUIER");
}
if obj_zombie.grademetier = 2 {
//draw_set_color(c_blue);
//draw_text(obj_zombie.x, obj_zombie.y-74, "POLICIER");
}
if obj_zombie.grademetier = 3 {
//draw_set_color(c_blue);
//draw_text(obj_zombie.x, obj_zombie.y-74, "MINIER");
}
if obj_zombie.grademetier = 4 {
//draw_set_color(c_blue);
//draw_text(obj_zombie.x, obj_zombie.y-74, "BARMAN");
}
if obj_zombie.grademetier = 5 {
//draw_set_color(c_blue);
//draw_text(obj_zombie.x, obj_zombie.y-74, "FORGERON");
}
if obj_zombie.grademetier = 6 {
//draw_set_color(c_blue);
//draw_text(obj_zombie.x, obj_zombie.y-74, "CHEF DE LA POLICE");
}
if obj_zombie.grademetier = 7 {
//draw_set_color(c_blue);
//draw_text(obj_zombie.x, obj_zombie.y-74, "INFORMATEUR");
}




if ilaunch = 1 {

var x1,x2,y1,y2;
x1 = view_xview[0];
x2 = x1 + view_wview;//view_wview[0];
y1 = view_yview[0];
y2 = y1 + view_hview;


draw_set_color(c_black);
draw_set_alpha(1);
draw_rectangle(x1,y1,x2,y2,0);
draw_set_alpha(1);


draw_set_halign(300);
draw_set_valign(54);
draw_set_font(fnt_little);
draw_set_color(colortext2);


draw_sprite_ext( spr_bar, image_index, view_xview, view_yview, 1, 1, 0, c_white, 1 );

imagespeed += 0.5
if imagespeed &gt; image_number  { demaragepralax = 1}
if demaragepralax = 0 {
draw_sprite_ext(spr_demarageparalax,imagespeed,view_xview+(view_wview/2),view_yview+(view_hview/2),1,1,0,c_white,1)}else{
    dist = point_distance(view_xview+(view_wview/2),view_yview+(view_hview/2),mouse_x,mouse_y)
    d2 = point_direction(view_xview+(view_wview/2),view_yview+(view_hview/2),mouse_x,mouse_y)
    distmax = 6000
    if dist &lt; distmax {}else{dist = distmax}
    distequi = 130 //plu il est bas plu la parallax est forte
    distreact = (dist/(distmax/1))
    if distreact &lt; 0.1 {distreact = 0.1}
    x2 = view_xview+(view_wview/2) 
    y2 = view_yview+(view_hview/2)
    
    scalex1 = 1+(1*((dist/6000)))
    scaley1 = 1+(1*((dist/6000)))
    scalex2 = 1+(1*((dist/3000)))
    scaley2 = 1+(1*((dist/3000)))
    scalex3 = 1+(1*((dist/1500)))
    scaley3 = 1+(1*((dist/1500)))
    scalex4 = 1+(1*((dist/750)))
    scaley4 = 1+(1*((dist/750)))
    
draw_sprite_ext(spr_paralax1,imagespeed,x2+ lengthdir_x(((dist/distequi)/distreact*1),d2)
,y2 + lengthdir_y(((dist/distequi)/distreact*1),d2),scalex1,scaley1,0,c_white,1);
draw_sprite_ext(spr_paralax2,imagespeed,x2+ lengthdir_x(((dist/distequi)/distreact*2),d2)
,y2 + lengthdir_y(((dist/distequi)/distreact*2),d2),scalex2,scaley2,0,c_white,1)
draw_sprite_ext(spr_paralax3,imagespeed,x2+ lengthdir_x(((dist/distequi)/distreact*3),d2)
,y2 + lengthdir_y(((dist/distequi)/distreact*3),d2),scalex3,scaley3,0,c_white,1)
draw_sprite_ext(spr_paralax4,imagespeed,x2+ lengthdir_x(((dist/distequi)/distreact*4),d2)
,y2 + lengthdir_y(((dist/distequi)/distreact*4),d2),scalex4,scaley4,0,c_white,1)
}

//draw_sprite_ext( spr_barfond, image_index, view_xview, view_yview, 1, 1, 0, c_white, 1 );//view_xview+685, view_yview+385

if imagespeed2 &lt; 22 {imagespeed2 += 0.5}
if imagespeed3 &lt; 8 {imagespeed3 += 0.5}
draw_sprite_ext( spr_hudae4, imagespeed3, view_xview+244, view_yview+349, 1.45, 1.85, 90, c_white, 1 );
draw_sprite_ext( spr_hudae4, imagespeed3, view_xview+685, view_yview+349, 1.45, 1.79, 90, c_white, 1 );
draw_sprite_ext( spr_hudae4, imagespeed3, view_xview+166, view_yview+597, 1.4, 1, 0, c_white, 1 );
draw_sprite_ext( spr_hudae4, imagespeed3, view_xview+448, view_yview+597, 1.75, 1, 0, c_white, 1 );
draw_sprite_ext( spr_hudae4, imagespeed3, view_xview+732, view_yview+597, 1.4, 1, 0, c_white, 1 );
draw_sprite_ext( spr_hudae8, imagespeed2, view_xview+1134, view_yview+469, 0.85, 1.9, 90, c_white, 1 );

draw_sprite_ext( spr_economie, image_index, view_xview+683, view_yview+100 , 1, 1, 0, c_white, 1 );

if imagespeed2 &lt; 22 {}else{
//if global.language = 1 {
draw_set_font(fnt_titreroadmovie);
draw_text(view_xview +76 ,view_yview +255 ,string(langbeta[0]) )
draw_set_font(fnt_sfoldrepublic);

draw_text(view_xview +76 ,view_yview +305 ,string(langbeta[1]) +string(leaderidrecu))
draw_text(view_xview +76 ,view_yview +325 ,string(langbeta[2]) +string(leaderid2recu))
draw_text(view_xview +76 ,view_yview +345 ,string(langbeta[3]) +string(leadersecuriterecu))
draw_text(view_xview +76 ,view_yview +365 ,string(langbeta[4]) +string(leadereconomierecu))
draw_text(view_xview +76 ,view_yview +385 ,string(langbeta[5])+string(leaderconfortrecu))

draw_set_font(fnt_titreroadmovie);

draw_text(view_xview +519 ,view_yview +255 ,string(langbeta[6]) )
draw_set_font(fnt_sfoldrepublic);

if alarmlaunch = 1 {
draw_text(view_xview +519 ,view_yview +305 ,string(langbeta[7]) +string(acierrecu))
draw_text(view_xview +519 ,view_yview +325 ,string(langbeta[8]) +string(ferrecu))
draw_text(view_xview +519 ,view_yview +345 ,string(langbeta[9]) +string(cuivrerecu))
draw_text(view_xview +519 ,view_yview +365 ,string(langbeta[10]) +string(aluminiumrecu))
draw_text(view_xview +519 ,view_yview +385 ,string(langbeta[11]) +string(gunpowderrecu))
draw_text(view_xview +519 ,view_yview +405 ,string(langbeta[12]) +string(woodrecu))
}else{
draw_text(view_xview +519 ,view_yview +305 ,string(langbeta[13]) +string(tissurecu))
draw_text(view_xview +519 ,view_yview +325 ,string(langbeta[14]) +string(adhesifrecu))
draw_text(view_xview +519 ,view_yview +345 ,string(langbeta[15]) +string(cablagerecu))
draw_text(view_xview +519 ,view_yview +365 ,string(langbeta[16]) +string(visrecu))
draw_text(view_xview +519 ,view_yview +385 ,string(langbeta[17]) +string(engrenagerecu))
draw_text(view_xview +519 ,view_yview +405 ,string(langbeta[18]) +string(kevlarrecu))
}

draw_set_font(fnt_titreroadmovie);
draw_text(view_xview +338 ,view_yview +513 ,string(langbeta[19]) )
draw_set_font(fnt_sfoldrepublic);
if alarmlaunch = 1 {
draw_text(view_xview +338 ,view_yview +560 ,string(langbeta[20]) +string(taxeressourcerecu))//mis dans obj_menuvente dans mecanique / step
draw_text(view_xview +338 ,view_yview +580 ,string(langbeta[21]) +string(taxebarmanrecu))//mis dans obj zombie step fin de journee
draw_text(view_xview +338 ,view_yview +600 ,string(langbeta[22]) +string(taxeforgeronrecu))//mis dans obj zombie step fin de journee
draw_text(view_xview +338 ,view_yview +620 ,string(langbeta[23]) +string(taxeloyerrecu)+" %")
draw_text(view_xview +338 ,view_yview +640 ,string(langbeta[24]) +string(taxeelectriciterecu)+" %")//mis dans obj zombie step fin de journee
draw_text(view_xview +338 ,view_yview +660 ,string(langbeta[25]) +string(taxebanquerecu))//mis dans obj zombie step fin de journee
}else{
draw_text(view_xview +338 ,view_yview +560 ,string(langbeta[26]) +string(taxesecurityrecu)+" %")//mis dans obj zombie step fin de journee
draw_text(view_xview +338 ,view_yview +580 ,string(langbeta[27]) +string(taxeeducationrecu)+" %")//mis dans obj zombie step fin de journee
draw_text(view_xview +338 ,view_yview +600 ,string(langbeta[28]) +string(taxeguildrecu)+" %")//mis dans obj zombie step fin de journee
draw_text(view_xview +338 ,view_yview +620 ,string(langbeta[29]) +string(taxefortunerecu)+" %")//mis dans obj zombie step fin de journee
draw_text(view_xview +338 ,view_yview +640 ,string(langbeta[30]) +string(taxejailrecu)+" %")//mis dans obj zombie step fin de journee
draw_text(view_xview +338 ,view_yview +660 ,string(langbeta[31]) +string(taxeterritoryrecu)+" %")//mis dans obj zombie step fin de journee
}
draw_set_font(fnt_titreroadmovie);
draw_text(view_xview +74 ,view_yview +513 ,string(langbeta[32]) )
draw_set_font(fnt_sfoldrepublic);

draw_text(view_xview +74 ,view_yview +560 ,string(langbeta[33]) +string(budgetelectriciterecu))//mis du coter serveur need 10 000 pour etre 100 % heureux
draw_text(view_xview +74 ,view_yview +580 ,string(langbeta[34]) +string(budgetconfortrecu))//mis du coter serveur need 10 000 pour etre 100 % heureux
draw_text(view_xview +74 ,view_yview +600 ,string(langbeta[35]) +string(budgeteaurecu))//mis du coter serveur need 10 000 pour etre 100 % heureux
draw_text(view_xview +74 ,view_yview +620 ,string(langbeta[36]) +string(budgetnourriturerecu))//mis du coter serveur need 10 000 pour etre 100 % heureux

draw_set_font(fnt_titreroadmovie);
draw_text(view_xview +642 ,view_yview +513 ,string(langbeta[37]) )
draw_set_font(fnt_sfoldrepublic);

draw_text(view_xview +642 ,view_yview +560 ,string(langbeta[38]) +string(salairepolicerecu))//mis dans obj zombie step fin de journee
draw_text(view_xview +642 ,view_yview +580 ,string(langbeta[39]) +string(salaireminierrecu))

//population = instance_number(oOtherClient)
//draw_text(view_xview +642 ,view_yview +600 ,"Population : " +string(population))

draw_set_font(fnt_titreroadmovie);
draw_set_halign(fa_center);
draw_text(view_xview +1136 ,view_yview +304 ,string(langbeta[40]) )//METTRE DES EFFET COTER CLIENT
draw_set_font(fnt_sfoldrepublic24);
draw_text(view_xview +1136 ,view_yview +354 ,"" +string(confortpeuplerecu)+"/ 100")//METTRE DES EFFET COTER CLIENT
draw_set_font(fnt_titreroadmovie);
draw_text(view_xview +1136 ,view_yview +450 ,string(langbeta[41]) )
draw_set_font(fnt_sfoldrepublic24);
draw_text(view_xview +1136 ,view_yview +500 ,"" +string(economierecu))
draw_set_font(fnt_titreroadmovie);
draw_text(view_xview +1136 ,view_yview +600 ,string(langbeta[42]) )
draw_set_font(fnt_sfoldrepublic24);
draw_text(view_xview +1136 ,view_yview +650 ,"" +string(population))
draw_set_halign(fa_left);
draw_set_font(fnt_little14);

//}/*else{
/*draw_set_font(fnt_titreroadmovie);
draw_text(view_xview +76 ,view_yview +265 ,"GOVERNMENT" )
draw_set_font(fnt_sfoldrepublic);

draw_text(view_xview +76 ,view_yview +305 ,"PRESIDENT : " +string(leaderidrecu))
draw_text(view_xview +76 ,view_yview +325 ,"VICE PRESIDENT : " +string(leaderid2recu))
draw_text(view_xview +76 ,view_yview +345 ,"MINISTER SECURITY : " +string(leadersecuriterecu))
draw_text(view_xview +76 ,view_yview +365 ,"MINISTER ECONOMY : " +string(leadereconomierecu))
draw_text(view_xview +76 ,view_yview +385 ,"MINISTER FOR RESOURCES : " +string(leaderconfortrecu))

draw_set_font(fnt_titreroadmovie);

draw_text(view_xview +519 ,view_yview +265 ,"PRIMARY MATERIALS " )
draw_set_font(fnt_sfoldrepublic);

if alarmlaunch = 1 {
draw_text(view_xview +519 ,view_yview +305 ,"Steel stock : " +string(acierrecu))
draw_text(view_xview +519 ,view_yview +325 ,"Iron stock : " +string(ferrecu))
draw_text(view_xview +519 ,view_yview +345 ,"Copper stock : " +string(cuivrerecu))
draw_text(view_xview +519 ,view_yview +365 ,"Aluminum stock : " +string(aluminiumrecu))
draw_text(view_xview +519 ,view_yview +385 ,"Gunpowder stock : " +string(gunpowderrecu))
draw_text(view_xview +519 ,view_yview +405 ,"Wood stock: " +string(woodrecu))
}else{
draw_text(view_xview +519 ,view_yview +305 ,"Cloth stock : " +string(tissurecu))
draw_text(view_xview +519 ,view_yview +325 ,"Adhesive stock : " +string(adhesifrecu))
draw_text(view_xview +519 ,view_yview +345 ,"Circuitry stock : " +string(cablagerecu))
draw_text(view_xview +519 ,view_yview +365 ,"Screw stock : " +string(visrecu))
draw_text(view_xview +519 ,view_yview +385 ,"Gearing stock : " +string(engrenagerecu))
draw_text(view_xview +519 ,view_yview +405 ,"Kevlar stock: " +string(kevlarrecu))
}

draw_set_font(fnt_titreroadmovie);
draw_text(view_xview +338 ,view_yview +513 ,"TAX" )
draw_set_font(fnt_sfoldrepublic);
if alarmlaunch = 1 {
draw_text(view_xview +338 ,view_yview +560 ,"tax primary materials : " +string(taxeressourcerecu))//mis dans obj_menuvente dans mecanique / step
draw_text(view_xview +338 ,view_yview +580 ,"tax job I : " +string(taxebarmanrecu))//mis dans obj zombie step fin de journee
draw_text(view_xview +338 ,view_yview +600 ,"tax job II : " +string(taxeforgeronrecu))//mis dans obj zombie step fin de journee
draw_text(view_xview +338 ,view_yview +620 ,"tax prime : " +string(taxeloyerrecu)+" %")
draw_text(view_xview +338 ,view_yview +640 ,"tax electricity : " +string(taxeelectriciterecu)+" %")//mis dans obj zombie step fin de journee
draw_text(view_xview +338 ,view_yview +660 ,"tax job III : " +string(taxebanquerecu))//mis dans obj zombie step fin de journee
}else{
draw_text(view_xview +338 ,view_yview +560 ,"tax security : " +string(taxesecurityrecu)+" %")//mis dans obj zombie step fin de journee
draw_text(view_xview +338 ,view_yview +580 ,"tax education : " +string(taxeeducationrecu)+" %")//mis dans obj zombie step fin de journee
draw_text(view_xview +338 ,view_yview +600 ,"tax guild : " +string(taxeguildrecu)+" %")//mis dans obj zombie step fin de journee
draw_text(view_xview +338 ,view_yview +620 ,"tax on fortune : " +string(taxefortunerecu)+" %")//mis dans obj zombie step fin de journee
draw_text(view_xview +338 ,view_yview +640 ,"tax jail : " +string(taxejailrecu)+" %")//mis dans obj zombie step fin de journee
draw_text(view_xview +338 ,view_yview +660 ,"tax territory : " +string(taxeterritoryrecu)+" %")//mis dans obj zombie step fin de journee
}
draw_set_font(fnt_titreroadmovie);
draw_text(view_xview +74 ,view_yview +513 ,"BUDGET" )
draw_set_font(fnt_sfoldrepublic);

draw_text(view_xview +74 ,view_yview +560 ,"budget electricity : " +string(budgetelectriciterecu))//mis du coter serveur need 10 000 pour etre 100 % heureux
draw_text(view_xview +74 ,view_yview +580 ,"budget ressource : " +string(budgetconfortrecu))//mis du coter serveur need 10 000 pour etre 100 % heureux
draw_text(view_xview +74 ,view_yview +600 ,"budget water : " +string(budgeteaurecu))//mis du coter serveur need 10 000 pour etre 100 % heureux
draw_text(view_xview +74 ,view_yview +620 ,"budget food : " +string(budgetnourriturerecu))//mis du coter serveur need 10 000 pour etre 100 % heureux

draw_set_font(fnt_titreroadmovie);
draw_text(view_xview +642 ,view_yview +513 ,"WAGE" )
draw_set_font(fnt_sfoldrepublic);

draw_text(view_xview +642 ,view_yview +560 ,"wage job I : " +string(salairepolicerecu))//mis dans obj zombie step fin de journee
draw_text(view_xview +642 ,view_yview +580 ,"wage job II : " +string(salaireminierrecu))

//population = instance_number(oOtherClient)
//draw_text(view_xview +642 ,view_yview +600 ,"Population : " +string(population))

draw_set_font(fnt_titreroadmovie);
draw_set_halign(fa_center);
draw_text(view_xview +1136 ,view_yview +304 ,"MORAL OF THE PEOPLE" )//METTRE DES EFFET COTER CLIENT
draw_set_font(fnt_sfoldrepublic24);
draw_text(view_xview +1136 ,view_yview +354 ,"" +string(confortpeuplerecu)+"/ 100")//METTRE DES EFFET COTER CLIENT
draw_set_font(fnt_titreroadmovie);
draw_text(view_xview +1136 ,view_yview +450 ,"TREASURE FACTION" )
draw_set_font(fnt_sfoldrepublic24);
draw_text(view_xview +1136 ,view_yview +500 ,"" +string(economierecu))
draw_set_font(fnt_titreroadmovie);
draw_text(view_xview +1136 ,view_yview +600 ,"CITIZEN" )
draw_set_font(fnt_sfoldrepublic24);
draw_text(view_xview +1136 ,view_yview +650 ,"" +string(population))
draw_set_halign(fa_left);
draw_set_font(fnt_little14);

}*/
//if global.language = 1 {
}
}else{imagespeed2 = 0
demaragepralax = 0
imagespeed = 0
imagespeed3 = 0}//}







//hh = string_height_ext(chatvisible, -1, 100);



//draw_set_halign(300);
//draw_set_valign(54);

//draw_text_ext(view_xview+ 32, 32, chatvisible, -1, 100);
//draw_text_ext(32, 32 + hh, chatvisible, -1, 100);



</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///CHAT !!!
if chatrecu = "" {}else{
endedfix = "}"


poscheckerbeta = string_pos(":", chatrecu)
linechat1 = string_char_at(chatrecu, poscheckerbeta+2)
linechat2 = string_char_at(chatrecu, poscheckerbeta+3)
//poschecker = string_pos("/", chatrecu)
//linechat1 = string_char_at(chatrecu, poschecker)
//if poschecker = 0 {//}else{ // if linechat1 = "/"
if linechat1 = "/" or linechat2 = "/"{
if linechat2 = "/" {
linechat2 = string_char_at(chatrecu, poscheckerbeta+4);
linechat3 = string_char_at(chatrecu, poscheckerbeta+5);
linechat4 = string_char_at(chatrecu, poscheckerbeta+6);
}else{
linechat2 = string_char_at(chatrecu, poscheckerbeta+3);
linechat3 = string_char_at(chatrecu, poscheckerbeta+4);
linechat4 = string_char_at(chatrecu, poscheckerbeta+5);}

lastlinecode = linechat2+linechat3+linechat4
lastlinecode2 = linechat2

//if linechat3 = "t" {}


modechatrecu = 0
commande = 0
if lastlinecode = "all" {modechatrecu = 1}
if lastlinecode = "grp" {modechatrecu = 2}
if lastlinecode = "job" {modechatrecu = 3}
if lastlinecode = "gld" {modechatrecu = 4}
//if lastlinecode = "qst" {modechatrecu = 5;}
if lastlinecode2 = "$" {modechatrecu = 3;commande = 1;}//envoi d argent
if lastlinecode2 = "!" {modechatrecu = 3;commande = 2;}//contrat
if lastlinecode2 = "?" {modechatrecu = 3;commande = 3;}//vote
if lastlinecode2 = "=" {modechatrecu = 3;commande = 4;}//vote
if lastlinecode2 = "*" {modechatrecu = 3;commande = 5;}//invit team
if lastlinecode2 = "+" {modechatrecu = 3;commande = 6;}//invit guild

//if chatrecu = "/help"{commande = -1;modechatrecu = 3; }

//obj_team
stopadd = 0//compter si y a 0 espace
//compter si le recu est bien dans un des chat de joueur team
if modechatrecu = 2 {if chatrecu2 = chatrecuvarteam2 or chatrecu2 = chatrecuvarteam1
or chatrecu2 = chatrecuvarteam3 or chatrecu2 = chatrecuvarteam4{
if chatrecu2 = "" {stopadd = 1
}}else{stopadd = 1}}

if commande = 0 {chatrecu = string_delete(chatrecu, poscheckerbeta+2, 4); }

olgt = string_length(chatrecu)//compter si y a 0 espace
if olgt &gt; 30 {ocount = string_count( " ", chatrecu ); //compter si y a 0 espace
if ocount &lt; 1 {stopadd = 1}}//compter si y a 0 espace//if ocount &lt; 4



if stopadd = 0 {
if modechatrecu = 0{}else{

//if chatreculast = chatrecu {}else{

//price end
lgthvar = string_length(chatrecu)
if commande &gt; 0 {
chatrecu = chatrecu+endedfix
if commande = 1 {infocom1 = "$";infocom2 = "@";}//envoi d argent
if commande = 2 {infocom1 = "!";infocom2 = "@";infocom3 = "t";}//contrat
if commande = 3 {infocom1 = "?";infocom2 = "c";}//vote
if commande = 4 {infocom1 = "=";infocom2 = "c";infocom3 = "v";}//vote
if commande = 5 {infocom1 = "*";infocom2 = "@";}//invit team
if commande = 6 {infocom1 = "+";infocom2 = "@";}//invit guild

poschecker3 = 0

poschecker2 = string_pos(infocom1, chatrecu)//objet 1
poschecker4 = string_pos(infocom2, chatrecu)
if commande = 2 or commande = 4 { poschecker3 = string_pos(infocom3, chatrecu)}//chercher la pose du 3 obj si y a 3
//strvar = string_delete(strvar, 1, poschecker2);
strvar = ""
strvar = string_copy(chatrecu, poschecker2+1, poschecker4-2-poschecker2);

//price end



if poschecker2 &gt; 0 &amp;&amp; poschecker4 &gt; 0{
linechat1var = string_char_at(chatrecu, poschecker2);
//choisir la commande selon les char
modechatrecu2 = 0
if linechat1var = infocom1 {modechatrecu2 = 1}
if modechatrecu2 = 1 {

if commande = 2 or commande = 4 {//si trois objet
if poschecker3 &gt; 0 {}else{stopadd = 1}//empecher si le 3 eme obj n'est pas present
destinataire = ""
destinataire = string_copy(chatrecu, poschecker4+1, poschecker3-2);
messagetri = ""
messagetri = string_copy(chatrecu, poschecker3+1, lgthvar-1);
}else{
destinataire = ""
destinataire = string_copy(chatrecu, poschecker4+1, lgthvar-1);
}

if commande = 4 {if real(messagetri) = 1 {messagetri = "yes"}else{messagetri = "no"}}//VOTE

//message d envoi $
varname = ""
varname = string_copy(chatrecu, 1,poscheckerbeta-2 );
//chatrecu = string_insert(" has send ", chatrecu, poschecker2 );

if commande = 1 {chatrecu = varname+" has send "+strvar+" @ "+destinataire}
if commande = 2 {chatrecu = varname+" has employed "+strvar+" @ "+destinataire+messagetri}
if commande = 3 {chatrecu = varname+" has vote "+strvar+" to channel "+destinataire}
if commande = 4 {chatrecu = varname+" has vote "+strvar+" to channel "+destinataire+" and vote "+messagetri}
if commande = 5 {chatrecu = varname+" has send invit team"+" @ "+destinataire}
if commande = 6 {chatrecu = varname+" has send invit guild"+" @ "+destinataire}

if commande = 1 {
if real(destinataire) = obj_zombie.idfixe {
if obj_zombie.karma &gt; 0 {obj_zombie.karma += real(strvar)}else{obj_zombie.karmaneg += real(strvar)}}
}}


}else{chatrecu = "" }}
endclean = 0

if ds_grid_get(chatgrid,0,3) = helpmessage {if ds_grid_get(chatgrid,3,3) = "" {}else{ ds_grid_set(chatgrid,0,3,"") }}//suprr du message d help si recu d autres message depuis
string_delete(chatrecu,lgthvar,1)//on enleve "}" de la fin
lgthvarfinal = string_length(chatrecu);
linechatfinal = string_char_at(chatrecu, lgthvarfinal);
if linechatfinal = "}" {string_delete(chatrecu,lgthvarfinal,3)}

/*if modechatrecu = 5 {
chatrecu = global.history
//stopadd = 0
}*/


if stopadd = 0 {
/*if chatadd[50,modechatrecu] = "" {chatadd[50,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
}else if chatadd[49,modechatrecu] = "" {chatadd[49,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[48,modechatrecu] = "" {chatadd[48,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[47,modechatrecu] = "" {chatadd[47,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[46,modechatrecu] = "" {chatadd[46,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[45,modechatrecu] = "" {chatadd[45,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[44,modechatrecu] = "" {chatadd[44,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[43,modechatrecu] = "" {chatadd[43,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[42,modechatrecu] = "" {chatadd[42,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[41,modechatrecu] = "" {chatadd[41,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[40,modechatrecu] = "" {chatadd[40,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[39,modechatrecu] = "" {chatadd[39,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[38,modechatrecu] = "" {chatadd[38,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[37,modechatrecu] = "" {chatadd[37,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[36,modechatrecu] = "" {chatadd[36,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[35,modechatrecu] = "" {chatadd[35,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[34,modechatrecu] = "" {chatadd[34,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[33,modechatrecu] = "" {chatadd[33,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[32,modechatrecu] = "" {chatadd[32,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[31,modechatrecu] = "" {chatadd[31,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[30,modechatrecu] = "" {chatadd[30,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
  }else if chatadd[29,modechatrecu] = "" {chatadd[29,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[28,modechatrecu] = "" {chatadd[28,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[27,modechatrecu] = "" {chatadd[27,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[26,modechatrecu] = "" {chatadd[26,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[25,modechatrecu] = "" {chatadd[25,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[24,modechatrecu] = "" {chatadd[24,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[23,modechatrecu] = "" {chatadd[23,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[22,modechatrecu] = "" {chatadd[22,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[21,modechatrecu] = "" {chatadd[21,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[20,modechatrecu] = "" {chatadd[20,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
  }else if chatadd[19,modechatrecu] = "" {chatadd[19,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[18,modechatrecu] = "" {chatadd[18,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[17,modechatrecu] = "" {chatadd[17,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[16,modechatrecu] = "" {chatadd[16,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[15,modechatrecu] = "" {chatadd[15,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[14,modechatrecu] = "" {chatadd[14,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[13,modechatrecu] = "" {chatadd[13,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[12,modechatrecu] = "" {chatadd[12,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[11,modechatrecu] = "" {chatadd[11,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[10,modechatrecu] = "" {chatadd[10,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
  }else if chatadd[9,modechatrecu] = "" {chatadd[9,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[8,modechatrecu] = "" {chatadd[8,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[7,modechatrecu] = "" {chatadd[7,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[6,modechatrecu] = "" {chatadd[6,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[5,modechatrecu] = "" {chatadd[5,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[4,modechatrecu] = "" {chatadd[4,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[3,modechatrecu] = "" {chatadd[3,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[2,modechatrecu] = "" {chatadd[2,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[1,modechatrecu] = "" {chatadd[1,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 }else if chatadd[0,modechatrecu] = "" {chatadd[0,modechatrecu] = chatrecu;endclean = 1//chatreculast = chatrecu 
 
 }else {*/
/*ds_grid_set(chatgrid,0,modechatrecu,ds_grid_get(chatgrid,1,modechatrecu)) //= chatadd[1,modechatrecu];//visible
ds_grid_set(chatgrid,1,modechatrecu,ds_grid_get(chatgrid,2,modechatrecu)) 
ds_grid_set(chatgrid,2,modechatrecu,ds_grid_get(chatgrid,3,modechatrecu)) 
ds_grid_set(chatgrid,3,modechatrecu,ds_grid_get(chatgrid,4,modechatrecu)) 
ds_grid_set(chatgrid,4,modechatrecu,ds_grid_get(chatgrid,5,modechatrecu)) 
ds_grid_set(chatgrid,5,modechatrecu,ds_grid_get(chatgrid,6,modechatrecu)) 
ds_grid_set(chatgrid,6,modechatrecu,ds_grid_get(chatgrid,7,modechatrecu)) 
ds_grid_set(chatgrid,7,modechatrecu,ds_grid_get(chatgrid,8,modechatrecu)) 
ds_grid_set(chatgrid,8,modechatrecu,ds_grid_get(chatgrid,9,modechatrecu)) 
ds_grid_set(chatgrid,9,modechatrecu,ds_grid_get(chatgrid,10,modechatrecu)) 
ds_grid_set(chatgrid,10,modechatrecu,ds_grid_get(chatgrid,11,modechatrecu)) 
ds_grid_set(chatgrid,11,modechatrecu,ds_grid_get(chatgrid,12,modechatrecu)) 
ds_grid_set(chatgrid,12,modechatrecu,ds_grid_get(chatgrid,13,modechatrecu)) 
ds_grid_set(chatgrid,13,modechatrecu,ds_grid_get(chatgrid,14,modechatrecu)) 
ds_grid_set(chatgrid,14,modechatrecu,ds_grid_get(chatgrid,15,modechatrecu)) 
ds_grid_set(chatgrid,15,modechatrecu,ds_grid_get(chatgrid,16,modechatrecu)) 
ds_grid_set(chatgrid,16,modechatrecu,ds_grid_get(chatgrid,17,modechatrecu)) 
ds_grid_set(chatgrid,17,modechatrecu,ds_grid_get(chatgrid,18,modechatrecu)) 
ds_grid_set(chatgrid,18,modechatrecu,ds_grid_get(chatgrid,19,modechatrecu)) 
ds_grid_set(chatgrid,19,modechatrecu,ds_grid_get(chatgrid,20,modechatrecu)) 
ds_grid_set(chatgrid,20,modechatrecu,ds_grid_get(chatgrid,21,modechatrecu)) 
ds_grid_set(chatgrid,21,modechatrecu,ds_grid_get(chatgrid,22,modechatrecu)) 
ds_grid_set(chatgrid,22,modechatrecu,ds_grid_get(chatgrid,23,modechatrecu)) 
ds_grid_set(chatgrid,23,modechatrecu,ds_grid_get(chatgrid,24,modechatrecu)) 
ds_grid_set(chatgrid,24,modechatrecu,ds_grid_get(chatgrid,25,modechatrecu)) 
ds_grid_set(chatgrid,25,modechatrecu,ds_grid_get(chatgrid,26,modechatrecu)) 
ds_grid_set(chatgrid,26,modechatrecu,ds_grid_get(chatgrid,27,modechatrecu)) 
ds_grid_set(chatgrid,27,modechatrecu,ds_grid_get(chatgrid,28,modechatrecu)) 
ds_grid_set(chatgrid,28,modechatrecu,ds_grid_get(chatgrid,29,modechatrecu)) 
ds_grid_set(chatgrid,29,modechatrecu,ds_grid_get(chatgrid,30,modechatrecu)) 
ds_grid_set(chatgrid,30,modechatrecu,ds_grid_get(chatgrid,31,modechatrecu)) 
ds_grid_set(chatgrid,31,modechatrecu,ds_grid_get(chatgrid,32,modechatrecu)) 
ds_grid_set(chatgrid,32,modechatrecu,ds_grid_get(chatgrid,33,modechatrecu)) 
ds_grid_set(chatgrid,33,modechatrecu,ds_grid_get(chatgrid,34,modechatrecu)) 
ds_grid_set(chatgrid,34,modechatrecu,ds_grid_get(chatgrid,35,modechatrecu)) 
ds_grid_set(chatgrid,35,modechatrecu,ds_grid_get(chatgrid,36,modechatrecu)) 
ds_grid_set(chatgrid,36,modechatrecu,ds_grid_get(chatgrid,37,modechatrecu)) 
ds_grid_set(chatgrid,37,modechatrecu,ds_grid_get(chatgrid,38,modechatrecu)) 
ds_grid_set(chatgrid,38,modechatrecu,ds_grid_get(chatgrid,39,modechatrecu)) 
ds_grid_set(chatgrid,39,modechatrecu,ds_grid_get(chatgrid,40,modechatrecu)) 
ds_grid_set(chatgrid,40,modechatrecu,ds_grid_get(chatgrid,41,modechatrecu)) 
ds_grid_set(chatgrid,41,modechatrecu,ds_grid_get(chatgrid,42,modechatrecu)) 
ds_grid_set(chatgrid,42,modechatrecu,ds_grid_get(chatgrid,43,modechatrecu)) 
ds_grid_set(chatgrid,43,modechatrecu,ds_grid_get(chatgrid,44,modechatrecu)) 
ds_grid_set(chatgrid,44,modechatrecu,ds_grid_get(chatgrid,45,modechatrecu)) 
ds_grid_set(chatgrid,45,modechatrecu,ds_grid_get(chatgrid,46,modechatrecu)) 
ds_grid_set(chatgrid,46,modechatrecu,ds_grid_get(chatgrid,47,modechatrecu)) 
ds_grid_set(chatgrid,47,modechatrecu,ds_grid_get(chatgrid,48,modechatrecu)) 
ds_grid_set(chatgrid,48,modechatrecu,ds_grid_get(chatgrid,49,modechatrecu)) 
ds_grid_set(chatgrid,49,modechatrecu,ds_grid_get(chatgrid,50,modechatrecu)) 
ds_grid_set(chatgrid,50,modechatrecu,ds_grid_get(chatgrid,51,modechatrecu)) 
ds_grid_set(chatgrid,51,modechatrecu,ds_grid_get(chatgrid,52,modechatrecu)) 
ds_grid_set(chatgrid,52,modechatrecu,ds_grid_get(chatgrid,53,modechatrecu)) 
ds_grid_set(chatgrid,53,modechatrecu,ds_grid_get(chatgrid,54,modechatrecu)) 
ds_grid_set(chatgrid,54,modechatrecu,ds_grid_get(chatgrid,55,modechatrecu)) 
ds_grid_set(chatgrid,55,modechatrecu,ds_grid_get(chatgrid,56,modechatrecu)) 
ds_grid_set(chatgrid,56,modechatrecu,ds_grid_get(chatgrid,57,modechatrecu)) 
ds_grid_set(chatgrid,57,modechatrecu,ds_grid_get(chatgrid,58,modechatrecu)) 
ds_grid_set(chatgrid,58,modechatrecu,ds_grid_get(chatgrid,59,modechatrecu)) 
ds_grid_set(chatgrid,59,modechatrecu,ds_grid_get(chatgrid,60,modechatrecu)) 
ds_grid_set(chatgrid,60,modechatrecu,ds_grid_get(chatgrid,61,modechatrecu)) 
ds_grid_set(chatgrid,61,modechatrecu,ds_grid_get(chatgrid,62,modechatrecu)) 
ds_grid_set(chatgrid,62,modechatrecu,ds_grid_get(chatgrid,63,modechatrecu)) 
ds_grid_set(chatgrid,63,modechatrecu,ds_grid_get(chatgrid,64,modechatrecu)) 
ds_grid_set(chatgrid,64,modechatrecu,ds_grid_get(chatgrid,65,modechatrecu)) 
ds_grid_set(chatgrid,65,modechatrecu,ds_grid_get(chatgrid,66,modechatrecu)) 
ds_grid_set(chatgrid,66,modechatrecu,ds_grid_get(chatgrid,67,modechatrecu)) 
ds_grid_set(chatgrid,67,modechatrecu,ds_grid_get(chatgrid,68,modechatrecu)) 
ds_grid_set(chatgrid,68,modechatrecu,ds_grid_get(chatgrid,69,modechatrecu)) 
ds_grid_set(chatgrid,69,modechatrecu,ds_grid_get(chatgrid,70,modechatrecu)) 
ds_grid_set(chatgrid,70,modechatrecu,ds_grid_get(chatgrid,71,modechatrecu)) 
ds_grid_set(chatgrid,71,modechatrecu,ds_grid_get(chatgrid,72,modechatrecu)) 
ds_grid_set(chatgrid,72,modechatrecu,ds_grid_get(chatgrid,73,modechatrecu)) 
ds_grid_set(chatgrid,73,modechatrecu,ds_grid_get(chatgrid,74,modechatrecu)) 
ds_grid_set(chatgrid,74,modechatrecu,ds_grid_get(chatgrid,75,modechatrecu)) 
ds_grid_set(chatgrid,75,modechatrecu,ds_grid_get(chatgrid,76,modechatrecu)) 
ds_grid_set(chatgrid,76,modechatrecu,ds_grid_get(chatgrid,77,modechatrecu)) 
ds_grid_set(chatgrid,77,modechatrecu,ds_grid_get(chatgrid,78,modechatrecu)) 
ds_grid_set(chatgrid,78,modechatrecu,ds_grid_get(chatgrid,79,modechatrecu)) 
ds_grid_set(chatgrid,79,modechatrecu,ds_grid_get(chatgrid,80,modechatrecu)) 
ds_grid_set(chatgrid,80,modechatrecu,ds_grid_get(chatgrid,81,modechatrecu)) 
ds_grid_set(chatgrid,81,modechatrecu,ds_grid_get(chatgrid,82,modechatrecu)) 
ds_grid_set(chatgrid,82,modechatrecu,ds_grid_get(chatgrid,83,modechatrecu)) 
ds_grid_set(chatgrid,83,modechatrecu,ds_grid_get(chatgrid,84,modechatrecu)) 
ds_grid_set(chatgrid,84,modechatrecu,ds_grid_get(chatgrid,85,modechatrecu)) 
ds_grid_set(chatgrid,85,modechatrecu,ds_grid_get(chatgrid,86,modechatrecu)) 
ds_grid_set(chatgrid,86,modechatrecu,ds_grid_get(chatgrid,87,modechatrecu)) 
ds_grid_set(chatgrid,87,modechatrecu,ds_grid_get(chatgrid,88,modechatrecu)) 
ds_grid_set(chatgrid,88,modechatrecu,ds_grid_get(chatgrid,89,modechatrecu)) 
ds_grid_set(chatgrid,89,modechatrecu,ds_grid_get(chatgrid,90,modechatrecu)) 
ds_grid_set(chatgrid,90,modechatrecu,ds_grid_get(chatgrid,91,modechatrecu)) 
ds_grid_set(chatgrid,91,modechatrecu,ds_grid_get(chatgrid,92,modechatrecu)) 
ds_grid_set(chatgrid,92,modechatrecu,ds_grid_get(chatgrid,93,modechatrecu)) 
ds_grid_set(chatgrid,93,modechatrecu,ds_grid_get(chatgrid,94,modechatrecu)) 
ds_grid_set(chatgrid,94,modechatrecu,ds_grid_get(chatgrid,95,modechatrecu)) 
ds_grid_set(chatgrid,95,modechatrecu,ds_grid_get(chatgrid,96,modechatrecu)) 
ds_grid_set(chatgrid,96,modechatrecu,ds_grid_get(chatgrid,97,modechatrecu)) 
ds_grid_set(chatgrid,97,modechatrecu,ds_grid_get(chatgrid,98,modechatrecu)) 
ds_grid_set(chatgrid,98,modechatrecu,ds_grid_get(chatgrid,99,modechatrecu)) 
ds_grid_set(chatgrid,99,modechatrecu,ds_grid_get(chatgrid,100,modechatrecu)) 



ds_grid_set(chatgrid,100,modechatrecu,chatrecu)*/

scr_chathistory(chatrecu,modechatrecu)

/*chatadd[1,modechatrecu] = chatadd[2,modechatrecu];
chatadd[2,modechatrecu] = chatadd[3,modechatrecu];
chatadd[3,modechatrecu] = chatadd[4,modechatrecu];
chatadd[4,modechatrecu] = chatadd[5,modechatrecu];
chatadd[5,modechatrecu] = chatadd[6,modechatrecu];
chatadd[6,modechatrecu] = chatadd[7,modechatrecu];
chatadd[7,modechatrecu] = chatadd[8,modechatrecu];
chatadd[8,modechatrecu] = chatadd[9,modechatrecu];
chatadd[9,modechatrecu] = chatadd[10,modechatrecu];//visible
chatadd[10,modechatrecu] = chatadd[11,modechatrecu];
chatadd[11,modechatrecu] = chatadd[12,modechatrecu];
chatadd[12,modechatrecu] = chatadd[13,modechatrecu];
chatadd[13,modechatrecu] = chatadd[14,modechatrecu];
chatadd[14,modechatrecu] = chatadd[15,modechatrecu];
chatadd[15,modechatrecu] = chatadd[16,modechatrecu];
chatadd[16,modechatrecu] = chatadd[17,modechatrecu];
chatadd[17,modechatrecu] = chatadd[18,modechatrecu];
chatadd[18,modechatrecu] = chatadd[19,modechatrecu];
chatadd[19,modechatrecu] = chatadd[20,modechatrecu];
chatadd[20,modechatrecu] = chatadd[21,modechatrecu];
chatadd[21,modechatrecu] = chatadd[22,modechatrecu];
chatadd[22,modechatrecu] = chatadd[23,modechatrecu];
chatadd[23,modechatrecu] = chatadd[24,modechatrecu];
chatadd[24,modechatrecu] = chatadd[25,modechatrecu];
chatadd[25,modechatrecu] = chatadd[26,modechatrecu];
chatadd[26,modechatrecu] = chatadd[27,modechatrecu];
chatadd[27,modechatrecu] = chatadd[28,modechatrecu];
chatadd[28,modechatrecu] = chatadd[29,modechatrecu];
chatadd[29,modechatrecu] = chatadd[30,modechatrecu];
chatadd[30,modechatrecu] = chatadd[31,modechatrecu];
chatadd[31,modechatrecu] = chatadd[32,modechatrecu];
chatadd[32,modechatrecu] = chatadd[33,modechatrecu];
chatadd[33,modechatrecu] = chatadd[34,modechatrecu];
chatadd[34,modechatrecu] = chatadd[35,modechatrecu];
chatadd[35,modechatrecu] = chatadd[36,modechatrecu];
chatadd[36,modechatrecu] = chatadd[37,modechatrecu];
chatadd[37,modechatrecu] = chatadd[38,modechatrecu];
chatadd[38,modechatrecu] = chatadd[39,modechatrecu];
chatadd[39,modechatrecu] = chatadd[40,modechatrecu];
chatadd[40,modechatrecu] = chatadd[41,modechatrecu];
chatadd[41,modechatrecu] = chatadd[42,modechatrecu];
chatadd[42,modechatrecu] = chatadd[43,modechatrecu];
chatadd[43,modechatrecu] = chatadd[44,modechatrecu];
chatadd[44,modechatrecu] = chatadd[45,modechatrecu];
chatadd[45,modechatrecu] = chatadd[46,modechatrecu];
chatadd[46,modechatrecu] = chatadd[47,modechatrecu];
chatadd[47,modechatrecu] = chatadd[48,modechatrecu];
chatadd[48,modechatrecu] = chatadd[49,modechatrecu];
chatadd[49,modechatrecu] = chatadd[50,modechatrecu];

chatadd[50,modechatrecu] = chatadd[51,modechatrecu];
chatadd[51,modechatrecu] = chatadd[52,modechatrecu];
chatadd[52,modechatrecu] = chatadd[53,modechatrecu];
chatadd[53,modechatrecu] = chatadd[54,modechatrecu];
chatadd[54,modechatrecu] = chatadd[55,modechatrecu];
chatadd[55,modechatrecu] = chatadd[56,modechatrecu];
chatadd[56,modechatrecu] = chatadd[57,modechatrecu];
chatadd[57,modechatrecu] = chatadd[58,modechatrecu];
chatadd[58,modechatrecu] = chatadd[59,modechatrecu];
chatadd[59,modechatrecu] = chatadd[60,modechatrecu];
chatadd[60,modechatrecu] = chatadd[61,modechatrecu];
chatadd[61,modechatrecu] = chatadd[62,modechatrecu];
chatadd[62,modechatrecu] = chatadd[63,modechatrecu];
chatadd[63,modechatrecu] = chatadd[64,modechatrecu];
chatadd[64,modechatrecu] = chatadd[65,modechatrecu];
chatadd[65,modechatrecu] = chatadd[66,modechatrecu];
chatadd[66,modechatrecu] = chatadd[67,modechatrecu];
chatadd[67,modechatrecu] = chatadd[68,modechatrecu];
chatadd[68,modechatrecu] = chatadd[69,modechatrecu];
chatadd[69,modechatrecu] = chatadd[70,modechatrecu];
chatadd[70,modechatrecu] = chatadd[71,modechatrecu];
chatadd[71,modechatrecu] = chatadd[72,modechatrecu];
chatadd[72,modechatrecu] = chatadd[73,modechatrecu];
chatadd[73,modechatrecu] = chatadd[74,modechatrecu];
chatadd[74,modechatrecu] = chatadd[75,modechatrecu];
chatadd[75,modechatrecu] = chatadd[76,modechatrecu];
chatadd[76,modechatrecu] = chatadd[77,modechatrecu];
chatadd[77,modechatrecu] = chatadd[78,modechatrecu];
chatadd[78,modechatrecu] = chatadd[79,modechatrecu];
chatadd[79,modechatrecu] = chatadd[80,modechatrecu];
chatadd[80,modechatrecu] = chatadd[81,modechatrecu];
chatadd[81,modechatrecu] = chatadd[82,modechatrecu];
chatadd[82,modechatrecu] = chatadd[83,modechatrecu];
chatadd[83,modechatrecu] = chatadd[84,modechatrecu];
chatadd[84,modechatrecu] = chatadd[85,modechatrecu];
chatadd[85,modechatrecu] = chatadd[86,modechatrecu];
chatadd[86,modechatrecu] = chatadd[87,modechatrecu];
chatadd[87,modechatrecu] = chatadd[88,modechatrecu];
chatadd[88,modechatrecu] = chatadd[89,modechatrecu];
chatadd[89,modechatrecu] = chatadd[90,modechatrecu];
chatadd[90,modechatrecu] = chatadd[91,modechatrecu];
chatadd[91,modechatrecu] = chatadd[92,modechatrecu];
chatadd[92,modechatrecu] = chatadd[93,modechatrecu];
chatadd[93,modechatrecu] = chatadd[94,modechatrecu];
chatadd[94,modechatrecu] = chatadd[95,modechatrecu];
chatadd[95,modechatrecu] = chatadd[96,modechatrecu];
chatadd[96,modechatrecu] = chatadd[97,modechatrecu];
chatadd[97,modechatrecu] = chatadd[98,modechatrecu];
chatadd[98,modechatrecu] = chatadd[99,modechatrecu];
chatadd[99,modechatrecu] = chatadd[100,modechatrecu];
chatadd[100,modechatrecu] = chatrecu;*/
//chatadd[10,modechatrecu] = chatadd[50,modechatrecu];



//chatreculast = chatrecu 
//}


}//if stopadd = 0 { DEUXIEME POUR EMPECHER SI LE 3 EME OBJ OU AUTRES N EST PAS PRESENT
endclean = 1
//}
}}
}

//strlgth = string_length(chatrecu)+string_length(chatvisible)

//chatvisible = string_insert("#" +string(chatrecu), chatvisible, strlgth+1);
if endclean = 1 {
chatrecu2 = ""
chatrecu = ""
chatrecuvarteam1 = ""
chatrecuvarteam2 = ""
chatrecuvarteam3 = ""
chatrecuvarteam4 = ""
destinataire = ""
strvar = ""
strvar2 = ""
strvar3 = ""
strvar4 = ""
varname = ""
messagetri = ""}
}

if obj_team.joueurtotal &gt; 1 &amp;&amp; modechat = 2 {
chatvisible = obj_team.joueurchat1+"#"+obj_team.joueurchat2+"#"+obj_team.joueurchat3+"#"+obj_team.joueurchat4+"#"+
//chatadd[0+modechat9,modechat]+"#"+chatadd[1+modechat9,modechat]+"#"+chatadd[2+modechat9,modechat]+"#"+chatadd[3+modechat9,modechat]

ds_grid_get(chatgrid,393-modechat9,modechat)+"#"+ds_grid_get(chatgrid,394-modechat9,modechat)+"#"+ds_grid_get(chatgrid,395-modechat9,modechat)
+"#"+ds_grid_get(chatgrid,396-modechat9,modechat)+"#"+ds_grid_get(chatgrid,397-modechat9,modechat)+"#"+ds_grid_get(chatgrid,398-modechat9,modechat)
+"#"+ds_grid_get(chatgrid,399-modechat9,modechat)+"#"+ds_grid_get(chatgrid,400-modechat9,modechat)

/*+"#"+chatadd[43-modechat9,modechat]+"#"+chatadd[44-modechat9,modechat]+"#"+chatadd[45-modechat9,modechat]+"#"+chatadd[46-modechat9,modechat]
+"#"+chatadd[47-modechat9,modechat]+"#"+chatadd[48-modechat9,modechat]+"#"+chatadd[49-modechat9,modechat]+"#"+chatadd[50-modechat9,modechat]*/
}else{
chatvisible = /*chatadd[40-modechat9,modechat]+"#"+chatadd[41-modechat9,modechat]+"#"+chatadd[42-modechat9,modechat]
+"#"+chatadd[43-modechat9,modechat]+"#"+chatadd[44-modechat9,modechat]+"#"+*//*chatadd[45-modechat9,modechat]+"#"+chatadd[46-modechat9,modechat]
+"#"+chatadd[47-modechat9,modechat]+"#"+chatadd[48-modechat9,modechat]+"#"+chatadd[49-modechat9,modechat]+"#"+chatadd[50-modechat9,modechat]*/
/*string(395-modechat9)+" - "+*/string(ds_grid_get(chatgrid,395-modechat9,modechat))+"#"+
/*string(396-modechat9)+" - "+*/string(ds_grid_get(chatgrid,396-modechat9,modechat))+"#"+
/*string(397-modechat9)+" - "+*/string(ds_grid_get(chatgrid,397-modechat9,modechat))+"#"+
/*string(398-modechat9)+" - "+*/string(ds_grid_get(chatgrid,398-modechat9,modechat))+"#"+
/*string(399-modechat9)+" - "+*/string(ds_grid_get(chatgrid,399-modechat9,modechat))+"#"+
/*string(400-modechat9)+" - "+*/string(ds_grid_get(chatgrid,400-modechat9,modechat))
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="79">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string></string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="39">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if modechat &lt; 6 {modechat += 1}else{modechat = 1}
obj_nightcycle.alarm[6] = 500
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="37">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>obj_nightcycle.alarm[6] = 500
if modechat &gt; 1 {modechat -= 1}else{modechat = 6}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="27">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>ilaunch = 0
if instance_exists(obj_buttoneconomie){with(obj_buttoneconomie){instance_destroy();}}

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
