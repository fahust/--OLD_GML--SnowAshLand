<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_npc2</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>blablaphrases = ""
alphadecalstext = 0
name = ""

name = "Salome Aton"
nameia = "Salome Aton"

yvisi = 0
xvisi = 0
soundtap = 0
xxdebut = 0
yydebut = 0
xxend = 0
yyend = 0
xxmovestep = 0
yymovestep = 0
movepiedvitessetest = 0

alphatuto1 = 0
alphatuto2 = 0
alphadecalstext = 0
tuto = 0
proposition = 20
partage = 360/proposition
/*var i;
 for (i = 0; i &lt; proposition; i += 1)
    {
    //UN CERCLE MOIN DE 10 QUESTION
    if proposition &lt; 10 {
    xx[i] = x+lengthdir_x(150,partage*i)
    yy[i] = y+lengthdir_y(150,partage*i)
    }else{
    //POUR AVOIR DEUX CERCLE
    if i &lt; 10 {
    xx[i] = x+lengthdir_x(150,(partage*2)*i)
    yy[i] = y+lengthdir_y(150,(partage*2)*i)
    }else{
    xx[i] = x+lengthdir_x(250,(partage*2)*i)
    yy[i] = y+lengthdir_y(250,(partage*2)*i)
}
}
}*/
blablasplit2 = ""
varstr2 = ""


mode2 = 7
blablaphrases = ""
animwalk = 0

path = path_add();

mx = 3776
my = 1568

blablaquestnow = 0
timequest = 0
blablasplit[0] = ""
blablasplit[1] = ""
blablasplit[2] = ""
blablasplit[3] = ""
blablasplit[4] = ""
blablasplit[5] = ""
blablasplit[6] = ""
blablasplit[7] = ""
blablasplit[8] = ""
blablasplit[9] = ""
blablasplit[10] = ""
blablasplit[11] = ""
blablasplit[12] = ""
blablasplit[13] = ""
blablasplit[14] = ""
blablasplit[15] = ""
blablasplit[16] = ""
blablasplit[17] = ""
blablasplit[18] = ""
blablasplit[19] = ""
blablasplit[20] = ""
blablasplit[21] = ""
blablasplit[22] = ""
blablasplit[23] = ""
blablasplit[24] = ""
blablasplit[25] = ""
blablasplit[26] = ""
blablasplit[27] = ""
blablasplit[28] = ""
blablasplit[29] = ""
blablasplit[30] = ""
blablasplit[31] = ""
blablasplit[32] = ""
blablasplit[33] = ""
blablasplit[34] = ""
blablasplit[35] = ""
blablasplit[36] = ""
blablasplit[37] = ""
blablasplit[38] = ""
blablasplit[39] = ""
blablasplit[40] = "" 
blablasplit[41] = ""
blablasplit[42] = ""
blablasplit[43] = ""
blablasplit[44] = ""
blablasplit[45] = ""
blablasplit[46] = ""
blablasplit[47] = ""
blablasplit[48] = ""
blablasplit[49] = ""
blablasplit[50] = "" 
splitquest = 0

varmx[0] = 4960
varmy[0] = 3968
varmx[1] = 4960
varmy[1] = 3968
varmx[2] = 4960
varmy[2] = 3968
varmx[3] = 7456
varmy[3] = 3936
varmx[4] = 7968
varmy[4] = 5728
varmx[5] = 10400
varmy[5] = 6752
varmx[6] = 8672
varmy[6] = 8384
varmx[7] = 5376
varmy[7] = 7616
varmx[8] = 1984
varmy[8] = 5056
varmx[9] = 1984
varmy[9] = 5056
varmx[10] = 1984
varmy[10] = 5056
varmx[11] = 5984
varmy[11] = 9952
varmx[12] = 6400
varmy[12] = 10688
varmx[13] = 6016
varmy[13] = 11328
varmx[14] = 7392
varmy[14] = 10784
varmx[15] = 6656
varmy[15] = 12576
varmx[16] = 7072
varmy[16] = 13184
varmx[17] = 6144
varmy[17] = 14112
varmx[18] = 4960
varmy[18] = 3968
varmx[19] = 4960
varmy[19] = 3968
if global.language = 1 {

varstr = "Salut toi, t'es un des nouveau, je suppose, je fais des visites guidée pour 10 karma
$Tu as certainement compris qu'ici, c'était l'avant-poste des taudis.
$Tu y trouveras des missions, des marchands. 
$Les taudis-est et la gare des taudis se trouvent dans cette direction, mais c'est dangereux, prends garde.
$Ici, c'est le bar des taudis, des mercenaires et voyageur y trainent souvent.
$Juste la, c'est l'arrêt de train des taudis centre, tu pourras prendre le train en destination des autres quartiers des taudis
$La, c'est le magasin de March, ils s'y trouvent de bons marchant
$Ici une zone pour les gens du voyage 
$Et ici les zones de culture des taudis centre, tu peux y prendre des plantes 
$Mais si tu en prends trop sans planter derrière alors tu épuiseras les serres
$Retournons un peu dans le centre.
$Ici, se trouve des tables de craft.
$Ici, se trouve un vendeur de ressources, ils sont le lien entre l'économie et les citoyens.
$Ici, tu y trouveras un fabricateur d'armure.
$Et la, un fabricateur d'arme
$À cet endroit, se trouve un marchand d'objet.
$Et un autre bar ici pour te permettre de faire des cocktails
$Et voilà finalement la mairie, je te laisse ici, j'espère t'avoir était utile
$"
}else{
varstr = "Hi, you're one of the new guys, I guess, I do guided tours for 10 karma
$You certainly understood that this was the outpost of the slums.
$You'll find missions, merchants. 
$The eastern slums and the slum station are in this direction, but it's dangerous, be careful.
$This is the bar of slums, mercenaries and travellers often hang out here.
$Right there, it's the central slum train stop, you can take the train to the other slum districts
$This is March's store, there are good merchants there.
$Here is an area for travellers 
$And here are the cultivation areas of the central slums, where you can take plants 
$But if you take too much without planting behind then you will exhaust the greenhouses
$Let's go back to the centre for a while.
$Here, there are craft tables.
$Here, there is a resource seller, they are the link between the economy and citizens.
$Here you will find an armor maker.
$And now, a weapon maker
$There is an object dealer there.
$And another bar here to allow you to make cocktails
$And here it is finally the town hall, I'll leave you here, I hope I was useful to you.
"

/*"You finally wake up, please take your basic equipment in the trunk, we'll talk more seriously after 
$You are equipped, I am your guide in this new life, my name is Eliot Sarel 
$Forgive us for allowing ourselves to take you back to this icy world, but we found your cellular data in an old register from the old world 
$We thought that if there was a backup, it was because you wanted to live ,and in these troubled times every help is welcome 
$We were able to restore your body, but not your memory, but you seem to have kept all your abilities and reflexes 
$The rest should come back soon, let's go to the room to quote, we'll start the bases 
$You'll have to be careful to take care of your new body at all times.
$Your HUD should display at the bottom left your most vital information such as hunger, thirst, health, and body temperature 
$By pressing'I' you can see the information in more detail, about the functions of your organization and all your personal information 
$Such as your weapons, your different armor pieces, your ranks and occupation, your different resistance to the elements, and your reputation 
$This world is hostile, and every good advice is a precious friend, we'll start by working on the shooting 
$Take your assault rifle with'F3' and shoot me some bullets at these training dummies 
$You can aim off more easily with a right click, it will be useful to you either in 
$Know that you have an electro-nanite gun with'F1' that will allow you to paralyze the'connected' like us 
$You can also change the type of weapon with the mouse wheel.
$All his weapons are in your bag, you can pick up anything that might be useful to your survival.
$Where to exchange it for a good hot meal on loan from the merchants 
$Look in this trunk, for example, I'm sure I left a few things there.
                                             $
$You found my axe, you can carry a melee weapon on your belt, with some of them, you can mine, with an axe, you can cut trees by selecting it with it's 
$Besides, the ephemeral faction will only attack you if you hold a gun in your hand, they're slightly technophobic 
$So I advise you to put your weapons out there and if a reaper comes to attack you while you have a job as a citizen 
$He'd be immediately wanted with a bonus on his head 
$It is good to know a little about the functioning and rules of the different factions before letting you run in the frozen plains 
$And you must absolutely avoid reapers, it's an organized faction that makes terror reign on the territory 
$As for us, the patrollers have been fighting them for more than a hundred years, we are the guardians of the last trace of civilization in this world.
$We strive to maintain order and some equality, but times are tough 
$You should know that everything here works by karma, it's both our currency and our reputation 
$And if you end up with nothing left in your pocket, then we won't be able to feed you with what little money we have left.
$You have to do it on your own, it would be good for you to start by helping citizens, or recovering resources 
$But don't go too far, even slums are not a totally safe place.
$You can also join the members of our faction the patrollers, we still need motivated volunteers 
$But you're going to have to prove yourself first, because this world is new to you, and it's going to bring you some bad surprises.
$Come on, make me a little sprint to the room below by pressing'shift' 
$Here is a craft workshop, you will be able to make ammunition, care, and even building modules that you will be able to place outside 
$But you'll need a sledgehammer, and the resources to make it 
$There was also some gunpowder in the trunk, it will allow you to crack some ammunition, but also to make a fire 
$Drop 3 gunpowder and 5 woods, you take a melee weapon, you hit it and it should make you a fire, with which you can warm up, fill your water stocks or simmer a small hot dish 
$Also, if you manage to get lost despite the signs at each end of the area you will still be able to look at your radar at the top left of your screen, it will show you the exits
$And if you have recharged well with'R', but you obviously still have no ball, you can attack with your hunting knife with the central button of the mouse
$Don't forget to put your stuff in your personal safe (black chest) so that if you get neutralized, you won't lose all your equipment.
$Oh yes, and the slum mayor asked to see you, he's in the junction between the south and north slums, in a building to the south.
$I think I gave you the basics, we'll see you soon, if you need advice, I'll be here $$
"*/


}
string_split2(varstr)

//FRANCAIS
/*if global.language = 1 {
scr_langfr();
//NEERLANDAIS
}else if global.language = 3 {
scr_langnrlds();

//ESPAGNOL
}else if global.language = 4 {
scr_langspain();
//ITALIEN
}else if global.language = 5 {
scr_langita();

//ALLEMAND
}else if global.language = 6 {
scr_langdeutch();
//ANGLAIS
}else{//LANGUAGE 2
scr_langenglish();
}*/

alarm[1] = 3
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//DEMARAGE
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if alarm[4] &gt; 0 {}else{






xxend = x
yyend = y

if xxend = xxdebut {
xxmovestep = 0
}else{
if xxend &lt; xxdebut {
soundtap += 1
xxmovestep = (xxdebut - xxend)
}else{
soundtap += 1
xxmovestep = (xxend - xxdebut)
}
}

if yyend = yydebut {
yymovestep = 0
}else{
if yyend &lt; yydebut {
soundtap += 1
xxmovestep = (yydebut - yyend)
}else{
soundtap += 1
yymovestep = (yyend - yydebut)
}

}

if point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; 900 {
if soundtap  &gt; 25 {aleatsoundmarche = choose(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15)
soundtap = 0
/*if point_distance(x,y,obj_zombie.x,obj_zombie.y) &gt;= 400 {
audio_sound_gain(snd_marche1, 0.4, 0);
audio_sound_gain(snd_marche2, 0.4, 0);
audio_sound_gain(snd_marche3, 0.4, 0);
audio_sound_gain(snd_marche4, 0.4, 0);
audio_sound_gain(snd_marche5, 0.4, 0);
audio_sound_gain(snd_marche6, 0.4, 0);
audio_sound_gain(snd_marche7, 0.4, 0);
audio_sound_gain(snd_marche8, 0.4, 0);
audio_sound_gain(snd_marche9, 0.4, 0);
audio_sound_gain(snd_marche10, 0.4, 0);
audio_sound_gain(snd_marche11, 0.4, 0);
audio_sound_gain(snd_marche12, 0.4, 0);
audio_sound_gain(snd_marche13, 0.4, 0);
audio_sound_gain(snd_marche14, 0.4, 0);
audio_sound_gain(snd_marche15, 0.4, 0);}
if point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; 400 {
audio_sound_gain(snd_marche1, 0.8, 0);
audio_sound_gain(snd_marche2, 0.8, 0);
audio_sound_gain(snd_marche3, 0.8, 0);
audio_sound_gain(snd_marche4, 0.8, 0);
audio_sound_gain(snd_marche5, 0.8, 0);
audio_sound_gain(snd_marche6, 0.8, 0);
audio_sound_gain(snd_marche7, 0.8, 0);
audio_sound_gain(snd_marche8, 0.8, 0);
audio_sound_gain(snd_marche9, 0.8, 0);
audio_sound_gain(snd_marche10, 0.8, 0);
audio_sound_gain(snd_marche11, 0.8, 0);
audio_sound_gain(snd_marche12, 0.8, 0);
audio_sound_gain(snd_marche13, 0.8, 0);
audio_sound_gain(snd_marche14, 0.8, 0);
audio_sound_gain(snd_marche15, 0.8, 0);
}*/
if aleatsoundmarche = 1 {audio_play_sound_at(snd_marche1, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 2 {audio_play_sound_at(snd_marche2, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 3 {audio_play_sound_at(snd_marche3, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 4 {audio_play_sound_at(snd_marche4, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 5 {audio_play_sound_at(snd_marche5, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 6 {audio_play_sound_at(snd_marche6, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 7 {audio_play_sound_at(snd_marche7, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 8 {audio_play_sound_at(snd_marche8, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 9 {audio_play_sound_at(snd_marche9, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 10 {audio_play_sound_at(snd_marche10, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 11 {audio_play_sound_at(snd_marche11, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 12 {audio_play_sound_at(snd_marche12, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 13 {audio_play_sound_at(snd_marche13, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 14 {audio_play_sound_at(snd_marche14, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
if aleatsoundmarche = 15 {audio_play_sound_at(snd_marche15, x, y,0,global.falloff_ref, global.falloff_max, 1, false, 1);}
}}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_speed = 1


//room133


if alphatuto1 &gt; 0 {alphatuto1 -= 0.01}
if alphatuto2 &gt; 0 {alphatuto2 -= 0.01}




//if obj_zombie.tutofinishedsure = 0 {

/*if blablaphrases = "" &amp;&amp; splitquest &gt; 40 {obj_zombie.tutofinishedsure = 1;
instance_create(x,y,obj_hudtuto);
}*/


if point_distance(x,y,varmx[splitquest],varmy[splitquest]) &gt; 10 {//blablaphrases = ""
if (mp_grid_path(global.grid, path, x, y,varmx[splitquest] , varmy[splitquest] ,2))  {
//path_end();
image_angle = direction
nopepassed = 1
path_start(path, 5*1.2 , path_action_stop, 1);
}
}else{

if point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; 300 {
strlgt = string_length(blablasplit[splitquest])
if blablasplit[splitquest] = "" {}else{
if splitquest &lt; 45 {//if splitquest = 0 or splitquest = 17 or nopepassed = 1 or splitquest = 11 {}else{
if timequest &lt; strlgt*4 {timequest += 0.5}else{timequest = 0;splitquest += 1 }}}//}
blablaphrases = blablasplit[splitquest]
//show_message(splitquest)
//1 ere etape


//2eme etape
/*if point_distance(x,y,varmx[splitquest],varmy[splitquest]) &gt; 10 &amp;&amp; splitquest &gt; 33 {//blablaphrases = ""
if (mp_grid_path(global.grid, path, x, y,varmx[splitquest] , varmy[splitquest] ,2))  {

//path_end();
image_angle = direction
nopepassed = 1
path_start(path, 4*1.3 , path_action_stop, 1);
}
}else{if splitquest &gt; 32 {image_angle = point_direction(x,y,obj_zombie.x,obj_zombie.y)}}*/

//passer avec e
if splitquest &lt; 45 {
if blablaphrases = "" {}else{if keyboard_check_pressed(ord("E")) {splitquest += 1;timequest = 0;}}
}

}else{blablaphrases = ""}


image_angle = point_direction(x,y,obj_zombie.x,obj_zombie.y)}






/*

}else{




if point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; 300 {

if keyboard_check_pressed(ord("E")) {splitquest += 1;timequest = 0;}

if keyboard_check_pressed(ord('E')){
var i;
 for (i = 0; i &lt; proposition; i += 1)
    {if point_distance(mouse_x,mouse_y,xx[i],yy[i]) &lt; 17 {
    string_split2(obj_quest.varstr2[i])
    splitquest = 0;timequest = 0;blablaphrases = ""
}}
}


image_angle = point_direction(x,y,obj_zombie.x,obj_zombie.y)

strlgt = string_length(blablasplit[splitquest])
if blablasplit[splitquest] = ""{
blablaphrases = ""
timequest = 0
splitquest = 0
blablasplit[0] = "";blablasplit[1] = "";blablasplit[2] = "";blablasplit[3] = "";blablasplit[4] = "";blablasplit[5] = "";blablasplit[6] = "";blablasplit[7] = "";blablasplit[8] = "";blablasplit[9] = ""
blablasplit[10] = "";blablasplit[11] = "";blablasplit[12] = "";blablasplit[13] = "";blablasplit[14] = "";blablasplit[15] = "";blablasplit[16] = "";blablasplit[17] = "";blablasplit[18] = "";blablasplit[19] = ""
blablasplit[20] = "";blablasplit[21] = "";blablasplit[22] = "";blablasplit[23] = "";blablasplit[24] = "";blablasplit[25] = "";blablasplit[26] = "";blablasplit[27] = "";blablasplit[28] = "";blablasplit[29] = ""
blablasplit[30] = "";blablasplit[31] = "";blablasplit[32] = "";blablasplit[33] = "";blablasplit[34] = "";blablasplit[35] = "";blablasplit[36] = "";blablasplit[37] = "";blablasplit[38] = "";blablasplit[39] = ""
blablasplit[40] = "" ;blablasplit[41] = "";blablasplit[42] = "";blablasplit[43] = "";blablasplit[44] = "";blablasplit[45] = "";blablasplit[46] = "";blablasplit[47] = "";blablasplit[48] = "";blablasplit[49] = "";
blablasplit[50] = "" 
}else{

if timequest &lt; strlgt*4 {timequest += 0.5}else{timequest = 0;splitquest += 1 }
blablaphrases = blablasplit[splitquest]}








}else{splitquest = 0;timequest = 0;blablaphrases = "";
blablasplit[0] = "";blablasplit[1] = "";blablasplit[2] = "";blablasplit[3] = "";blablasplit[4] = "";blablasplit[5] = "";blablasplit[6] = "";blablasplit[7] = "";blablasplit[8] = "";blablasplit[9] = ""
blablasplit[10] = "";blablasplit[11] = "";blablasplit[12] = "";blablasplit[13] = "";blablasplit[14] = "";blablasplit[15] = "";blablasplit[16] = "";blablasplit[17] = "";blablasplit[18] = "";blablasplit[19] = ""
blablasplit[20] = "";blablasplit[21] = "";blablasplit[22] = "";blablasplit[23] = "";blablasplit[24] = "";blablasplit[25] = "";blablasplit[26] = "";blablasplit[27] = "";blablasplit[28] = "";blablasplit[29] = ""
blablasplit[30] = "";blablasplit[31] = "";blablasplit[32] = "";blablasplit[33] = "";blablasplit[34] = "";blablasplit[35] = "";blablasplit[36] = "";blablasplit[37] = "";blablasplit[38] = "";blablasplit[39] = ""
blablasplit[40] = "" ;blablasplit[41] = "";blablasplit[42] = "";blablasplit[43] = "";blablasplit[44] = "";blablasplit[45] = "";blablasplit[46] = "";blablasplit[47] = "";blablasplit[48] = "";blablasplit[49] = "";
blablasplit[50] = "" }
*/

//}//



</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string></string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//draw_self();


//image_speed = 0.5+random(0.3)/global.varfpsmax

//if mode = 1 {visible = false}//faire disparaitre si objet interaction
//obj_nightcycle//scr_nameia

framepied = 1

/*if not xxmovestep = 0 {
movepiedvitessetest += (xxmovestep /4)
}else if not yymovestep = 0 {
movepiedvitessetest += (yymovestep /4)
}else{
movepiedvitessetest = 0
}*/
if point_distance(x,y,varmx[splitquest],varmy[splitquest]) &gt; 10 {
movepiedvitessetest += 1
}else{movepiedvitessetest = 0}
draw_sprite_ext(spr_walk,movepiedvitessetest,x,y+lengthdir_y(8,image_angle-40),0.85,0.85,image_angle,c_white,image_alpha)


if mode2 = 1 {sprite_index = spr_mineur}
if mode2 = 2 {sprite_index = spr_mineur2}
if mode2 = 3 {sprite_index = spr_mineur3}
if mode2 = 4 {sprite_index = spr_bigprawler}
if mode2 = 5 {sprite_index = spr_prawler}
if mode2 = 6 {sprite_index = spr_npc2}
if mode2 = 7 {sprite_index = spr_npc3}
if mode2 = 8 {sprite_index = spr_npc4}
if mode2 = 9 {sprite_index = spr_npc5}
if mode2 = 10 {sprite_index = spr_npc6}
if mode2 = 11 {sprite_index = spr_npc7}
if mode2 = 12 {sprite_index = spr_npc9}
if mode2 = 13 {sprite_index = spr_npc10}
image_xscale = 1
image_yscale = 1
//image_index = animwalk/2
draw_sprite_ext(sprite_index,image_index,x,y,1,1,image_angle,c_white,image_alpha)

if mode2 &lt; 6 {
if headskin = 1 {
draw_sprite_ext(spr_head1,image_index,x,y,0.75,0.75,image_angle,c_white,image_alpha)}
if headskin = 2 {
draw_sprite_ext(spr_head2,image_index,x,y,0.8,0.8,image_angle,c_white,image_alpha)}
if headskin = 3 {
draw_sprite_ext(spr_head3,image_index,x,y,0.7,0.7,image_angle,c_white,image_alpha)}
if headskin = 4 {
draw_sprite_ext(spr_head4,image_index,x,y,0.75,0.75,image_angle,c_white,image_alpha)}
if headskin = 5 {
draw_sprite_ext(spr_head5,image_index,x,y,0.65,0.65,image_angle,c_white,image_alpha)}
if headskin = 6 {
draw_sprite_ext(spr_head6,image_index,x,y,0.7,0.7,image_angle,c_white,image_alpha)}
if headskin = 7 {
draw_sprite_ext(spr_head7,image_index,x,y,0.6,0.6,image_angle,c_white,image_alpha)}
if headskin = 8 {
draw_sprite_ext(spr_head8,image_index,x,y,0.7,0.7,image_angle,c_white,image_alpha)}
if headskin = 9 {
draw_sprite_ext(spr_head9,image_index,x,y,0.65,0.65,image_angle,c_white,image_alpha)}
if headskin = 10 {
draw_sprite_ext(spr_head10,image_index,x,y,0.75,0.75,image_angle,c_white,image_alpha)}
if headskin = 11 {
draw_sprite_ext(spr_head11,image_index,x,y,0.70,0.70,image_angle,c_white,image_alpha)}
if headskin = 12 {
draw_sprite_ext(spr_head12,image_index,x,y,0.70,0.70,image_angle,c_white,image_alpha)}
if headskin = 13 {
draw_sprite_ext(spr_head13,image_index,x,y,0.70,0.70,image_angle,c_white,image_alpha)}
if headskin = 14 {
draw_sprite_ext(spr_head14,image_index,x,y,0.65,0.65,image_angle,c_white,image_alpha)}
if headskin = 15 {
draw_sprite_ext(spr_head15,image_index,x,y,0.65,0.65,image_angle,c_white,image_alpha)}
if headskin = 16 {
draw_sprite_ext(spr_head16,image_index,x,y,0.65,0.65,image_angle,c_white,image_alpha)}
if headskin = 17 {
draw_sprite_ext(spr_head17,image_index,x,y,0.65,0.65,image_angle,c_white,image_alpha)}
if headskin = 18 {
draw_sprite_ext(spr_head18,image_index,x,y,0.70,0.70,image_angle,c_white,image_alpha)}
}

/*blablaquestnow = 0
if is_undefined(ds_grid_get(obj_quest.questgrid,20, quest)) {}else{
if ds_grid_get(obj_quest.questgrid,7, quest) &lt;= obj_zombie.level 
{//
if ds_grid_get(obj_quest.questgrid,10, quest) = 1 {
if point_distance(x,y,mouse_x,mouse_y) &lt; 70 {

blablaquestnow = 1
image_angle = point_direction(x,y,obj_zombie.x,obj_zombie.y)
//first = string_split2("/",ds_grid_get(obj_quest.questgrid,9, false)
varstr = ds_grid_get(obj_quest.questgrid,20, quest)
string_split2(varstr)
strlgt = string_length(blablasplit[splitquest])
if blablasplit[splitquest] = "" {}else{
if keyboard_check_pressed(ord("E")) {splitquest += 1;timequest = 0;}
if timequest &lt; strlgt*4 {timequest += 1}else{timequest = 0;splitquest += 1 }}
blablaphrases = blablasplit[splitquest]
if blablaphrases = "" {
}
}

}}}

//draw_circle_colour(x,y,130,c_red,c_red,false)
if ds_grid_get(obj_quest.questgrid, 10, quest) = 1 {//quete lancer et pas encore fini
if ds_grid_get(obj_quest.questgrid, 7, quest) &lt;= obj_zombie.level {
if obj_zombie.karma &gt; 0 &amp;&amp; ds_grid_get(obj_quest.questgrid, 18, quest) = 1 {


if point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; 130 &amp;&amp; blablaphrases = "" &amp;&amp;  point_distance(x,y,mouse_x,mouse_y) &lt; 70  {
if scr_itemcheck(ds_grid_get(obj_quest.questgrid,21,quest)) &gt;= ds_grid_get(obj_quest.questgrid,17,quest) {
if global.language = 1 {obj_cursor.infoall = "Appuie sur 'E' pour interagir"}else
if global.language = 2 {obj_cursor.infoall = "Push 'E' to interact"}
}else{
if global.language = 1 {obj_cursor.infoall = "Vous n'avez pas rempli les conditions"}else
if global.language = 2 {obj_cursor.infoall = "You did not achieved the conditions"}
}

//if keyboard_check_pressed(ord("E")) {show_message(ds_grid_get(obj_quest.questgrid,21,quest))}
if keyboard_check_pressed(ord("E")) &amp;&amp; scr_itemcheck(ds_grid_get(obj_quest.questgrid,21,quest)) &gt;= ds_grid_get(obj_quest.questgrid,17,quest) {
repeat(ds_grid_get(obj_quest.questgrid,17,quest)) {scr_itemdrop(ds_grid_get(obj_quest.questgrid,21,quest))}
obj_zombie.karma += ds_grid_get(obj_quest.questgrid,5, quest)
if ds_grid_get(obj_quest.questgrid,32, quest) = "" {}else{
obj_nightcycle.walkienow = ds_grid_get(obj_quest.questgrid,32, quest)}
with(instance_create(obj_zombie.x,obj_zombie.y,obj_lootobj)){itemloot = ds_grid_get(obj_quest.questgrid,6, other.quest)}
ds_grid_set(obj_quest.questgrid, 10, quest,2)//VALIDER LA QUETE
ds_grid_set(obj_quest.questgrid, 19, quest,4)//la mêttre dans les quetes fini
if ds_grid_get(obj_quest.questgrid, 30, quest) = "" or ds_grid_get(obj_quest.questgrid, 30, quest) &lt;= 0 {}else{ 
ds_grid_set(obj_quest.questgrid, 10, ds_grid_get(obj_quest.questgrid, 30, quest),1)}//ajouter la prochainequestprincipal
with(obj_infoloot){//ET EN DONNER L INFO
ds_map_add(lootinfods,string(0),"Quest finished : "
+string(ds_grid_get(obj_quest.questgrid,3, other.quest)))
alarmloot[0] = 800
ds_map_add(lootinfods,string(1),"Reward K : "
+string(ds_grid_get(obj_quest.questgrid,5, other.quest)))
alarmloot[1] = 800
/*ds_map_add(lootinfods,string(2),"Quest finished : "
+string(ds_grid_get(obj_quest.questgrid,6, other.quest)))
alarmloot[2] = 800*/
    
    //}
/*if obj_quest.questactivenow[mode] = 1 {
if instance_exists(obj_enemy2){}else{if mode = 1 {obj_quest.questask[mode] = 100}}
if mode = 2 {obj_quest.questask[mode] = 100}
}*///on active qd il est proche
/*}}

}else if obj_zombie.karma &lt;= 0 &amp;&amp; ds_grid_get(obj_quest.questgrid, 18, quest) = 2 {

//if ds_grid_get(obj_quest.questgrid, 10, quest) = 1 {draw_sprite(spr_interoquest,0,x,y)}
//if ds_grid_get(obj_quest.questgrid, 10, quest) = 2 {draw_sprite(spr_validerquest,0,x,y)}

if point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; 130 {
if instance_exists(obj_questinfo){}else{
splitquest = 0
questinfovar = ds_grid_get(obj_quest.questgrid,3,quest)
with(instance_create(x,y,obj_questinfo)){
questinfovar = other.questinfovar
finished = 1
}
if global.language = 1 {obj_cursor.infoall = "Appuie sur 'E' pour interagir"}else
if global.language = 2 {obj_cursor.infoall = "Push 'E' to interact"}
if keyboard_check_pressed(ord("E")) &amp;&amp; scr_itemcheck(ds_grid_get(obj_quest.questgrid,21,quest)) &gt;= ds_grid_get(obj_quest.questgrid,17,quest) {
repeat(ds_grid_get(obj_quest.questgrid,17,quest)) {scr_itemdrop(ds_grid_get(obj_quest.questgrid,21,quest))}
ds_grid_set(obj_quest.questgrid, 10, quest,2)//VALIDER LA QUETE
ds_grid_set(obj_quest.questgrid, 19, quest,4)//la mêttre dans les quetes fini
if ds_grid_get(obj_quest.questgrid, 30, quest) = "" or ds_grid_get(obj_quest.questgrid, 30, quest) &lt;= 0 {}else{ 
ds_grid_set(obj_quest.questgrid, 10, ds_grid_get(obj_quest.questgrid, 30, quest),1)}//ajouter la prochainequestprincipal
obj_zombie.karma -= ds_grid_get(obj_quest.questgrid,5, other.quest)
with(obj_infoloot){//ET EN DONNER L INFO
ds_map_add(lootinfods,string(0),"Quest finished : "
+string(ds_grid_get(obj_quest.questgrid,3, other.quest)))
alarmloot[0] = 800
ds_map_add(lootinfods,string(1),"Reward K : "
+string(ds_grid_get(obj_quest.questgrid,5, other.quest)))
alarmloot[1] = 800
/*ds_map_add(lootinfods,string(2),"Quest finished : "
+string(ds_grid_get(obj_quest.questgrid,6, other.quest)))
alarmloot[2] = 800*/
    
  /*  }

}}}


}}}


</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
