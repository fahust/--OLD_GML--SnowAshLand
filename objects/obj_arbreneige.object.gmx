<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_arbre_neige</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>obj_environment</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
/*if room = room145 {varcrea = choose(1,2,3,4,5,6,7,8,9,10)
if varcrea = 1 {tile_add(decalssnow14, 0, 0, 1024, 678, 500, 330, 100003); }}*/
demaragecraft = 0
positive = 0
negative = 0
craft = 0

image_speed  = 0;
image_index  = round(random(image_number-1));
image_angle  = 20 - random(40);
image_xscale = 0.9 + random(0.1);
image_yscale = image_xscale;
soundbucheron = 40
if room = room145 {}else{
varcreate = choose(0,0,0,0,1)
if varcreate = 1 {
instance_create(x+lengthdir_x(random_range(10,100),random(360)),
y+lengthdir_y(random_range(100,300),random(360)),obj_branche)}
varcreate = choose(0,0,0,0,1)
if varcreate = 1 {
instance_create(x+lengthdir_x(random_range(10,100),random(360)),
y+lengthdir_y(random_range(100,300),random(360)),obj_branche2)}
varcreate = choose(0,0,0,0,1)
if varcreate = 1 {
instance_create(x+lengthdir_x(random_range(10,100),random(360)),
y+lengthdir_y(random_range(100,300),random(360)),obj_branche3)}
}
xstart1 = xstart
ystart1 = ystart


alarm[2] = 2


//si interieur 
if room != room3
{
    t = random(pi*2); // Temps
    v = 0.027 + random(0.005); // Valeur de mouvement
    d = random(360); // Direction
}


//COUPER ARBRE
loading = 0







loading = 80
time = 400
loadinglaunch = 0
colorreloadbar = c_white
statcolor0 = c_black

xcroix = 0
ycroix = 0

choixmetal = 0
name = ""

bonusperte = 100
perte = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if room = Menu {}else{
if room = room145 {
sprite_index = choose(spr_arbre_neige,spr_arbre_neige,spr_arbre_neige,spr_arbre_neige,spr_arbre_neige
,spr_feuille7,spr_arbremort,spr_arbremort2)
}else{
if global.arbreselection &lt; 4500 {global.arbreselection += 1}else{
global.arbreselection = 1}

if obj_nightcycle.arbretype[global.arbreselection] = 1 {sprite_index = spr_arbre_neige}
if obj_nightcycle.arbretype[global.arbreselection] = 2 {sprite_index = spr_feuille7}
if obj_nightcycle.arbretype[global.arbreselection] = 3 {sprite_index = spr_arbremort2}
if obj_nightcycle.arbretype[global.arbreselection] = 4 {sprite_index = spr_arbremort}
}

}

dirbuisson = random(360)
path = path_add();
if room = room145 {}else{
repeat(6){
dirbuisson += random_range(60,120)
xxplus = random_range(130,170)
nopefeuille = 0

if instance_exists(obj_chaleurflame){
feuille3nearest = instance_nearest(x+50+lengthdir_x(xxplus,dirbuisson), y+50+lengthdir_y(xxplus,dirbuisson),obj_chaleurflame)
if point_distance(feuille3nearest.x,feuille3nearest.y,x+50+lengthdir_x(xxplus,dirbuisson), y+50+lengthdir_y(xxplus,dirbuisson)) &lt; 200 {
nopefeuille = 1}}

if instance_exists(obj_feuille3){
feuille3nearest = instance_nearest(x+50+lengthdir_x(xxplus,dirbuisson), y+50+lengthdir_y(xxplus,dirbuisson),obj_feuille3)
if point_distance(feuille3nearest.x,feuille3nearest.y,x+50+lengthdir_x(xxplus,dirbuisson), y+50+lengthdir_y(xxplus,dirbuisson)) &lt; 170 {
nopefeuille = 1}}

if instance_exists(obj_feuille7){
feuille3nearest = instance_nearest(x+50+lengthdir_x(xxplus,dirbuisson), y+50+lengthdir_y(xxplus,dirbuisson),obj_feuille7)
if point_distance(feuille3nearest.x,feuille3nearest.y,x+50+lengthdir_x(xxplus,dirbuisson), y+50+lengthdir_y(xxplus,dirbuisson)) &lt; 170 {
nopefeuille = 1}}

if instance_exists(obj_feuille1){
feuille3nearest = instance_nearest(x+50+lengthdir_x(xxplus,dirbuisson), y+50+lengthdir_y(xxplus,dirbuisson),obj_feuille1)
if point_distance(feuille3nearest.x,feuille3nearest.y,x+50+lengthdir_x(xxplus,dirbuisson), y+50+lengthdir_y(xxplus,dirbuisson)) &lt; 170 {
nopefeuille = 1}}

if instance_exists(obj_feuille2){
feuille3nearest = instance_nearest(x+50+lengthdir_x(xxplus,dirbuisson), y+50+lengthdir_y(xxplus,dirbuisson),obj_feuille2)
if point_distance(feuille3nearest.x,feuille3nearest.y,x+50+lengthdir_x(xxplus,dirbuisson), y+50+lengthdir_y(xxplus,dirbuisson)) &lt; 170 {
nopefeuille = 1}}

if (mp_grid_path(global.grid, path, x, y, x+100+lengthdir_x(xxplus,dirbuisson), y+100+lengthdir_y(xxplus,dirbuisson) ,2)) &amp;&amp;
(mp_grid_path(global.grid, path, x, y, x-50+lengthdir_x(xxplus,dirbuisson), y-50+lengthdir_y(xxplus,dirbuisson) ,2)) &amp;&amp; nopefeuille = 0 {
instance_create(x+50+lengthdir_x(xxplus,dirbuisson),y+50+lengthdir_y(xxplus,dirbuisson),
obj_feuille3)
}}
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>obj_zombie.minagenow = 0
instance_create(x,y,obj_souche);
instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>time -= 4
loading -= 1

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Animation de mouvement
//if room != room2
//{


if background_vspeed[0] &gt; 0 {
y += background_vspeed[0]
ystart1 += background_vspeed[0]

if y &gt; room_height+300 {
instance_destroy();
}
}
if room = room145 {}else{
    t += v*60/room_speed if t&gt;=pi*2 t=0;
    l =  sin(t)*2;
    

    dist = point_distance(xstart,ystart,obj_controllerplayer.x,obj_controllerplayer.y)
    
    d2 = point_direction(xstart,ystart,obj_controllerplayer.x,obj_controllerplayer.y)
    
    distmax = 1000
    if dist &lt; distmax {}else{dist = distmax}
    distequi = 130 //plu il est bas plu la parallax est forte
    
    distreact = (dist/(distmax/1))
    if distreact &lt; 0.3 {distreact = 0.3}
    
    x2 = xstart1 - lengthdir_x(((dist/distequi)/distreact*1),d2);
    y2 = ystart1 - lengthdir_y(((dist/distequi)/distreact*1),d2);
    //x2 = xstart - lengthdir_x(dist/(distequi),d2);
    //x2 = xstart - lengthdir_x(dist/(distequi/(dist/(distmax))),d2);
    //y2 = ystart - lengthdir_y(dist/(distequi),d2);//}
    
    x = x2 + lengthdir_x(l*(1+obj_superwind.intensite/100),d);
    y = y2 + lengthdir_y(l*(1+obj_superwind.intensite/100),d);




if point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; 130 {
image_alpha = 0.5 }else{image_alpha = 1}






if point_distance(x,y,obj_zombie.x,obj_zombie.y) &lt; 190 {
if demaragecraft = 1 {
if craft &lt; 100 {craft +=2}else{demaragecraft = 2}
}else{
if craft &gt; 0 {craft -=2}else{demaragecraft = 1}}

/*if negative &gt; 10 {
demaragecraft = 0
positive = 0
negative = 0
}*/


//CADEAU
if positive &gt; 10 {
if negative &lt; 10 {
bonusperte -= (negative*10)
}else{
bonusperte = 1
}

alarm[1] = 1;positive = 0
boislootcut = (1*obj_bigstats.levelmine)*(bonusperte/10);
boislootcut = round(boislootcut)
if boislootcut &lt; 1 {boislootcut = 1}
obj_bigstats.levelmine += 0.001
repeat(boislootcut){scr_itempickup(232,232,round(random(99999)),0.1,0,1)}
with instance_create(obj_zombie.x,obj_zombie.y,obj_karmainfo){
  mode = 10 ;}
  }



/* var dir2 = point_direction(obj_zombie.x,obj_zombie.y,x,y);
if abs(angle_difference(dir2,obj_zombie.image_angle)) &lt;= 60 {
if obj_zombie.skinchange[7] = 4 or obj_zombie.skinchange[7] = 7 {
obj_cursor.infoall = "Tap E for chop wood"
if keyboard_check(ord("E")) {
//instance_destroy();
loadinglaunch = 1 
loading += 0.5/global.varfpsmax
}}else{
if keyboard_check(ord("E")) {

obj_cursor.infoall = "Need the right tools"}}
if loadinglaunch = 1 {
obj_zombie.arbreoufer = 1 
obj_zombie.minagenow = 1
if soundbucheron &lt;= 0 { if loading &lt; 290 {;soundbucheron = 70}//son
}else{soundbucheron -= 1}
obj_cursor.x = x
obj_cursor.y = y
obj_zombie.mouse_direction = point_direction(obj_zombie.x,obj_zombie.y,x,y)
obj_zombie.image_angle = point_direction(obj_zombie.x,obj_zombie.y,x,y)
 global.debutconvers = 1 
if alarm[0] &lt; 0 {
alarm[0] = 3
}

if loading &lt; 70 {//grosse perte
colorreloadbar = c_red//make_colour_rgb()
perte += 0.5/global.varfpsmax
}

if loading &gt; 75 &amp;&amp; loading &lt; 80 {//gain
colorreloadbar = c_green
if perte &gt; 0 {
perte -= 0.5/global.varfpsmax
}
}

if loading &gt; 80 {//petite perte
colorreloadbar = c_gray
perte += 0.1/global.varfpsmax
}
}


if time &lt; 1 {
 global.debutconvers = 0
if perte &lt; 100 {
bonusperte -= perte
}else{
bonusperte = 1
}
//CADEAU
boislootcut = (1*obj_bigstats.levelmine)*(bonusperte/10);
boislootcut = round(boislootcut)
repeat(boislootcut){scr_itempickup(232,232,round(random(99999)),0.1,0,1)}

if alarm[1] &lt; 0 {
    alarm[1] = 1
    }
    }
    }*/
   }}
   
   
   


///COUPER L ARBRE

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_epeeskinnet">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*patronvar = other.patron

if instance_exists(patronvar){
if patronvar.punchnet &gt; 15 &amp;&amp; patronvar.punchnet &lt; 30 {

if audio_is_playing(snd_axewood){}else{
audio_play_sound(snd_axewood,0,false)}
if craft &gt; 90 {positive += 2}else if craft &gt; 70 {positive += 0.1}else{positive += 0.1;negative += 0.2}
if demaragecraft = 0 {demaragecraft = 1}//craft += 10











}
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_epeeskin">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if obj_zombie.skinchange[7] = 4 or obj_zombie.skinchange[7] = 7 {


if obj_zombie.apoil_frame &gt; 24 &amp;&amp; obj_zombie.apoil_frame &lt; 32 {

if audio_is_playing(snd_axewood){}else{
audio_play_sound(snd_axewood,0,false)}
if craft &gt; 90 {positive += 2}else if craft &gt; 70 {positive += 1}else{positive += 1;negative += 2}
if demaragecraft = 0 {demaragecraft = 1}//craft += 10






/*if bois &gt; 4 &amp;&amp; cuivre &gt; 1 {obj_zombie.avanceokcut = 0
instance_create(x,y,obj_firecreate)
with(obj_lootobj){if id = other.id{}else{if itemloot = 229 or itemloot = 232 {
if point_distance(x,y,other.x,other.y) &lt; 30 {instance_destroy();}}}}
instance_destroy();
}*/




}
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_constructfloormap">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if other.dejaposer = 1 {
instance_destroy();}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.arbreselection = 0
instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.arbreselection = 1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_self();
if room = room145 {}else{

x3 = lengthdir_x(((dist/distequi)/distreact/1.5),d2);
y3 = lengthdir_y(((dist/distequi)/distreact/1.5),d2);
    
draw_sprite_ext(sprite_index,image_index,
(xstart1+ lengthdir_x(l*(1+obj_superwind.intensite/100),d))-x3
,(ystart1+ lengthdir_y(l*(1+obj_superwind.intensite/100),d))-y3
,0.75,0.75,image_angle+13,c_white,image_alpha);

draw_sprite_ext(sprite_index,image_index,
xstart1+ lengthdir_x(l*(1+obj_superwind.intensite/100),d)
,ystart1+ lengthdir_y(l*(1+obj_superwind.intensite/100),d)
,0.5,0.5,image_angle,c_white,image_alpha);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>-1</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.100000001490116</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>-1</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
